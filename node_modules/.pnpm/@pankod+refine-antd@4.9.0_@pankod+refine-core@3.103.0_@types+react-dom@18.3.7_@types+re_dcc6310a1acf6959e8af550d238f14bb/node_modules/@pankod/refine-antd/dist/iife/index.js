(()=>{var Is=Object.create;var zo=Object.defineProperty;var As=Object.getOwnPropertyDescriptor;var Vs=Object.getOwnPropertyNames;var $s=Object.getPrototypeOf,Hs=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Ko=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ws=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Vs(t))!Hs.call(e,a)&&a!==r&&zo(e,a,{get:()=>t[a],enumerable:!(o=As(t,a))||o.enumerable});return e};var x=(e,t,r)=>(r=e!=null?Is($s(e)):{},Ws(t||!e||!e.__esModule?zo(r,"default",{value:e,enumerable:!0}):r,e));var I=Ko((kd,Eo)=>{var Qs=Object.create,xr=Object.defineProperty,zs=Object.getOwnPropertyDescriptor,Ks=Object.getOwnPropertyNames,js=Object.getPrototypeOf,Gs=Object.prototype.hasOwnProperty,_s=(e,t)=>{for(var r in t)xr(e,r,{get:t[r],enumerable:!0})},Tr=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ks(t))!Gs.call(e,a)&&a!==r&&xr(e,a,{get:()=>t[a],enumerable:!(o=zs(t,a))||o.enumerable});return e},Ys=(e,t,r)=>(Tr(e,t,"default"),r&&Tr(r,t,"default")),L=(e,t,r)=>(r=e!=null?Qs(js(e)):{},Tr(t||!e||!e.__esModule?xr(r,"default",{value:e,enumerable:!0}):r,e)),Zs=e=>Tr(xr({},"__esModule",{value:!0}),e),mo={};_s(mo,{AuthPage:()=>du,Authenticated:()=>Eu,CanAccess:()=>Su,ErrorComponent:()=>nu,GitHubBanner:()=>wu,LayoutWrapper:()=>Cu,LoginPage:()=>Xa,ReadyPage:()=>en,Refine:()=>Tu,RouteChangeHandler:()=>rn,UndoableQueue:()=>tn,createTreeView:()=>ka,file2Base64:()=>Bi,getDefaultFilter:()=>Li,getDefaultSortOrder:()=>Di,getNextPageParam:()=>Na,getPreviousPageParam:()=>Ua,handleUseParams:()=>ki,importCSVMapper:()=>Fa,parseTableParams:()=>fo,parseTableParamsFromQuery:()=>wi,routeGenerator:()=>vo,setInitialFilters:()=>io,setInitialSorters:()=>lo,stringifyTableParams:()=>no,unionFilters:()=>rr,unionSorters:()=>so,useApiUrl:()=>Yi,useAuthenticated:()=>Sa,useBreadcrumb:()=>ou,useCan:()=>Za,useCanWithoutCache:()=>Hl,useCancelNotification:()=>It,useCheckError:()=>Be,useCreate:()=>ho,useCreateMany:()=>Aa,useCustom:()=>Ji,useCustomMutation:()=>el,useDataProvider:()=>he,useDelete:()=>Qi,useDeleteMany:()=>_i,useExport:()=>wl,useForgotPassword:()=>xa,useForm:()=>Dl,useGetIdentity:()=>Pa,useGetLocale:()=>bl,useHandleNotification:()=>Fe,useImport:()=>Rl,useInfiniteList:()=>al,useInvalidate:()=>St,useIsExistAuthentication:()=>Ci,useList:()=>yo,useLiveMode:()=>Ha,useLog:()=>Lr,useLogList:()=>Jl,useLogin:()=>co,useLogout:()=>Ta,useMany:()=>qa,useMenu:()=>au,useModal:()=>Nl,useMutationMode:()=>Vt,useNavigation:()=>Ae,useNotification:()=>lt,useOne:()=>bo,usePermissions:()=>ri,usePublish:()=>Et,useRedirectionAfterSubmission:()=>Ga,useRefineContext:()=>Fr,useRegister:()=>Ca,useResource:()=>ye,useResourceSubscription:()=>nr,useResourceWithRoute:()=>Je,useRouterContext:()=>ue,useSelect:()=>zl,useSetLocale:()=>yl,useShow:()=>Bl,useSubscription:()=>ll,useSyncWithLocation:()=>ja,useTable:()=>Gl,useTitle:()=>xl,useTranslate:()=>J,useUpdate:()=>Ia,useUpdateMany:()=>ji,useUpdatePassword:()=>Ea,useWarnAboutChange:()=>Co,userFriendlyResourceName:()=>go});Eo.exports=Zs(mo);Ys(mo,l("@tanstack/react-query"),Eo.exports);var Ct=L(l("react")),Js=l("react"),ha=L(l("react")),Xs=l("@tanstack/react-query"),Se=ha.default.createContext({}),ei=({children:e,isProvided:t,...r})=>{let{replace:o}=Ae(),a=(0,Xs.useQueryClient)(),n=()=>{a.invalidateQueries(["useAuthenticated"]),a.invalidateQueries(["getUserIdentity"]),a.invalidateQueries(["usePermissions"])},s=async v=>{var y;try{let p=await((y=r.login)==null?void 0:y.call(r,v));return n(),Promise.resolve(p)}catch(p){return Promise.reject(p)}},m=async v=>{var y;try{let p=await((y=r.register)==null?void 0:y.call(r,v));return n(),Promise.resolve(p)}catch(p){return Promise.reject(p)}},d=async v=>{var y;try{let p=await((y=r.logout)==null?void 0:y.call(r,v));return n(),Promise.resolve(p)}catch(p){return Promise.reject(p)}},u=async v=>{var y;try{return await((y=r.checkAuth)==null?void 0:y.call(r,v)),Promise.resolve()}catch(p){return p!=null&&p.redirectPath&&o(p.redirectPath),Promise.reject(p)}};return ha.default.createElement(Se.Provider,{value:{...r,login:s,logout:d,checkAuth:u,register:m,isProvided:t}},e)},ti=l("@tanstack/react-query"),ri=e=>{let{getPermissions:t}=(0,Js.useContext)(Se);return(0,ti.useQuery)(["usePermissions"],t!=null?t:()=>Promise.resolve(void 0),{enabled:!!t,...e})},oi=L(l("react")),ai=l("@tanstack/react-query"),Pa=({queryOptions:e}={})=>{let{getUserIdentity:t}=oi.default.useContext(Se);return(0,ai.useQuery)(["getUserIdentity"],t!=null?t:()=>Promise.resolve({}),{enabled:!!t,retry:!1,...e})},ni=L(l("react")),si=l("@tanstack/react-query"),Ta=({mutationOptions:e}={})=>{let{push:t}=Ae(),{logout:r}=ni.default.useContext(Se),{open:o}=lt();return(0,si.useMutation)(["useLogout"],r,{onSuccess:(a,n)=>{var s;let m=(s=n==null?void 0:n.redirectPath)!=null?s:a;if(m!==!1){if(m){t(m);return}t("/login")}},onError:a=>{o==null||o({key:"useLogout-error",type:"error",message:(a==null?void 0:a.name)||"Logout Error",description:(a==null?void 0:a.message)||"Something went wrong during logout"})},...e})},ii=L(l("react")),li=l("@tanstack/react-query"),ui=L(l("qs")),co=({mutationOptions:e}={})=>{let{replace:t}=Ae(),{login:r}=ii.default.useContext(Se),{useLocation:o}=ue(),{search:a}=o(),{close:n,open:s}=lt(),{to:m}=ui.default.parse(a,{ignoreQueryPrefix:!0});return(0,li.useMutation)(["useLogin"],r,{onSuccess:d=>{if(m)return t(m);d!==!1&&t(typeof d=="string"?d:"/"),n==null||n("login-error")},onError:d=>{s==null||s({message:(d==null?void 0:d.name)||"Login Error",description:(d==null?void 0:d.message)||"Invalid credentials",key:"login-error",type:"error"})},...e})},di=L(l("react")),mi=l("@tanstack/react-query"),Ca=({mutationOptions:e}={})=>{let{replace:t}=Ae(),{register:r}=di.default.useContext(Se),{close:o,open:a}=lt();return(0,mi.useMutation)(["useRegister"],r,{onSuccess:n=>{n!==!1&&t(n||"/"),o==null||o("register-error")},onError:n=>{a==null||a({message:(n==null?void 0:n.name)||"Register Error",description:(n==null?void 0:n.message)||"Error while registering",key:"register-error",type:"error"})},...e})},ci=L(l("react")),pi=l("@tanstack/react-query"),xa=({mutationOptions:e}={})=>{let{replace:t}=Ae(),{forgotPassword:r}=ci.default.useContext(Se),{close:o,open:a}=lt();return(0,pi.useMutation)(["useForgotPassword"],r,{onSuccess:n=>{n!==!1&&n&&t(n),o==null||o("forgot-password-error")},onError:n=>{a==null||a({message:(n==null?void 0:n.name)||"Forgot Password Error",description:(n==null?void 0:n.message)||"Error while resetting password",key:"forgot-password-error",type:"error"})},...e})},fi=L(l("react")),gi=l("@tanstack/react-query"),vi=L(l("qs")),Ea=({mutationOptions:e}={})=>{let{replace:t}=Ae(),{updatePassword:r}=fi.default.useContext(Se),{close:o,open:a}=lt(),{useLocation:n}=ue(),{search:s}=n(),m=vi.default.parse(s,{ignoreQueryPrefix:!0});return(0,gi.useMutation)(["useUpdatePassword"],async d=>r==null?void 0:r({...m,...d}),{onSuccess:d=>{d!==!1&&d&&t(d),o==null||o("update-password-error")},onError:d=>{a==null||a({message:(d==null?void 0:d.name)||"Update Password Error",description:(d==null?void 0:d.message)||"Error while updating password",key:"update-password-error",type:"error"})},...e})},yi=l("react"),bi=l("@tanstack/react-query"),Sa=e=>{let{checkAuth:t}=(0,yi.useContext)(Se);return(0,bi.useQuery)(["useAuthenticated",e],async()=>{var r;return(r=await(t==null?void 0:t(e)))!=null?r:{}},{retry:!1})},hi=L(l("react")),Pi=l("@tanstack/react-query"),Be=()=>{let{checkError:e}=hi.default.useContext(Se),{mutate:t}=Ta();return(0,Pi.useMutation)(["useCheckError"],e,{onError:r=>{t({redirectPath:r})}})},Ti=l("react"),Ci=()=>{let{isProvided:e}=(0,Ti.useContext)(Se);return e||!1},xi=l("@tanstack/react-query"),Xr=e=>e/1e3,Ei=L(l("lodash/zip")),Si=L(l("lodash/fromPairs")),Fa=(e,t=r=>r)=>{let[r,...o]=e;return o.map(a=>(0,Si.default)((0,Ei.default)(r,a))).map((a,n,s)=>t.call(void 0,a,n,s))},jo=L(l("pluralize")),po=L(l("qs")),wa=L(l("lodash/unionWith")),Da=L(l("lodash/differenceWith")),Fi=L(l("warn-once")),fo=e=>{let{current:t,pageSize:r,sorter:o,filters:a}=po.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:o!=null?o:[],parsedFilters:a!=null?a:[]}},wi=e=>{let t=po.default.stringify(e);return fo(`/${t}`)},no=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:o,filters:a,...n}=e;return po.default.stringify({...n,...r||{},sorter:o,filters:a},t)},La=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,Ba=(e,t)=>e.field==t.field,rr=(e,t,r=[])=>(t.filter(o=>(o.operator==="or"||o.operator==="and")&&!o.key).length>1&&(0,Fi.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,wa.default)(e,t,r,La).filter(o=>o.value!==void 0&&o.value!==null&&(o.operator!=="or"||o.operator==="or"&&o.value.length!==0)&&(o.operator!=="and"||o.operator==="and"&&o.value.length!==0))),so=(e,t)=>(0,wa.default)(e,t,Ba).filter(r=>r.order!==void 0&&r.order!==null),io=(e,t)=>[...(0,Da.default)(t,e,La),...e],lo=(e,t)=>[...(0,Da.default)(t,e,Ba),...e],Di=(e,t)=>{if(!t)return;let r=t.find(o=>o.field===e);if(r)return r.order},Li=(e,t,r="eq")=>{let o=t==null?void 0:t.find(a=>{if(a.operator!=="or"&&a.operator!=="and"&&"field"in a){let{operator:n,field:s}=a;return s===e&&n===r}});if(o)return o.value||[]},Bi=e=>new Promise((t,r)=>{let o=new FileReader,a=()=>{o.result&&(o.removeEventListener("load",a,!1),t(o.result))};o.addEventListener("load",a,!1),o.readAsDataURL(e.originFileObj),o.onerror=n=>(o.removeEventListener("load",a,!1),r(n))}),go=(e="",t)=>{let r=or(e);return t==="singular"?jo.default.singular(r):jo.default.plural(r)},ki=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,ke=(e,t,r)=>{let o=t||"default",a={all:[o],resourceAll:[o,e||""],list:n=>[...a.resourceAll,"list",{...n,...r}],many:n=>[...a.resourceAll,"getMany",n&&n.map(String),{...r}].filter(s=>s!==void 0),detail:n=>[...a.resourceAll,"detail",n==null?void 0:n.toString(),{...r}],logList:n=>["logList",e,n,r].filter(s=>s!==void 0)};return a},Mi=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),Ri=e=>t=>e.parentName?t.name===e.parentName:!1,vo=(e,t)=>{var r,o,a,n,s;let m,d=(o=(r=e.options)==null?void 0:r.route)!=null?o:e.name;if(e.parentName){let u=t.find(Ri(e));u!=null&&u.parentName?m=`${vo(u,t)}/${d}`:e.parentName&&(m=`${(s=(n=(a=u==null?void 0:u.options)==null?void 0:a.route)!=null?n:u==null?void 0:u.name)!=null?s:e.parentName}/${d}`)}else m=d;return m},ka=e=>{var t,r,o;let a=[],n={},s={},m,d;for(let u=0;u<e.length;u++){m=e[u];let v=(o=(r=m.route)!=null?r:(t=m.options)==null?void 0:t.route)!=null?o:"";n[v]=m,n[v].children=[],s[m.name]=m,s[m.name].children=[]}for(let u in n)n.hasOwnProperty(u)&&(d=n[u],d.parentName&&s[d.parentName]?s[d.parentName].children.push(d):a.push(d));return a},or=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),Ma=L(l("react")),Ni=L(l("react")),Ra=({children:e})=>Ni.default.createElement("div",null,e),Ze={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},it=Ma.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Ra,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ze}),Ui=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,undoableTimeout:a,children:n,DashboardPage:s,Title:m,Layout:d=Ra,Header:u,Sider:v,Footer:y,OffLayoutArea:p,LoginPage:c=Xa,catchAll:g,liveMode:i="off",onLiveEvent:b,options:f})=>Ma.default.createElement(it.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,Title:m,undoableTimeout:a,Layout:d,Header:u,Sider:v,Footer:y,OffLayoutArea:p,DashboardPage:s,LoginPage:c,catchAll:g,liveMode:i,onLiveEvent:b,options:f}},n),qi=({options:e,disableTelemetry:t,liveMode:r,mutationMode:o,reactQueryClientConfig:a,reactQueryDevtoolConfig:n,syncWithLocation:s,undoableTimeout:m,warnWhenUnsavedChanges:d}={})=>{var u,v,y,p,c,g,i,b,f,h,T,P,C,E,S,F,w,M,B,U,N,k,q,R;let Q={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(v=(u=e==null?void 0:e.mutationMode)!=null?u:o)!=null?v:Ze.mutationMode,undoableTimeout:(p=(y=e==null?void 0:e.undoableTimeout)!=null?y:m)!=null?p:Ze.undoableTimeout,syncWithLocation:(g=(c=e==null?void 0:e.syncWithLocation)!=null?c:s)!=null?g:Ze.syncWithLocation,warnWhenUnsavedChanges:(b=(i=e==null?void 0:e.warnWhenUnsavedChanges)!=null?i:d)!=null?b:Ze.warnWhenUnsavedChanges,liveMode:(h=(f=e==null?void 0:e.liveMode)!=null?f:r)!=null?h:Ze.liveMode,redirect:{afterCreate:(P=(T=e==null?void 0:e.redirect)==null?void 0:T.afterCreate)!=null?P:Ze.redirect.afterCreate,afterClone:(E=(C=e==null?void 0:e.redirect)==null?void 0:C.afterClone)!=null?E:Ze.redirect.afterClone,afterEdit:(F=(S=e==null?void 0:e.redirect)==null?void 0:S.afterEdit)!=null?F:Ze.redirect.afterEdit}},$=(M=(w=e==null?void 0:e.disableTelemetry)!=null?w:t)!=null?M:!1,Y={clientConfig:(N=(U=(B=e==null?void 0:e.reactQuery)==null?void 0:B.clientConfig)!=null?U:a)!=null?N:{},devtoolConfig:(R=(q=(k=e==null?void 0:e.reactQuery)==null?void 0:k.devtoolConfig)!=null?q:n)!=null?R:{}};return{optionsWithDefaults:Q,disableTelemetryWithDefault:$,reactQueryWithDefaults:Y}},Oi=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit}},Go=async(e,t,r)=>{let o=[];for(let[a,n]of e.entries())try{let s=await n();o.push(t(s,a))}catch(s){o.push(r(s,a))}return o},H=(e,t,r)=>{var o;if(t)return t;let a=r==null?void 0:r.find(n=>n.name===e);return(o=a==null?void 0:a.options)!=null&&o.dataProviderName?a.options.dataProviderName:"default"},Er=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),Na=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let o=(t==null?void 0:t.current)||1,a=(t==null?void 0:t.pageSize)||10,n=Math.ceil((e.total||0)/a);return o<n?Number(o)+1:void 0},Ua=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let o=(t==null?void 0:t.current)||1;return o===1?void 0:o-1},yo=({resource:e,config:t,queryOptions:r,successNotification:o,errorNotification:a,metaData:n,liveMode:s,onLiveEvent:m,liveParams:d,dataProviderName:u})=>{let{resources:v}=ye(),y=he(),p=ke(e,H(e,u,v),n),{getList:c}=y(H(e,u,v)),g=J(),{mutate:i}=Be(),b=Fe(),f=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return nr({resource:e,types:["*"],params:{metaData:n,pagination:t==null?void 0:t.pagination,hasPagination:t==null?void 0:t.hasPagination,sort:t==null?void 0:t.sort,filters:t==null?void 0:t.filters,subscriptionType:"useList",...d},channel:`resources/${e}`,enabled:f,liveMode:s,onLiveEvent:m}),(0,xi.useQuery)(p.list(t),({queryKey:h,pageParam:T,signal:P})=>{let{hasPagination:C,...E}=t||{};return c({resource:e,...E,hasPagination:C,metaData:{...n,queryContext:{queryKey:h,pageParam:T,signal:P}}})},{...r,onSuccess:h=>{var T;(T=r==null?void 0:r.onSuccess)==null||T.call(r,h);let P=typeof o=="function"?o(h,{metaData:n,config:t},e):o;b(P)},onError:h=>{var T;i(h),(T=r==null?void 0:r.onError)==null||T.call(r,h);let P=typeof a=="function"?a(h,{metaData:n,config:t},e):a;b(P,{key:`${e}-useList-notification`,message:g("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})}})},Ii=l("@tanstack/react-query"),bo=({resource:e,id:t,queryOptions:r,successNotification:o,errorNotification:a,metaData:n,liveMode:s,onLiveEvent:m,liveParams:d,dataProviderName:u})=>{let{resources:v}=ye(),y=he(),p=ke(e,H(e,u,v),n),{getOne:c}=y(H(e,u,v)),g=J(),{mutate:i}=Be(),b=Fe();return nr({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,metaData:n,subscriptionType:"useOne",...d},enabled:r==null?void 0:r.enabled,liveMode:s,onLiveEvent:m}),(0,Ii.useQuery)(p.detail(t),({queryKey:f,pageParam:h,signal:T})=>c({resource:e,id:t,metaData:{...n,queryContext:{queryKey:f,pageParam:h,signal:T}}}),{...r,onSuccess:f=>{var h;(h=r==null?void 0:r.onSuccess)==null||h.call(r,f);let T=typeof o=="function"?o(f,{id:t,metaData:n},e):o;b(T)},onError:f=>{var h;i(f),(h=r==null?void 0:r.onError)==null||h.call(r,f);let T=typeof a=="function"?a(f,{id:t,metaData:n},e):a;b(T,{key:`${t}-${e}-getOne-notification`,message:g("notifications.error",{statusCode:f.statusCode},`Error (status code: ${f.statusCode})`),description:f.message,type:"error"})}})},Ai=l("@tanstack/react-query"),qa=({resource:e,ids:t,queryOptions:r,successNotification:o,errorNotification:a,metaData:n,liveMode:s,onLiveEvent:m,liveParams:d,dataProviderName:u})=>{let{resources:v}=ye(),y=he(),p=ke(e,H(e,u,v),n),{getMany:c,getOne:g}=y(H(e,u,v)),i=J(),{mutate:b}=Be(),f=Fe(),h=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return nr({resource:e,types:["*"],params:{ids:t!=null?t:[],metaData:n,subscriptionType:"useMany",...d},channel:`resources/${e}`,enabled:h,liveMode:s,onLiveEvent:m}),(0,Ai.useQuery)(p.many(t),({queryKey:T,pageParam:P,signal:C})=>c?c({resource:e,ids:t,metaData:{...n,queryContext:{queryKey:T,pageParam:P,signal:C}}}):Er(t.map(E=>g({resource:e,id:E,metaData:{...n,queryContext:{queryKey:T,pageParam:P,signal:C}}}))),{...r,onSuccess:T=>{var P;(P=r==null?void 0:r.onSuccess)==null||P.call(r,T);let C=typeof o=="function"?o(T,t,e):o;f(C)},onError:T=>{var P;b(T),(P=r==null?void 0:r.onError)==null||P.call(r,T);let C=typeof a=="function"?a(T,t,e):a;f(C,{key:`${t[0]}-${e}-getMany-notification`,message:i("notifications.error",{statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})}})},_o=l("@tanstack/react-query"),Pr=L(l("react")),eo=L(l("lodash/isEqual")),Oa=Pr.default.createContext({notifications:[],notificationDispatch:()=>!1}),Vi=[],$i=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,eo.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,eo.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,eo.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},Hi=({children:e})=>{let[t,r]=(0,Pr.useReducer)($i,Vi),o={notifications:t,notificationDispatch:r};return Pr.default.createElement(Oa.Provider,{value:o},e,typeof window<"u"&&t.map(a=>Pr.default.createElement(tn,{key:`${a.id}-${a.resource}-queue`,notification:a})))},Yo=L(l("pluralize")),Ia=({mutationOptions:e}={})=>{let{resources:t}=ye(),r=(0,_o.useQueryClient)(),o=he(),{mutationMode:a,undoableTimeout:n}=Vt(),s=J(),{mutate:m}=Be(),d=Et(),{log:u}=Lr(),{notificationDispatch:v}=It(),y=Fe(),p=St();return(0,_o.useMutation)(({id:c,values:g,resource:i,mutationMode:b,undoableTimeout:f,onCancel:h,metaData:T,dataProviderName:P})=>{let C=b!=null?b:a,E=f!=null?f:n;return C!=="undoable"?o(H(i,P,t)).update({resource:i,id:c,variables:g,metaData:T}):new Promise((S,F)=>{let w=()=>{o(H(i,P,t)).update({resource:i,id:c,variables:g,metaData:T}).then(B=>S(B)).catch(B=>F(B))},M=()=>{F({message:"mutationCancelled"})};h&&h(M),v({type:"ADD",payload:{id:c,resource:i,cancelMutation:M,doMutation:w,seconds:E,isSilent:!!h}})})},{onMutate:async({resource:c,id:g,mutationMode:i,values:b,dataProviderName:f})=>{let h=ke(c,H(c,f,t)),T=r.getQueriesData(h.resourceAll),P=i!=null?i:a;return await r.cancelQueries(h.resourceAll,void 0,{silent:!0}),P!=="pessimistic"&&(r.setQueriesData(h.list(),C=>{if(!C)return null;let E=C.data.map(S=>{var F;return((F=S.id)==null?void 0:F.toString())===(g==null?void 0:g.toString())?{id:g,...S,...b}:S});return{...C,data:E}}),r.setQueriesData(h.many(),C=>{if(!C)return null;let E=C.data.map(S=>{var F;return((F=S.id)==null?void 0:F.toString())===(g==null?void 0:g.toString())&&(S={id:g,...S,...b}),S});return{...C,data:E}}),r.setQueriesData(h.detail(g),C=>C?{...C,data:{...C.data,...b}}:null)),{previousQueries:T,queryKey:h}},onSettled:(c,g,{id:i,resource:b,dataProviderName:f,invalidates:h=["list","many","detail"]})=>{p({resource:b,dataProviderName:H(b,f,t),invalidates:h,id:i}),v({type:"REMOVE",payload:{id:i,resource:b}})},onSuccess:(c,{id:g,resource:i,successNotification:b,dataProviderName:f,values:h,metaData:T},P)=>{var C;let E=Yo.default.singular(i),S=typeof b=="function"?b(c,{id:g,values:h},i):b;y(S,{key:`${g}-${i}-notification`,description:s("notifications.success","Successful"),message:s("notifications.editSuccess",{resource:s(`${i}.${i}`,E)},`Successfully updated ${E}`),type:"success"}),d==null||d({channel:`resources/${i}`,type:"updated",payload:{ids:(C=c.data)!=null&&C.id?[c.data.id]:void 0},date:new Date});let F;if(P){let N=r.getQueryData(P.queryKey.detail(g));F=Object.keys(h).reduce((k,q)=>{var R;return k[q]=(R=N==null?void 0:N.data)==null?void 0:R[q],k},{})}let{fields:w,operation:M,variables:B,...U}=T||{};u==null||u.mutate({action:"update",resource:i,data:h,previousData:F,meta:{id:g,dataProviderName:H(i,f,t),...U}})},onError:(c,{id:g,resource:i,errorNotification:b,values:f},h)=>{if(h)for(let T of h.previousQueries)r.setQueryData(T[0],T[1]);if(c.message!=="mutationCancelled"){m==null||m(c);let T=Yo.default.singular(i),P=typeof b=="function"?b(c,{id:g,values:f},i):b;y(P,{key:`${g}-${i}-notification`,message:s("notifications.editError",{resource:s(`${i}.${i}`,T),statusCode:c.statusCode},`Error when updating ${T} (status code: ${c.statusCode})`),description:c.message,type:"error"})}},...e})},Wi=l("@tanstack/react-query"),Zo=L(l("pluralize")),ho=({mutationOptions:e}={})=>{let{mutate:t}=Be(),r=he(),o=St(),{resources:a}=ye(),n=J(),s=Et(),{log:m}=Lr(),d=Fe();return(0,Wi.useMutation)(({resource:u,values:v,metaData:y,dataProviderName:p})=>r(H(u,p,a)).create({resource:u,variables:v,metaData:y}),{onSuccess:(u,{resource:v,successNotification:y,dataProviderName:p,invalidates:c=["list","many"],values:g,metaData:i})=>{var b,f,h;let T=Zo.default.singular(v),P=typeof y=="function"?y(u,g,v):y;d(P,{key:`create-${v}-notification`,message:n("notifications.createSuccess",{resource:n(`${v}.${v}`,T)},`Successfully created ${T}`),description:n("notifications.success","Success"),type:"success"}),o({resource:v,dataProviderName:H(v,p,a),invalidates:c}),s==null||s({channel:`resources/${v}`,type:"created",payload:{ids:(b=u==null?void 0:u.data)!=null&&b.id?[u.data.id]:void 0},date:new Date});let{fields:C,operation:E,variables:S,...F}=i||{};m==null||m.mutate({action:"create",resource:v,data:g,meta:{dataProviderName:H(v,p,a),id:(h=(f=u==null?void 0:u.data)==null?void 0:f.id)!=null?h:void 0,...F}})},onError:(u,{resource:v,errorNotification:y,values:p})=>{t(u);let c=Zo.default.singular(v),g=typeof y=="function"?y(u,p,v):y;d(g,{key:`create-${v}-notification`,description:u.message,message:n("notifications.createError",{resource:n(`${v}.${v}`,c),statusCode:u.statusCode},`There was an error creating ${c} (status code: ${u.statusCode})`),type:"error"})},...e})},Jo=l("@tanstack/react-query"),Xo=L(l("pluralize")),Qi=({mutationOptions:e}={})=>{let{mutate:t}=Be(),r=he(),{resources:o}=ye(),a=(0,Jo.useQueryClient)(),{mutationMode:n,undoableTimeout:s}=Vt(),{notificationDispatch:m}=It(),d=J(),u=Et(),{log:v}=Lr(),y=Fe(),p=St();return(0,Jo.useMutation)(({id:c,mutationMode:g,undoableTimeout:i,resource:b,onCancel:f,metaData:h,dataProviderName:T,values:P})=>{let C=g!=null?g:n,E=i!=null?i:s;return C!=="undoable"?r(H(b,T,o)).deleteOne({resource:b,id:c,metaData:h,variables:P}):new Promise((S,F)=>{let w=()=>{r(H(b,T,o)).deleteOne({resource:b,id:c,metaData:h,variables:P}).then(B=>S(B)).catch(B=>F(B))},M=()=>{F({message:"mutationCancelled"})};f&&f(M),m({type:"ADD",payload:{id:c,resource:b,cancelMutation:M,doMutation:w,seconds:E,isSilent:!!f}})})},{onMutate:async({id:c,resource:g,mutationMode:i,dataProviderName:b})=>{let f=ke(g,H(g,b,o)),h=i!=null?i:n;await a.cancelQueries(f.resourceAll,void 0,{silent:!0});let T=a.getQueriesData(f.resourceAll);return h!=="pessimistic"&&(a.setQueriesData(f.list(),P=>P?{data:P.data.filter(C=>{var E;return((E=C.id)==null?void 0:E.toString())!==c.toString()}),total:P.total-1}:null),a.setQueriesData(f.many(),P=>{if(!P)return null;let C=P.data.filter(E=>{var S;return((S=E.id)==null?void 0:S.toString())!==(c==null?void 0:c.toString())});return{...P,data:C}})),{previousQueries:T,queryKey:f}},onSettled:(c,g,{id:i,resource:b,dataProviderName:f,invalidates:h=["list","many"]})=>{p({resource:b,dataProviderName:H(b,f,o),invalidates:h}),m({type:"REMOVE",payload:{id:i,resource:b}})},onSuccess:(c,{id:g,resource:i,successNotification:b,dataProviderName:f,metaData:h},T)=>{let P=Xo.default.singular(i!=null?i:"");a.removeQueries(T==null?void 0:T.queryKey.detail(g));let C=typeof b=="function"?b(c,g,i):b;y(C,{key:`${g}-${i}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${i}.${i}`,P)},`Successfully deleted a ${P}`),type:"success"}),u==null||u({channel:`resources/${i}`,type:"deleted",payload:{ids:g?[g]:[]},date:new Date});let{fields:E,operation:S,variables:F,...w}=h||{};v==null||v.mutate({action:"delete",resource:i,meta:{id:g,dataProviderName:H(i,f,o),...w}}),a.removeQueries(T==null?void 0:T.queryKey.detail(g))},onError:(c,{id:g,resource:i,errorNotification:b},f)=>{if(f)for(let h of f.previousQueries)a.setQueryData(h[0],h[1]);if(c.message!=="mutationCancelled"){t(c);let h=Xo.default.singular(i!=null?i:""),T=typeof b=="function"?b(c,g,i):b;y(T,{key:`${g}-${i}-notification`,message:d("notifications.deleteError",{resource:h,statusCode:c.statusCode},`Error (status code: ${c.statusCode})`),description:c.message,type:"error"})}},...e})},zi=l("@tanstack/react-query"),Ki=L(l("pluralize")),Aa=({mutationOptions:e}={})=>{let t=he(),{resources:r}=ye(),o=J(),a=Et(),n=Fe(),s=St();return(0,zi.useMutation)(({resource:m,values:d,metaData:u,dataProviderName:v})=>{let y=t(H(m,v,r));return y.createMany?y.createMany({resource:m,variables:d,metaData:u}):Er(d.map(p=>y.create({resource:m,variables:p,metaData:u})))},{onSuccess:(m,{resource:d,successNotification:u,dataProviderName:v,invalidates:y=["list","many"],values:p})=>{let c=Ki.default.plural(d),g=typeof u=="function"?u(m,p,d):u;n(g,{key:`createMany-${d}-notification`,message:o("notifications.createSuccess",{resource:o(`${d}.${d}`,d)},`Successfully created ${c}`),description:o("notifications.success","Success"),type:"success"}),s({resource:d,dataProviderName:H(d,v,r),invalidates:y});let i=m==null?void 0:m.data.filter(b=>(b==null?void 0:b.id)!==void 0).map(b=>b.id);a==null||a({channel:`resources/${d}`,type:"created",payload:{ids:i},date:new Date})},onError:(m,{resource:d,errorNotification:u,values:v})=>{let y=typeof u=="function"?u(m,v,d):u;n(y,{key:`createMany-${d}-notification`,description:m.message,message:o("notifications.createError",{resource:o(`${d}.${d}`,d),statusCode:m.statusCode},`There was an error creating ${d} (status code: ${m.statusCode}`),type:"error"})},...e})},ea=l("@tanstack/react-query"),ta=L(l("pluralize")),ji=({mutationOptions:e}={})=>{let{resources:t}=ye(),r=(0,ea.useQueryClient)(),o=he(),a=J(),{mutationMode:n,undoableTimeout:s}=Vt(),{mutate:m}=Be(),{notificationDispatch:d}=It(),u=Et(),v=Fe(),y=St();return(0,ea.useMutation)(({ids:p,values:c,resource:g,onCancel:i,mutationMode:b,undoableTimeout:f,metaData:h,dataProviderName:T})=>{let P=b!=null?b:n,C=f!=null?f:s,E=o(H(g,T,t)),S=()=>E.updateMany?E.updateMany({resource:g,ids:p,variables:c,metaData:h}):Er(p.map(F=>E.update({resource:g,id:F,variables:c,metaData:h})));return P!=="undoable"?S():new Promise((F,w)=>{let M=()=>{S().then(U=>F(U)).catch(U=>w(U))},B=()=>{w({message:"mutationCancelled"})};i&&i(B),d({type:"ADD",payload:{id:p,resource:g,cancelMutation:B,doMutation:M,seconds:C,isSilent:!!i}})})},{onMutate:async({resource:p,ids:c,values:g,mutationMode:i,dataProviderName:b,metaData:f})=>{let h=ke(p,H(p,b,t),f),T=i!=null?i:n;await r.cancelQueries(h.resourceAll,void 0,{silent:!0});let P=r.getQueriesData(h.resourceAll);if(T!=="pessimistic"){r.setQueriesData(h.list(),C=>{if(!C)return null;let E=C.data.map(S=>S.id!==void 0&&c.filter(F=>F!==void 0).map(String).includes(S.id.toString())?{...S,...g}:S);return{...C,data:E}}),r.setQueriesData(h.many(),C=>{if(!C)return null;let E=C.data.map(S=>S.id!==void 0&&c.filter(F=>F!==void 0).map(String).includes(S.id.toString())?{...S,...g}:S);return{...C,data:E}});for(let C of c)r.setQueriesData(h.detail(C),E=>{if(!E)return null;let S={...E.data,...g};return{...E,data:S}})}return{previousQueries:P,queryKey:h}},onSettled:(p,c,{ids:g,resource:i,dataProviderName:b})=>{y({resource:i,invalidates:["list","many"],dataProviderName:H(i,b,t)}),g.forEach(f=>y({resource:i,invalidates:["detail"],dataProviderName:H(i,b,t),id:f})),d({type:"REMOVE",payload:{id:g,resource:i}})},onSuccess:(p,{ids:c,resource:g,successNotification:i,values:b})=>{let f=ta.default.singular(g),h=typeof i=="function"?i(p,{ids:c,values:b},g):i;v(h,{key:`${c}-${g}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${g}.${g}`,g)},`Successfully updated ${f}`),type:"success"}),u==null||u({channel:`resources/${g}`,type:"updated",payload:{ids:c.map(String)},date:new Date})},onError:(p,{ids:c,resource:g,errorNotification:i,values:b},f)=>{if(f)for(let h of f.previousQueries)r.setQueryData(h[0],h[1]);if(p.message!=="mutationCancelled"){m==null||m(p);let h=ta.default.singular(g),T=typeof i=="function"?i(p,{ids:c,values:b},g):i;v(T,{key:`${c}-${g}-updateMany-error-notification`,message:a("notifications.editError",{resource:h,statusCode:p.statusCode},`Error when updating ${h} (status code: ${p.statusCode})`),description:p.message,type:"error"})}},...e})},ra=l("@tanstack/react-query"),Gi=L(l("pluralize")),_i=({mutationOptions:e}={})=>{let{mutate:t}=Be(),{mutationMode:r,undoableTimeout:o}=Vt(),a=he(),{notificationDispatch:n}=It(),s=J(),m=Et(),d=Fe(),u=St(),{resources:v}=ye(),y=(0,ra.useQueryClient)();return(0,ra.useMutation)(({resource:p,ids:c,mutationMode:g,undoableTimeout:i,onCancel:b,metaData:f,dataProviderName:h,values:T})=>{let P=g!=null?g:r,C=i!=null?i:o,E=a(H(p,h,v)),S=()=>E.deleteMany?E.deleteMany({resource:p,ids:c,metaData:f,variables:T}):Er(c.map(F=>E.deleteOne({resource:p,id:F,metaData:f,variables:T})));return P!=="undoable"?S():new Promise((F,w)=>{let M=()=>{S().then(U=>F(U)).catch(U=>w(U))},B=()=>{w({message:"mutationCancelled"})};b&&b(B),n({type:"ADD",payload:{id:c,resource:p,cancelMutation:B,doMutation:M,seconds:C,isSilent:!!b}})})},{onMutate:async({ids:p,resource:c,mutationMode:g,dataProviderName:i})=>{let b=ke(c,H(c,i,v)),f=g!=null?g:r;await y.cancelQueries(b.resourceAll,void 0,{silent:!0});let h=y.getQueriesData(b.resourceAll);if(f!=="pessimistic"){y.setQueriesData(b.list(),T=>T?{data:T.data.filter(P=>P.id&&!p.map(String).includes(P.id.toString())),total:T.total-1}:null),y.setQueriesData(b.many(),T=>{if(!T)return null;let P=T.data.filter(C=>C.id?!p.map(String).includes(C.id.toString()):!1);return{...T,data:P}});for(let T of p)y.setQueriesData(b.detail(T),P=>!P||P.data.id==T?null:{...P})}return{previousQueries:h,queryKey:b}},onSettled:(p,c,{resource:g,ids:i,dataProviderName:b,invalidates:f=["list","many"]})=>{u({resource:g,dataProviderName:H(g,b,v),invalidates:f}),n({type:"REMOVE",payload:{id:i,resource:g}})},onSuccess:(p,{ids:c,resource:g,successNotification:i},b)=>{c.forEach(h=>y.removeQueries(b==null?void 0:b.queryKey.detail(h)));let f=typeof i=="function"?i(p,c,g):i;d(f,{key:`${c}-${g}-notification`,description:s("notifications.success","Success"),message:s("notifications.deleteSuccess",{resource:s(`${g}.${g}`,g)},`Successfully deleted ${g}`),type:"success"}),m==null||m({channel:`resources/${g}`,type:"deleted",payload:{ids:c},date:new Date}),c.forEach(h=>y.removeQueries(b==null?void 0:b.queryKey.detail(h)))},onError:(p,{ids:c,resource:g,errorNotification:i},b)=>{if(b)for(let f of b.previousQueries)y.setQueryData(f[0],f[1]);if(p.message!=="mutationCancelled"){t(p);let f=Gi.default.singular(g),h=typeof i=="function"?i(p,c,g):i;d(h,{key:`${c}-${g}-notification`,message:s("notifications.deleteError",{resource:f,statusCode:p.statusCode},`Error (status code: ${p.statusCode})`),description:p.message,type:"error"})}},...e})},Yi=e=>{let t=he(),{getApiUrl:r}=t(e);return r()},Zi=l("@tanstack/react-query"),Ji=({url:e,method:t,config:r,queryOptions:o,successNotification:a,errorNotification:n,metaData:s,dataProviderName:m})=>{let d=he(),{custom:u}=d(m),{mutate:v}=Be(),y=J(),p=Fe();if(u)return(0,Zi.useQuery)([m,"custom",t,e,{...r,...s}],({queryKey:c,pageParam:g,signal:i})=>u({url:e,method:t,...r,metaData:{...s,queryContext:{queryKey:c,pageParam:g,signal:i}}}),{...o,onSuccess:c=>{var g;(g=o==null?void 0:o.onSuccess)==null||g.call(o,c);let i=typeof a=="function"?a(c,{...r,...s}):a;p(i)},onError:c=>{var g;v(c),(g=o==null?void 0:o.onError)==null||g.call(o,c);let i=typeof n=="function"?n(c,{...r,...s}):n;p(i,{key:`${t}-notification`,message:y("notifications.error",{statusCode:c.statusCode},`Error (status code: ${c.statusCode})`),description:c.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},Xi=l("@tanstack/react-query"),el=({mutationOptions:e}={})=>{let{mutate:t}=Be(),r=Fe(),o=he(),a=J();return(0,Xi.useMutation)(({url:n,method:s,values:m,metaData:d,dataProviderName:u,config:v})=>{let{custom:y}=o(u);if(y)return y({url:n,method:s,payload:m,metaData:d,headers:{...v==null?void 0:v.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(n,{successNotification:s,config:m,metaData:d})=>{let u=typeof s=="function"?s(n,{...m,...d}):s;r(u)},onError:(n,{errorNotification:s,method:m,config:d,metaData:u})=>{t(n);let v=typeof s=="function"?s(n,{...d,...u}):s;r(v,{key:`${m}-notification`,message:a("notifications.error",{statusCode:n.statusCode},`Error (status code: ${n.statusCode})`),description:n.message,type:"error"})},...e})},oa=l("react"),Va=L(l("react")),tl=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),Po=Va.default.createContext(tl()),rl=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Va.default.createElement(Po.Provider,{value:r},e)},he=()=>{let e=(0,oa.useContext)(Po);return(0,oa.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},ol=l("@tanstack/react-query"),al=({resource:e,config:t,queryOptions:r,successNotification:o,errorNotification:a,metaData:n,liveMode:s,onLiveEvent:m,liveParams:d,dataProviderName:u})=>{let{resources:v}=ye(),y=he(),p=ke(e,H(e,u,v),n),{getList:c}=y(H(e,u,v)),g=J(),{mutate:i}=Be(),b=Fe(),f=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return nr({resource:e,types:["*"],params:{metaData:n,pagination:t==null?void 0:t.pagination,hasPagination:t==null?void 0:t.hasPagination,sort:t==null?void 0:t.sort,filters:t==null?void 0:t.filters,subscriptionType:"useList",...d},channel:`resources/${e}`,enabled:f,liveMode:s,onLiveEvent:m}),(0,ol.useInfiniteQuery)(p.list(t),({queryKey:h,pageParam:T,signal:P})=>{let{hasPagination:C,...E}=t||{},S={...t==null?void 0:t.pagination,current:T};return c({resource:e,...E,pagination:S,hasPagination:C,metaData:{...n,queryContext:{queryKey:h,pageParam:T,signal:P}}}).then(({data:F,total:w,...M})=>({data:F,total:w,pagination:S,...M}))},{getNextPageParam:h=>Na(h),getPreviousPageParam:h=>Ua(h),...r,onSuccess:h=>{var T;(T=r==null?void 0:r.onSuccess)==null||T.call(r,h);let P=typeof o=="function"?o(h,{metaData:n,config:t},e):o;b(P)},onError:h=>{var T;i(h),(T=r==null?void 0:r.onError)==null||T.call(r,h);let P=typeof a=="function"?a(h,{metaData:n,config:t},e):a;b(P,{key:`${e}-useInfiniteList-notification`,message:g("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})}})},to=l("react"),nl=l("@tanstack/react-query"),$a=L(l("react")),ar=$a.default.createContext(void 0),sl=({liveProvider:e,children:t})=>$a.default.createElement(ar.Provider,{value:e},t),nr=({resource:e,params:t,channel:r,types:o,enabled:a=!0,liveMode:n,onLiveEvent:s})=>{let m=(0,nl.useQueryClient)(),d=ke(e),u=(0,to.useContext)(ar),{liveMode:v,onLiveEvent:y}=(0,to.useContext)(it),p=n!=null?n:v;(0,to.useEffect)(()=>{let c;return p&&p!=="off"&&a&&(c=u==null?void 0:u.subscribe({channel:r,params:{resource:e,...t},types:o,callback:g=>{p==="auto"&&m.invalidateQueries(d.resourceAll),s==null||s(g),y==null||y(g)}})),()=>{c&&(u==null||u.unsubscribe(c))}},[a])},il=l("react"),Ha=e=>{let{liveMode:t}=(0,il.useContext)(it);return e!=null?e:t},aa=l("react"),ll=({params:e,channel:t,types:r=["*"],enabled:o=!0,onLiveEvent:a})=>{let n=(0,aa.useContext)(ar);(0,aa.useEffect)(()=>{let s;return o&&(s=n==null?void 0:n.subscribe({channel:t,params:e,types:r,callback:a})),()=>{s&&(n==null||n.unsubscribe(s))}},[o])},ul=l("react"),Et=()=>{let e=(0,ul.useContext)(ar);return e==null?void 0:e.publish},dl=l("react"),Wa=L(l("react")),Sr=Wa.default.createContext({resources:[]}),ml=({resources:e,children:t})=>Wa.default.createElement(Sr.Provider,{value:{resources:e}},t),ye=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}={})=>{let{resources:o}=(0,dl.useContext)(Sr),a=Je(),{useParams:n}=ue(),s=n(),m=a(t!=null?t:s.resource),d=e!=null?e:m.name,u=r!=null?r:s.id;return{resources:o,resource:m,resourceName:d,id:u,action:s.action}},na=l("react"),Je=()=>{let{resources:e}=(0,na.useContext)(Sr);return(0,na.useCallback)(t=>{let r=e.find(o=>o.route===t);if(!r){let o=e.find(a=>a.name===t);return o!=null?o:{name:t,route:t}}return r},[e])},cl=l("react"),It=()=>{let{notifications:e,notificationDispatch:t}=(0,cl.useContext)(Oa);return{notifications:e,notificationDispatch:t}},pl=l("react"),Qa=L(l("react")),To=(0,Qa.createContext)({}),fl=({open:e,close:t,children:r})=>Qa.default.createElement(To.Provider,{value:{open:e,close:t}},r),lt=()=>{let{open:e,close:t}=(0,pl.useContext)(To);return{open:e,close:t}},gl=l("react"),Fe=()=>{let{open:e}=lt();return(0,gl.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},sa=l("react"),za=L(l("react")),At=za.default.createContext({}),vl=({children:e,i18nProvider:t})=>za.default.createElement(At.Provider,{value:{i18nProvider:t}},e),yl=()=>{let{i18nProvider:e}=(0,sa.useContext)(At);return(0,sa.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},ia=l("react"),J=()=>{let{i18nProvider:e}=(0,ia.useContext)(At);return(0,ia.useMemo)(()=>{function t(r,o,a){var n,s;return(s=(n=e==null?void 0:e.translate(r,o,a))!=null?n:a)!=null?s:typeof o=="string"&&typeof a>"u"?o:r}return t},[e])},la=l("react"),bl=()=>{let{i18nProvider:e}=(0,la.useContext)(At);return(0,la.useCallback)(()=>e==null?void 0:e.getLocale(),[])},hl=l("react"),Vt=()=>{let{mutationMode:e,undoableTimeout:t}=(0,hl.useContext)(it);return{mutationMode:e,undoableTimeout:t}},ua=l("react"),uo=L(l("react")),Ka=uo.default.createContext({}),Pl=({children:e})=>{let[t,r]=(0,uo.useState)(!1);return uo.default.createElement(Ka.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},Co=()=>{let{warnWhenUnsavedChanges:e}=(0,ua.useContext)(it),{warnWhen:t,setWarnWhen:r}=(0,ua.useContext)(Ka);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},Tl=l("react"),ja=()=>{let{syncWithLocation:e}=(0,Tl.useContext)(it);return{syncWithLocation:e}},Cl=l("react"),xl=()=>{let{Title:e}=(0,Cl.useContext)(it);return e},El=l("react"),Fr=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:a,Title:n,hasDashboard:s,mutationMode:m,syncWithLocation:d,undoableTimeout:u,warnWhenUnsavedChanges:v,DashboardPage:y,LoginPage:p,catchAll:c,options:g}=(0,El.useContext)(it);return{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:a,Title:n,hasDashboard:s,mutationMode:m,syncWithLocation:d,undoableTimeout:u,warnWhenUnsavedChanges:v,DashboardPage:y,LoginPage:p,catchAll:c,options:g}},Sl=l("react"),Fl=l("export-to-csv-fix-source-map"),wl=({resourceName:e,sorter:t,filters:r,maxItemCount:o,pageSize:a=20,mapData:n=v=>v,exportOptions:s,metaData:m,dataProviderName:d,onError:u}={})=>{let[v,y]=(0,Sl.useState)(!1),{resources:p}=ye(),c=Je(),g=he(),{useParams:i}=ue(),{resource:b}=i(),{name:f}=c(b);e&&(f=e);let h=`${go(f,"plural")}-${new Date().toLocaleString()}`,{getList:T}=g(H(f,d,p));return{isLoading:v,triggerExport:async()=>{y(!0);let P=[],C=1,E=!0;for(;E;)try{let{data:S,total:F}=await T({resource:f,filters:r,sort:t,pagination:{current:C,pageSize:a},metaData:m});C++,P.push(...S),o&&P.length>=o&&(P=P.slice(0,o),E=!1),F===P.length&&(E=!1)}catch(S){y(!1),E=!1,u==null||u(S);return}new Fl.ExportToCsv({filename:h,useKeysAsHeaders:!0,...s}).generateCsv(P.map(n)),y(!1)}}},da=L(l("react")),Dl=({resource:e,action:t,id:r,onMutationSuccess:o,onMutationError:a,redirect:n,successNotification:s,errorNotification:m,metaData:d,mutationMode:u,liveMode:v,onLiveEvent:y,liveParams:p,undoableTimeout:c,dataProviderName:g,invalidates:i,queryOptions:b,createMutationOptions:f,updateMutationOptions:h}={})=>{var T;let{options:P}=Fr(),{useParams:C}=ue(),{resource:E,action:S,id:F}=C(),w=!e||e===E?r!=null?r:F:r,[M,B]=da.default.useState(w);da.default.useEffect(()=>{w!==M&&B(r)},[r]);let U=e!=null?e:E,N=(T=t!=null?t:S==="show"?"create":S)!=null?T:"create",k=Je()(U),{mutationMode:q}=Vt(),R=u!=null?u:q,Q=N==="create",$=N==="edit",Y=N==="clone",W=Oi({redirectFromProps:n,action:N,redirectOptions:P.redirect}),O=M!==void 0&&($||Y),A=bo({resource:k.name,id:M!=null?M:"",queryOptions:{enabled:O,...b},liveMode:v,onLiveEvent:y,liveParams:p,metaData:d,dataProviderName:g}),{isFetching:ee}=A,oe=ho({mutationOptions:f}),{mutate:Z,isLoading:ge}=oe,te=Ia({mutationOptions:h}),{mutate:ht,isLoading:Pt}=te,{setWarnWhen:vr}=Co(),Tt=Ga();return{...Q||Y?{formLoading:ee||ge,mutationResult:oe,onFinish:async Le=>{vr(!1);let _e=Ye=>{Tt({redirect:W,resource:k,id:Ye})};return R!=="pessimistic"&&setTimeout(()=>{_e()}),new Promise((Ye,kt)=>(R!=="pessimistic"&&Ye(),Z({values:Le,resource:k.name,successNotification:s,errorNotification:m,metaData:d,dataProviderName:g,invalidates:i},{onSuccess:(He,nt,K)=>{var se;o&&o(He,Le,K);let yr=(se=He==null?void 0:He.data)==null?void 0:se.id;_e(yr),Ye(He)},onError:(He,nt,K)=>{if(a)return a(He,Le,K);kt()}})))}}:{formLoading:ee||Pt,mutationResult:te,onFinish:async Le=>{vr(!1);let _e={id:M!=null?M:"",values:Le,resource:k.name,mutationMode:R,undoableTimeout:c,successNotification:s,errorNotification:m,metaData:d,dataProviderName:g,invalidates:i},Ye=()=>{B(w),Tt({redirect:W,resource:k,id:M})};return R!=="pessimistic"&&setTimeout(()=>{Ye()}),new Promise((kt,He)=>(R!=="pessimistic"&&kt(),setTimeout(()=>{ht(_e,{onSuccess:(nt,K,se)=>{o&&o(nt,Le,se),R==="pessimistic"&&Ye(),kt(nt)},onError:(nt,K,se)=>{if(a)return a(nt,Le,se);He()}})})))}},queryResult:A,id:M,setId:B,redirect:(Le,_e)=>{Tt({redirect:Le!==void 0?Le:$?"list":"edit",resource:k,id:_e!=null?_e:M})}}},Ll=l("react"),Ga=()=>{let{show:e,edit:t,list:r,create:o}=Ae();return(0,Ll.useCallback)(({redirect:a,resource:n,id:s})=>{if(a&&n.route)return n.canShow&&a==="show"&&s?e(n.route,s):n.canEdit&&a==="edit"&&s?t(n.route,s):n.canCreate&&a==="create"?o(n.route):r(n.route,"push")},[])},Ae=()=>{let{useHistory:e}=ue(),t=e(),r=Je(),o=(u,v="push")=>{v==="push"?t.push(u):t.replace(u)},a=u=>`/${r(u).route}/create`,n=(u,v)=>{let y=r(u),p=encodeURIComponent(v);return`/${y.route}/edit/${p}`},s=(u,v)=>{let y=r(u),p=encodeURIComponent(v);return`/${y.route}/clone/${p}`},m=(u,v)=>{let y=r(u),p=encodeURIComponent(v);return`/${y.route}/show/${p}`},d=u=>`/${r(u).route}`;return{create:(u,v="push")=>{o(a(u),v)},createUrl:a,edit:(u,v,y="push")=>{o(n(u,v),y)},editUrl:n,clone:(u,v,y="push")=>{o(s(u,v),y)},cloneUrl:s,show:(u,v,y="push")=>{o(m(u,v),y)},showUrl:m,list:(u,v="push")=>{o(d(u),v)},listUrl:d,push:(u,...v)=>{t.push(u,...v)},replace:(u,...v)=>{t.replace(u,...v)},goBack:()=>{t.goBack()}}},ma=L(l("react")),Bl=({resource:e,id:t,successNotification:r,errorNotification:o,metaData:a,liveMode:n,onLiveEvent:s,dataProviderName:m,queryOptions:d}={})=>{let{useParams:u}=ue(),{resource:v,id:y}=u(),p=!e||e===v?t!=null?t:y:t,[c,g]=(0,ma.useState)(p);ma.default.useEffect(()=>{p!==c&&g(p)},[p]);let i=Je()(e!=null?e:v);return{queryResult:bo({resource:i.name,id:c!=null?c:"",queryOptions:{enabled:c!==void 0,...d},successNotification:r,errorNotification:o,metaData:a,liveMode:n,onLiveEvent:s,dataProviderName:m}),showId:c,setShowId:g}},br=l("react"),kl=l("papaparse"),Ml=L(l("lodash/chunk")),Rl=({resourceName:e,mapData:t=d=>d,paparseOptions:r,batchSize:o=Number.MAX_SAFE_INTEGER,onFinish:a,metaData:n,onProgress:s,dataProviderName:m}={})=>{let[d,u]=(0,br.useState)(0),[v,y]=(0,br.useState)(0),[p,c]=(0,br.useState)(!1),g=Je(),{useParams:i}=ue(),{resource:b}=i(),{name:f}=g(e!=null?e:b),h=Aa(),T=ho(),P;o===1?P=T:P=h;let C=()=>{y(0),u(0),c(!1)},E=F=>{let w={succeeded:F.filter(M=>M.type==="success"),errored:F.filter(M=>M.type==="error")};a==null||a(w),c(!1)};(0,br.useEffect)(()=>{s==null||s({totalAmount:v,processedAmount:d})},[v,d]);let S=({file:F})=>(C(),new Promise(w=>{c(!0),(0,kl.parse)(F,{complete:async({data:M})=>{let B=Fa(M,t);if(y(B.length),o===1){let U=B.map(k=>async()=>({response:await T.mutateAsync({resource:f,values:k,successNotification:!1,errorNotification:!1,dataProviderName:m,metaData:n}),value:k})),N=await Go(U,({response:k,value:q})=>(u(R=>R+1),{response:[k.data],type:"success",request:[q]}),(k,q)=>({response:[k],type:"error",request:[B[q]]}));w(N)}else{let U=(0,Ml.default)(B,o),N=U.map(q=>async()=>({response:await h.mutateAsync({resource:f,values:q,successNotification:!1,errorNotification:!1,dataProviderName:m,metaData:n}),value:q,currentBatchLength:q.length})),k=await Go(N,({response:q,currentBatchLength:R,value:Q})=>(u($=>$+R),{response:q.data,type:"success",request:Q}),(q,R)=>({response:[q],type:"error",request:U[R]}));w(k)}},...r})}).then(w=>(E(w),w)));return{inputProps:{type:"file",accept:".csv",onChange:F=>{F.target.files&&F.target.files.length>0&&S({file:F.target.files[0]})}},mutationResult:P,isLoading:p,handleChange:S}},ro=l("react"),Nl=({defaultVisible:e=!1}={})=>{let[t,r]=(0,ro.useState)(e),o=(0,ro.useCallback)(()=>r(!0),[t]),a=(0,ro.useCallback)(()=>r(!1),[t]);return{visible:t,show:o,close:a}},Ul=l("react"),_a=L(l("react")),ql={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},xo=_a.default.createContext(ql),Ol=({children:e,useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:n,routes:s})=>_a.default.createElement(xo.Provider,{value:{useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:n,routes:s}},e),ue=()=>{let{useHistory:e,useLocation:t,useParams:r,Prompt:o,Link:a,routes:n}=(0,Ul.useContext)(xo);return{useHistory:e,useLocation:t,useParams:r,Prompt:o,Link:a,routes:n}},Il=l("react"),Al=l("@tanstack/react-query"),Ya=L(l("react")),wr=Ya.default.createContext({}),Vl=({can:e,children:t})=>Ya.default.createElement(wr.Provider,{value:{can:e}},t),Za=({action:e,resource:t,params:r,queryOptions:o})=>{let{can:a}=(0,Il.useContext)(wr),{resource:n,...s}=r!=null?r:{},{icon:m,list:d,edit:u,create:v,show:y,children:p,...c}=n!=null?n:{},g=(0,Al.useQuery)(["useCan",{action:e,resource:t,params:{...s,resource:c},enabled:o==null?void 0:o.enabled}],()=>{var i;return(i=a==null?void 0:a({action:e,resource:t,params:r}))!=null?i:Promise.resolve({can:!0})},{enabled:typeof a<"u",...o,retry:!1});return typeof a>"u"?{data:{can:!0}}:g},$l=l("react"),Hl=()=>{let{can:e}=(0,$l.useContext)(wr);return{can:e}},Mt=l("react"),Wl=L(l("lodash/uniqBy")),Ql=L(l("lodash/debounce")),hr=L(l("lodash/get")),zl=e=>{var t,r;let[o,a]=(0,Mt.useState)([]),[n,s]=(0,Mt.useState)([]),[m,d]=(0,Mt.useState)([]),{resource:u,sort:v,filters:y=[],optionLabel:p="title",optionValue:c="id",debounce:g=300,successNotification:i,errorNotification:b,defaultValueQueryOptions:f,queryOptions:h,fetchSize:T,pagination:P,hasPagination:C,liveMode:E,defaultValue:S=[],onLiveEvent:F,onSearch:w,liveParams:M,metaData:B,dataProviderName:U}=e,N=Array.isArray(S)?S:[S],k=(0,Mt.useCallback)(W=>{d(W.data.map(O=>({label:(0,hr.default)(O,p),value:(0,hr.default)(O,c)})))},[p,c]),q=f!=null?f:h,R=qa({resource:u,ids:N,queryOptions:{...q,enabled:N.length>0&&((t=f==null?void 0:f.enabled)!=null?t:!0),onSuccess:W=>{var O;k(W),(O=q==null?void 0:q.onSuccess)==null||O.call(q,W)}},metaData:B,liveMode:"off",dataProviderName:U}),Q=(0,Mt.useCallback)(W=>{s(W.data.map(O=>({label:(0,hr.default)(O,p),value:(0,hr.default)(O,c)})))},[p,c]),$=yo({resource:u,config:{sort:v,filters:y.concat(o),pagination:{current:P==null?void 0:P.current,pageSize:(r=P==null?void 0:P.pageSize)!=null?r:T},hasPagination:C},queryOptions:{...h,onSuccess:W=>{var O;Q(W),(O=h==null?void 0:h.onSuccess)==null||O.call(h,W)}},successNotification:i,errorNotification:b,metaData:B,liveMode:E,liveParams:M,onLiveEvent:F,dataProviderName:U}),Y=W=>{if(w){a(w(W));return}if(W)a([{field:p,operator:"contains",value:W}]);else{a([]);return}};return{queryResult:$,defaultValueQueryResult:R,options:(0,Mt.useMemo)(()=>(0,Wl.default)([...n,...m],"value"),[n,m]),onSearch:(0,Ql.default)(Y,g)}},xt=l("react"),ca=L(l("qs")),pa=L(l("lodash/differenceWith")),fa=L(l("lodash/isEqual")),Kl=[],jl=[];function Gl({initialCurrent:e=1,initialPageSize:t=10,hasPagination:r=!0,initialSorter:o,permanentSorter:a=jl,defaultSetFilterBehavior:n="merge",initialFilter:s,permanentFilter:m=Kl,syncWithLocation:d,resource:u,successNotification:v,errorNotification:y,queryOptions:p,liveMode:c,onLiveEvent:g,liveParams:i,metaData:b,dataProviderName:f}={}){var h;let{syncWithLocation:T}=ja(),P=d!=null?d:T,{useLocation:C,useParams:E}=ue(),{search:S,pathname:F}=C(),w=Ha(c),{parsedCurrent:M,parsedPageSize:B,parsedSorter:U,parsedFilters:N}=fo(S),k=M||e,q=B||t,R=U.length?U:o,Q=N.length?N:s,{resource:$}=E(),{replace:Y}=Ae(),W=Je()(u!=null?u:$),[O,A]=(0,xt.useState)(lo(a,R!=null?R:[])),[ee,oe]=(0,xt.useState)(io(m,Q!=null?Q:[])),[Z,ge]=(0,xt.useState)(k),[te,ht]=(0,xt.useState)(q),Pt=({pagination:{current:K,pageSize:se},sorter:yr,filters:Qo})=>{let Jr=ca.default.parse(S==null?void 0:S.substring(1)),Os=no({pagination:{pageSize:se,current:K},sorter:yr,filters:Qo,...Jr});return`${F}?${Os}`};(0,xt.useEffect)(()=>{S===""&&(ge(k),ht(q),A(lo(a,R!=null?R:[])),oe(io(m,Q!=null?Q:[])))},[S]);let vr=()=>{let{sorter:K,filters:se,pageSize:yr,current:Qo,...Jr}=ca.default.parse(S,{ignoreQueryPrefix:!0});return Jr};(0,xt.useEffect)(()=>{if(P){let K=vr(),se=no({...r?{pagination:{pageSize:te,current:Z}}:{},sorter:(0,pa.default)(O,a,fa.default),filters:(0,pa.default)(ee,m,fa.default),...K});return Y(`${F}?${se}`,void 0,{shallow:!0})}},[P,Z,te,O,ee]);let Tt=yo({resource:W.name,config:{hasPagination:r,pagination:{current:Z,pageSize:te},filters:rr(m,ee),sort:so(a,O)},queryOptions:p,successNotification:v,errorNotification:y,metaData:b,liveMode:w,liveParams:i,onLiveEvent:g,dataProviderName:f}),Le=K=>{oe(se=>rr(m,K,se))},_e=K=>{oe(rr(m,K))},Ye=K=>{oe(se=>rr(m,K(se)))},kt=(K,se=n)=>{typeof K=="function"?Ye(K):se==="replace"?_e(K):Le(K)},He=K=>{A(()=>so(a,K))},nt=(0,xt.useMemo)(()=>{var K,se;return r?{current:Z,setCurrent:ge,pageSize:te,setPageSize:ht,pageCount:te?Math.ceil(((se=(K=Tt.data)==null?void 0:K.total)!=null?se:0)/te):1}:{current:void 0,setCurrent:void 0,pageSize:void 0,setPageSize:void 0,pageCount:void 0}},[r,Z,te,(h=Tt.data)==null?void 0:h.total]);return{tableQueryResult:Tt,sorter:O,setSorter:He,filters:ee,setFilters:kt,...nt,createLinkForSyncWithLocation:Pt}}var ga=l("react"),oo=l("@tanstack/react-query"),Ja=L(l("react")),Dr=Ja.default.createContext({}),_l=({create:e,get:t,update:r,children:o})=>Ja.default.createElement(Dr.Provider,{value:{create:e,get:t,update:r}},o),Lr=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,oo.useQueryClient)(),o=(0,ga.useContext)(Dr),{resources:a}=(0,ga.useContext)(Sr),{data:n,refetch:s,isLoading:m}=Pa({queryOptions:{enabled:!!o}}),d=(0,oo.useMutation)(async v=>{var y,p,c;let g=a.find(f=>f.name===v.resource),i=(p=(y=g==null?void 0:g.options)==null?void 0:y.auditLog)==null?void 0:p.permissions;if(i&&!Mi(i,v.action))return;let b;return m&&(b=await s()),await((c=o.create)==null?void 0:c.call(o,{...v,author:n!=null?n:b==null?void 0:b.data}))},e),u=(0,oo.useMutation)(async v=>{var y;return await((y=o.update)==null?void 0:y.call(o,v))},{onSuccess:v=>{if(v!=null&&v.resource){let y=ke(v==null?void 0:v.resource);r.invalidateQueries(y.logList())}},...t});return{log:d,rename:u}},Yl=l("react"),Zl=l("@tanstack/react-query"),Jl=({resource:e,action:t,meta:r,author:o,metaData:a,queryOptions:n})=>{let{get:s}=(0,Yl.useContext)(Dr),m=ke(e,void 0,a);return(0,Zl.useQuery)(m.logList(r),()=>{var d;return(d=s==null?void 0:s({resource:e,action:t,author:o,meta:r,metaData:a}))!=null?d:Promise.resolve([])},{enabled:typeof s<"u",...n,retry:!1})},Xl=l("react"),eu=l("@tanstack/react-query"),St=()=>{let{resources:e}=ye(),t=(0,eu.useQueryClient)();return(0,Xl.useCallback)(({resource:r,dataProviderName:o,invalidates:a,id:n})=>{if(a===!1)return;let s=ke(r,H(r,o,e));a.forEach(m=>{switch(m){case"all":t.invalidateQueries(s.all);break;case"list":t.invalidateQueries(s.list());break;case"many":t.invalidateQueries(s.many());break;case"resourceAll":t.invalidateQueries(s.resourceAll);break;case"detail":t.invalidateQueries(s.detail(n||""));break;default:break}})},[])},tu=l("react"),ru=L(l("warn-once")),ou=()=>{var e;let{useParams:t}=ue(),{i18nProvider:r}=(0,tu.useContext)(At),o=J(),{resources:a,resource:n}=ye(),{action:s}=t(),m=[];if(!(n!=null&&n.name))return{breadcrumbs:m};let d=u=>{var v;let y=a.find(p=>p.name===u);y&&(y.parentName&&d(y.parentName),m.push({label:(v=y.label)!=null?v:o(`${y.name}.${y.name}`,or(y.name)),href:y.list?`/${y.route}`:void 0,icon:y.icon}))};if(n.parentName&&d(n.parentName),m.push({label:(e=n.label)!=null?e:o(`${n.name}.${n.name}`,or(n.name)),href:n.list?`/${n.route}`:void 0,icon:n.icon}),s){let u=`actions.${s}`,v=o(u);typeof r<"u"&&v===u?((0,ru.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${s}" action. Please add "actions.${s}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),m.push({label:o(`buttons.${s}`,or(s))})):m.push({label:o(u,or(s))})}return{breadcrumbs:m}},Rt=L(l("react")),au=()=>{let{resources:e}=ye(),t=J(),{useLocation:r,useParams:o}=ue(),a=r(),n=o(),{hasDashboard:s}=Fr(),m=Rt.default.useMemo(()=>{let p=e.find(g=>(a==null?void 0:a.pathname)===`/${g.route}`);p||(p=e.find(g=>(n==null?void 0:n.resource)===g.route));let c;return p!=null&&p.route?c=`/${p==null?void 0:p.route}`:a.pathname==="/"?c="/":c=a==null?void 0:a.pathname,c},[e,a,n]),d=Rt.default.useMemo(()=>e.map(p=>{var c,g;let i=`/${p.route}`;return{...p,icon:p.icon,route:i,key:(c=p.key)!=null?c:i,label:(g=p.label)!=null?g:t(`${p.name}.${p.name}`,go(p.name,"plural"))}}),[e,s,t]),u=Rt.default.useMemo(()=>ka(d),[d]),v=Rt.default.useCallback((p,c,g=!1)=>{let i=c.find(b=>g?b.name===p:b.route===p);if(i){let b=[];return g&&i.route&&b.unshift(i.route),i.parentName&&b.unshift(...v(i.parentName,c,!0)),b}return[]},[]),y=Rt.default.useMemo(()=>v(m,d),[m,d]);return Rt.default.useMemo(()=>{let p=c=>c.reduce((g,i)=>{var b,f;return i.children.length>0&&((b=i.options)==null?void 0:b.hide)!==!0?[...g,{...i,children:p(i.children)}]:typeof i.list<"u"&&((f=i.options)==null?void 0:f.hide)!==!0?[...g,i]:g},[]);return{defaultOpenKeys:y,selectedKey:m,menuItems:p(u)}},[y,m,u])},nu=()=>{let[e,t]=(0,Ct.useState)(),{push:r}=Ae(),o=J(),a=["edit","create","show"],{useParams:n}=ue(),s=n(),m=Je();return(0,Ct.useEffect)(()=>{if(s.resource){let d=m(s.resource);s.action&&a.includes(s.action)&&!d[s.action]&&t(o("pages.error.info",{action:s.action,resource:s.resource},`You may have forgotten to add the "${s.action}" component to "${s.resource}" resource.`))}},[s]),Ct.default.createElement(Ct.default.Fragment,null,Ct.default.createElement("h1",null,o("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Ct.default.createElement("p",null,e),Ct.default.createElement("button",{onClick:()=>r("/")},o("pages.error.backHome",void 0,"Back Home")))},ce=L(l("react")),Xa=()=>{let[e,t]=(0,ce.useState)(""),[r,o]=(0,ce.useState)(""),a=J(),{mutate:n}=co();return ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("h1",null,a("pages.login.title","Sign in your account")),ce.default.createElement("form",{onSubmit:s=>{s.preventDefault(),n({username:e,password:r})}},ce.default.createElement("table",null,ce.default.createElement("tbody",null,ce.default.createElement("tr",null,ce.default.createElement("td",null,a("pages.login.username",void 0,"username"),":"),ce.default.createElement("td",null,ce.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:s=>t(s.target.value)}))),ce.default.createElement("tr",null,ce.default.createElement("td",null,a("pages.login.password",void 0,"password"),":"),ce.default.createElement("td",null,ce.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:s=>o(s.target.value)}))))),ce.default.createElement("br",null),ce.default.createElement("input",{type:"submit",value:"login"})))},Nt=L(l("react")),j=L(l("react")),su=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:a,wrapperProps:n,renderContent:s,formProps:m})=>{let{Link:d}=ue(),[u,v]=(0,j.useState)(""),[y,p]=(0,j.useState)(""),[c,g]=(0,j.useState)(!1),i=J(),{mutate:b}=co(),f=(P,C)=>P?typeof P=="string"?j.default.createElement(d,{to:P},C):P:null,h=()=>e?e.map(P=>{var C;return j.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},j.default.createElement("button",{onClick:()=>b({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,(C=P.label)!=null?C:j.default.createElement("label",null,P.label)))}):null,T=j.default.createElement("div",{...a},j.default.createElement("h1",{style:{textAlign:"center"}},i("pages.login.title","Sign in to your account")),h(),j.default.createElement("hr",null),j.default.createElement("form",{onSubmit:P=>{P.preventDefault(),b({email:u,password:y,remember:c})},...m},j.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},j.default.createElement("label",null,i("pages.login.fields.email","Email")),j.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:u,onChange:P=>v(P.target.value)}),j.default.createElement("label",null,i("pages.login.fields.password","Password")),j.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:y,onChange:P=>p(P.target.value)}),o!=null?o:j.default.createElement(j.default.Fragment,null,j.default.createElement("label",null,i("pages.login.buttons.rememberMe","Remember me"),j.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:c,value:c.toString(),onChange:()=>{g(!c)}}))),j.default.createElement("br",null),r!=null?r:f("/forgot-password",i("pages.login.buttons.forgotPassword","Forgot password?")),j.default.createElement("input",{type:"submit",value:i("pages.login.signin","Sign in")}),t!=null?t:j.default.createElement("span",null,i("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",f("/register",i("pages.login.register","Sign up"))))));return j.default.createElement("div",{...n},s?s(T):T)},ie=L(l("react")),iu=({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:a,formProps:n})=>{let{Link:s}=ue(),[m,d]=(0,ie.useState)(""),[u,v]=(0,ie.useState)(""),y=J(),{mutate:p,isLoading:c}=Ca(),g=(f,h)=>f?typeof f=="string"?ie.default.createElement(s,{to:f},h):f:null,i=()=>e?e.map(f=>{var h;return ie.default.createElement("div",{key:f.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ie.default.createElement("button",{onClick:()=>p({providerName:f.name}),style:{display:"flex",alignItems:"center"}},f==null?void 0:f.icon,(h=f.label)!=null?h:ie.default.createElement("label",null,f.label)))}):null,b=ie.default.createElement("div",{...o},ie.default.createElement("h1",{style:{textAlign:"center"}},y("pages.register.title","Sign up for your account")),i(),ie.default.createElement("hr",null),ie.default.createElement("form",{onSubmit:f=>{f.preventDefault(),p({email:m,password:u})},...n},ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ie.default.createElement("label",null,y("pages.register.fields.email","Email")),ie.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:f=>d(f.target.value)}),ie.default.createElement("label",null,y("pages.register.fields.password","Password")),ie.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:u,onChange:f=>v(f.target.value)}),ie.default.createElement("input",{type:"submit",value:y("pages.register.buttons.submit","Sign up"),disabled:c}),t!=null?t:ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("span",null,y("pages.login.buttons.haveAccount","Have an account?")," ",g("login",y("pages.login.signin","Sign in")))))));return ie.default.createElement("div",{...r},a?a(b):b)},xe=L(l("react")),lu=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:a})=>{let n=J(),{Link:s}=ue(),[m,d]=(0,xe.useState)(""),{mutate:u,isLoading:v}=xa(),y=(c,g)=>c?typeof c=="string"?xe.default.createElement(s,{to:c},g):c:null,p=xe.default.createElement("div",{...r},xe.default.createElement("h1",{style:{textAlign:"center"}},n("pages.forgotPassword.title","Forgot your password?")),xe.default.createElement("hr",null),xe.default.createElement("form",{onSubmit:c=>{c.preventDefault(),u({email:m})},...a},xe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},xe.default.createElement("label",null,n("pages.forgotPassword.fields.email","Email")),xe.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:c=>d(c.target.value)}),xe.default.createElement("input",{type:"submit",disabled:v,value:n("pages.forgotPassword.buttons.submit","Send reset instructions")}),xe.default.createElement("br",null),e!=null?e:xe.default.createElement("span",null,n("pages.register.buttons.haveAccount","Have an account? ")," ",y("/login",n("pages.login.signin","Sign in"))))));return xe.default.createElement("div",{...t},o?o(p):p)},Ee=L(l("react")),uu=({wrapperProps:e,contentProps:t,renderContent:r,formProps:o})=>{let a=J(),{mutate:n,isLoading:s}=Ea(),[m,d]=(0,Ee.useState)(""),[u,v]=(0,Ee.useState)(""),y=Ee.default.createElement("div",{...t},Ee.default.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),Ee.default.createElement("hr",null),Ee.default.createElement("form",{onSubmit:p=>{p.preventDefault(),n({password:m,confirmPassword:u})},...o},Ee.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ee.default.createElement("label",null,a("pages.updatePassword.fields.password","New Password")),Ee.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:m,onChange:p=>d(p.target.value)}),Ee.default.createElement("label",null,a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ee.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:u,onChange:p=>v(p.target.value)}),Ee.default.createElement("input",{type:"submit",disabled:s,value:a("pages.updatePassword.buttons.submit","Update")}))));return Ee.default.createElement("div",{...e},r?r(y):y)},du=e=>{let{type:t}=e;return Nt.default.createElement(Nt.default.Fragment,null,(()=>{switch(t){case"register":return Nt.default.createElement(iu,{...e});case"forgotPassword":return Nt.default.createElement(lu,{...e});case"updatePassword":return Nt.default.createElement(uu,{...e});default:return Nt.default.createElement(su,{...e})}})())},Pe=L(l("react")),en=()=>Pe.default.createElement(Pe.default.Fragment,null,Pe.default.createElement("h1",null,"Welcome on board"),Pe.default.createElement("p",null,"Your configuration is completed."),Pe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Pe.default.createElement("code",null,"`resources`")," property of ",Pe.default.createElement("code",null,"`<Refine>`")),Pe.default.createElement("div",{style:{display:"flex",gap:8}},Pe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Pe.default.createElement("button",null,"Documentation")),Pe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Pe.default.createElement("button",null,"Examples")),Pe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Pe.default.createElement("button",null,"Community")))),ae=L(l("react")),ao=l("@tanstack/react-query"),mu=l("@tanstack/react-query-devtools"),cu=l("react"),st=l("react"),pu="3.103.0",fu=()=>{let e=(0,st.useContext)(Se),t=(0,st.useContext)(Dr),r=(0,st.useContext)(ar),o=(0,st.useContext)(xo),a=(0,st.useContext)(Po),{i18nProvider:n}=(0,st.useContext)(At),s=(0,st.useContext)(To),m=(0,st.useContext)(wr),{resources:d}=ye(),u=e.isProvided,v=!!t.create||!!t.get||!!t.update,y=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),p=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,c=!!a,g=!!(n!=null&&n.changeLocale)||!!(n!=null&&n.getLocale)||!!(n!=null&&n.translate),i=!!s.close||!!s.open,b=!!m.can;return{providers:{auth:u,auditLog:v,live:y,router:p,data:c,i18n:g,notification:i,accessControl:b},version:pu,resourceCount:d.length}},gu=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},vu=()=>{let e=fu();return(0,cu.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${gu(e)}`},[]),null},yu=l("react"),bu=l("react"),hu=L(l("lodash/isEqual")),Pu=e=>{let t=(0,bu.useRef)(e);return(0,hu.default)(t.current,e)||(t.current=e),t.current},va=(e,t)=>{let r=Pu(t);return(0,yu.useMemo)(e,r)},Tu=({authProvider:e,dataProvider:t,routerProvider:r,notificationProvider:o,accessControlProvider:a,auditLogProvider:n,resources:s,DashboardPage:m,ReadyPage:d,LoginPage:u,catchAll:v,children:y,liveProvider:p,i18nProvider:c,mutationMode:g,syncWithLocation:i,warnWhenUnsavedChanges:b,undoableTimeout:f,Title:h,Layout:T,Sider:P,Header:C,Footer:E,OffLayoutArea:S,reactQueryClientConfig:F,reactQueryDevtoolConfig:w,liveMode:M,onLiveEvent:B,disableTelemetry:U,options:N})=>{let{optionsWithDefaults:k,disableTelemetryWithDefault:q,reactQueryWithDefaults:R}=qi({options:N,disableTelemetry:U,liveMode:M,mutationMode:g,reactQueryClientConfig:F,reactQueryDevtoolConfig:w,syncWithLocation:i,warnWhenUnsavedChanges:b,undoableTimeout:f}),Q=va(()=>{var O;return R.clientConfig instanceof ao.QueryClient?R.clientConfig:new ao.QueryClient({...R.clientConfig,defaultOptions:{...R.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(O=R.clientConfig.defaultOptions)==null?void 0:O.queries}}})},[R.clientConfig]),$=ae.default.useMemo(()=>typeof o=="function"?o:()=>o!=null?o:{},[o])(),Y=va(()=>{let O=[];return s==null||s.forEach(A=>{var ee;O.push({key:A.key,name:A.name,label:(ee=A.options)==null?void 0:ee.label,icon:A.icon,route:vo(A,s),canCreate:!!A.create,canEdit:!!A.edit,canShow:!!A.show,canDelete:A.canDelete,create:A.create,show:A.show,list:A.list,edit:A.edit,options:A.options,parentName:A.parentName})}),O},[s]);if(Y.length===0)return d?ae.default.createElement(d,null):ae.default.createElement(en,null);let{RouterComponent:W=ae.default.Fragment}=r;return ae.default.createElement(ao.QueryClientProvider,{client:Q},ae.default.createElement(fl,{...$},ae.default.createElement(ei,{...e!=null?e:{},isProvided:Boolean(e)},ae.default.createElement(rl,{...t},ae.default.createElement(sl,{liveProvider:p},ae.default.createElement(Ol,{...r},ae.default.createElement(ml,{resources:Y},ae.default.createElement(vl,{i18nProvider:c},ae.default.createElement(Vl,{...a!=null?a:{}},ae.default.createElement(_l,{...n!=null?n:{}},ae.default.createElement(Hi,null,ae.default.createElement(Ui,{mutationMode:k.mutationMode,warnWhenUnsavedChanges:k.warnWhenUnsavedChanges,syncWithLocation:k.syncWithLocation,Title:h,undoableTimeout:k.undoableTimeout,catchAll:v,DashboardPage:m,LoginPage:u,Layout:T,Sider:P,Footer:E,Header:C,OffLayoutArea:S,hasDashboard:!!m,liveMode:k.liveMode,onLiveEvent:B,options:k},ae.default.createElement(Pl,null,ae.default.createElement(W,null,y,!q&&ae.default.createElement(vu,null),ae.default.createElement(rn,null)))))))))))))),R.devtoolConfig===!1?null:ae.default.createElement(mu.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...R.devtoolConfig}))},ya=l("react"),tn=({notification:e})=>{let t=J(),{notificationDispatch:r}=It(),{open:o}=lt(),[a,n]=(0,ya.useState)(),s=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||o==null||o({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Xr(e.seconds)},`You have ${Xr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Xr(e.seconds)}),e.seconds>0)){a&&clearTimeout(a);let m=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);n(m)}};return(0,ya.useEffect)(()=>{s()},[e]),null},Cr=L(l("react")),Cu=({children:e,Layout:t,Sider:r,Header:o,Title:a,Footer:n,OffLayoutArea:s})=>{let{Layout:m,Footer:d,Header:u,Sider:v,Title:y,OffLayoutArea:p}=Fr(),c=t!=null?t:m;return Cr.default.createElement(c,{Sider:r!=null?r:v,Header:o!=null?o:u,Footer:n!=null?n:d,Title:a!=null?a:y,OffLayoutArea:s!=null?s:p},e,Cr.default.createElement(xu,null))},xu=()=>{let{Prompt:e}=ue(),t=J(),{warnWhen:r,setWarnWhen:o}=Co(),a=n=>(n.preventDefault(),n.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),n.returnValue);return(0,Cr.useEffect)(()=>(r&&window.addEventListener("beforeunload",a),window.removeEventListener("beforeunload",a)),[r]),Cr.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:o})},Ut=L(l("react")),Eu=({children:e,fallback:t,loading:r})=>{let{isSuccess:o,isLoading:a,isError:n}=Sa(),{replace:s}=Ae(),{useLocation:m}=ue(),{pathname:d,search:u}=m();if(a)return Ut.default.createElement(Ut.default.Fragment,null,r)||null;if(n){if(!t){let v=`${d}${u}`;return d.includes("/login")||s(`/login?to=${encodeURIComponent(v)}`),null}return Ut.default.createElement(Ut.default.Fragment,null,t)}return o?Ut.default.createElement(Ut.default.Fragment,null,e):null},ba=l("react"),rn=()=>{let{useLocation:e}=ue(),{checkAuth:t}=(0,ba.useContext)(Se),r=e();return(0,ba.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},qt=L(l("react")),Su=({resource:e,action:t,params:r,fallback:o,children:a,...n})=>{let{data:s}=Za({resource:e,action:t,params:r});return s!=null&&s.can?qt.default.isValidElement(a)?qt.default.cloneElement(a,n):qt.default.createElement(qt.default.Fragment,null,a):(s==null?void 0:s.can)===!1?qt.default.createElement(qt.default.Fragment,null,o!=null?o:null):null},Ot=L(l("react")),Fu=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],wu=()=>((0,Ot.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Fu.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Ot.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},Ot.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},Ot.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Ot.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),Ot.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"Refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))))});var Ve=Ko((af,Dn)=>{var Mo=Object.defineProperty,qu=Object.getOwnPropertyDescriptor,Ou=Object.getOwnPropertyNames,Iu=Object.prototype.hasOwnProperty,Au=(e,t)=>{for(var r in t)Mo(e,r,{get:t[r],enumerable:!0})},Vu=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ou(t))!Iu.call(e,a)&&a!==r&&Mo(e,a,{get:()=>t[a],enumerable:!(o=qu(t,a))||o.enumerable});return e},$u=e=>Vu(Mo({},"__esModule",{value:!0}),e),wn={};Au(wn,{RefineButtonTestIds:()=>Hu});Dn.exports=$u(wn);var Hu={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var on=x(l("react")),an=l("antd"),nn=l("sunflower-antd"),Br=x(I()),Xe=({action:e,resource:t,onMutationSuccess:r,onMutationError:o,submitOnEnter:a=!1,warnWhenUnsavedChanges:n,redirect:s,successNotification:m,errorNotification:d,metaData:u,liveMode:v,liveParams:y,mutationMode:p,dataProviderName:c,onLiveEvent:g,invalidates:i,undoableTimeout:b,queryOptions:f,createMutationOptions:h,updateMutationOptions:T,id:P}={})=>{var Y,W;let[C]=an.Form.useForm(),E=(0,nn.useForm)({form:C}),{form:S}=E,F=(0,Br.useForm)({onMutationSuccess:r||void 0,onMutationError:o,redirect:s,action:e,resource:t,successNotification:m,errorNotification:d,metaData:u,liveMode:v,liveParams:y,mutationMode:p,dataProviderName:c,onLiveEvent:g,invalidates:i,undoableTimeout:b,queryOptions:f,createMutationOptions:h,updateMutationOptions:T,id:P}),{formLoading:w,onFinish:M,queryResult:B,id:U}=F,{warnWhenUnsavedChanges:N,setWarnWhen:k}=(0,Br.useWarnAboutChange)(),q=n!=null?n:N;on.default.useEffect(()=>{S.resetFields()},[(Y=B==null?void 0:B.data)==null?void 0:Y.data,U]);let R=O=>{a&&O.key==="Enter"&&S.submit()},Q=O=>(O&&q&&k(!0),O),$={disabled:w,onClick:()=>{S.submit()}};return{form:E.form,formProps:{...E.formProps,onFinish:O=>M(O).catch(A=>A),onKeyUp:R,onValuesChange:Q,initialValues:(W=B==null?void 0:B.data)==null?void 0:W.data},saveButtonProps:$,...F,onFinish:async O=>await M(O!=null?O:E.form.getFieldsValue(!0))}};var sr=l("react"),sn=l("sunflower-antd"),Me=x(I());var ln=({mutationMode:e,...t})=>{var N;let r=Xe({...t,mutationMode:e}),{form:o,formProps:a,setId:n,formLoading:s,mutationResult:m}=r,d=(0,Me.useTranslate)(),{warnWhen:u,setWarnWhen:v}=(0,Me.useWarnAboutChange)(),y=(0,sn.useModalForm)({...t,form:o}),{visible:p,close:c,form:g,formProps:i,modalProps:b}=y,{mutationMode:f}=(0,Me.useMutationMode)(),h=e!=null?e:f,{isLoading:T,isSuccess:P,reset:C}=m!=null?m:{};(0,sr.useEffect)(()=>{p&&h==="pessimistic"&&P&&!T&&(c(),C==null||C(),setTimeout(()=>{o.resetFields()}))},[P,T]);let E={disabled:s,onClick:()=>{g.submit(),h!=="pessimistic"&&(c(),setTimeout(()=>{o.resetFields()}))},loading:s},{useParams:S}=(0,Me.useRouterContext)(),{resource:F}=S(),M=(0,Me.useResourceWithRoute)()((N=t.resource)!=null?N:F),B=(0,sr.useCallback)(()=>{if(u)if(window.confirm(d("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))v(!1);else return;n==null||n(void 0),y.close()},[u]),U=(0,sr.useCallback)(k=>{n==null||n(k),y.show()},[]);return{...r,...y,show:U,close:B,open:p,formProps:{...i,...r.formProps,onValuesChange:a==null?void 0:a.onValuesChange,onKeyUp:a==null?void 0:a.onKeyUp,onFinish:a.onFinish},modalProps:{...b,width:"1000px",okButtonProps:E,title:d(`${M.name}.titles.${t.action}`,`${(0,Me.userFriendlyResourceName)(`${t.action} ${M.name}`,"singular")}`),okText:d("buttons.save","Save"),cancelText:d("buttons.cancel","Cancel"),onCancel:B,forceRender:!0},formLoading:s}};var Ft=l("react"),$t=x(I());var un=({mutationMode:e,...t})=>{let r=Xe({...t,mutationMode:e}),{form:o,formProps:a,formLoading:n,mutationResult:s,id:m,setId:d}=r,u=(0,$t.useTranslate)(),{warnWhen:v,setWarnWhen:y}=(0,$t.useWarnAboutChange)(),[p,c]=(0,Ft.useState)(!1),{mutationMode:g}=(0,$t.useMutationMode)(),i=e!=null?e:g,{isLoading:b,isSuccess:f,reset:h}=s!=null?s:{};(0,Ft.useEffect)(()=>{p&&i==="pessimistic"&&f&&!b&&(c(!1),h==null||h())},[f,b]);let T={disabled:n,onClick:()=>{o==null||o.submit(),i!=="pessimistic"&&c(!1)},loading:n},P={recordItemId:m,onSuccess:()=>{d==null||d(void 0),c(!1)}},C=(0,Ft.useCallback)(()=>{if(v)if(window.confirm(u("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))y(!1);else return;c(!1),d==null||d(void 0)},[v]),E=(0,Ft.useCallback)(S=>{d==null||d(S),c(!0)},[]);return{...r,show:E,close:C,formProps:{form:o,...r.formProps,onValuesChange:a==null?void 0:a.onValuesChange,onKeyUp:a==null?void 0:a.onKeyUp,onFinish:a.onFinish},drawerProps:{width:"500px",onClose:C,open:p,visible:p,forceRender:!0},saveButtonProps:T,deleteButtonProps:P,formLoading:n}};var dn=l("sunflower-antd");var mn=(e={})=>{let t=Xe({...e}),{form:r,formProps:o}=t,a=(0,dn.useStepsForm)({isBackValidate:!1,form:r,submit:n=>{var s;(s=o==null?void 0:o.onFinish)==null||s.call(o,n)},...e});return{...t,...a,formProps:{...a.formProps,...t.formProps,onValuesChange:o==null?void 0:o.onValuesChange,onKeyUp:o==null?void 0:o.onKeyUp},saveButtonProps:{...t.saveButtonProps,onClick:()=>a.submit()}}};var et=l("react"),Mr=l("antd"),fn=l("sunflower-antd"),Rr=x(I());var kr=x(I()),Du=(e,t)=>{let r=(0,kr.getDefaultSortOrder)(e,t);if(r)return`${r}end`},Lu=(e,t,r="eq")=>(0,kr.getDefaultFilter)(e,t,r),So=e=>{var r;let t=[];if(Array.isArray(e))e.sort((o,a)=>{var n,s,m,d;return((s=((n=o.column)==null?void 0:n.sorter).multiple)!=null?s:0)<((d=((m=a.column)==null?void 0:m.sorter).multiple)!=null?d:0)?-1:0}).map(o=>{var a;if(o.field&&o.order){let n=Array.isArray(o.field)?o.field.join("."):`${o.field}`;t.push({field:`${(a=o.columnKey)!=null?a:n}`,order:o.order.replace("end","")})}});else if(e.field&&e.order){let o=Array.isArray(e.field)?e.field.join("."):`${e.field}`;t.push({field:`${(r=e.columnKey)!=null?r:o}`,order:e.order.replace("end","")})}return t},Fo=(e,t,r)=>{let o=[],a=(r!=null?r:[]).reduce((n,s)=>{let m=s.key||s.field;return{...n,[m]:s}},{});return Object.keys(e).map(n=>{var d,u;let s=e[n],m=((d=t.filter(v=>v.operator!=="or").find(v=>v.field===n))==null?void 0:d.operator)||((u=a[n])==null?void 0:u.operator);m!=="or"&&m!=="and"&&o.push({field:n,operator:m!=null?m:Array.isArray(s)?"in":"eq",value:s})}),o};var cn=x(I()),pn=x(l("react")),ut=({to:e,element:t})=>{let{Link:r}=(0,cn.useRouterContext)();return pn.default.createElement(r,{to:e,replace:!1,onClick:o=>{o.preventDefault()}},t)};var wo=({onSearch:e,initialCurrent:t,initialPageSize:r,hasPagination:o=!0,initialSorter:a,permanentSorter:n,initialFilter:s,permanentFilter:m,defaultSetFilterBehavior:d,syncWithLocation:u,resource:v,successNotification:y,errorNotification:p,queryOptions:c,liveMode:g,onLiveEvent:i,liveParams:b,metaData:f,dataProviderName:h}={hasPagination:!0})=>{let{tableQueryResult:T,current:P,setCurrent:C,pageSize:E,setPageSize:S,filters:F,setFilters:w,sorter:M,setSorter:B,createLinkForSyncWithLocation:U,pageCount:N}=(0,Rr.useTable)({permanentSorter:n,permanentFilter:m,initialCurrent:t,initialPageSize:r,hasPagination:o,initialSorter:a,initialFilter:s,syncWithLocation:u,resource:v,defaultSetFilterBehavior:d,successNotification:y,errorNotification:p,queryOptions:c,liveMode:g,onLiveEvent:i,liveParams:b,metaData:f,dataProviderName:h}),k=Mr.Grid.useBreakpoint(),[q]=Mr.Form.useForm(),R=(0,fn.useForm)({form:q}),Q=(0,Rr.useLiveMode)(g),{data:$,isFetched:Y,isLoading:W}=T,O=(oe,Z,ge)=>{if(Z&&Object.keys(Z).length>0){let te=Fo(Z,F,s);w(te)}if(ge&&Object.keys(ge).length>0){let te=So(ge);B(te)}o&&(C==null||C(oe.current||1),S==null||S(oe.pageSize||10))},A=async oe=>{if(e){let Z=await e(oe);w(Z),o&&(C==null||C(1))}},ee=()=>o?{itemRender:(oe,Z,ge)=>{var ht;let te=U({pagination:{pageSize:E,current:oe},sorter:M,filters:F});if(Z==="page")return(0,et.createElement)(ut,{to:te,element:`${oe}`});if(Z==="next"||Z==="prev")return(0,et.createElement)(ut,{to:te,element:ge});if(Z==="jump-next"||Z==="jump-prev"){let Pt=(ht=ge==null?void 0:ge.props)==null?void 0:ht.children;return(0,et.createElement)(ut,{to:te,element:et.Children.count(Pt)>1?(0,et.createElement)(et.Fragment,{},Pt):Pt})}return ge},pageSize:E,current:P,simple:!k.sm,position:k.sm?["bottomRight"]:["bottomCenter"],total:$==null?void 0:$.total}:!1;return{searchFormProps:{...R.formProps,onFinish:A},tableProps:{dataSource:$==null?void 0:$.data,loading:Q==="auto"?W:!Y,onChange:O,pagination:ee(),scroll:{x:!0}},tableQueryResult:T,sorter:M,filters:F,setSorter:B,setFilters:w,current:P,setCurrent:C,pageSize:E,setPageSize:S,pageCount:N}};var Bu=(e={})=>{let t=wo({...e}),r=Xe({...e,action:"edit",redirect:!1}),{id:o,setId:a,saveButtonProps:n}=r;return{...t,...r,saveButtonProps:n,cancelButtonProps:{onClick:()=>{a(void 0)}},editButtonProps:u=>({onClick:()=>a(u)}),isEditing:u=>u===o}};var gn=x(I()),Dc=e=>{let{queryResult:t,defaultValueQueryResult:r,onSearch:o,options:a}=(0,gn.useSelect)(e);return{selectProps:{options:a,onSearch:o,loading:r.isFetching,showSearch:!0,filterOption:!1},queryResult:t,defaultValueQueryResult:r}};var vn=x(I()),Uc=({resource:e,sort:t,filters:r,optionLabel:o,optionValue:a,queryOptions:n,fetchSize:s,pagination:m,liveMode:d,defaultValue:u,onLiveEvent:v,liveParams:y,metaData:p,dataProviderName:c})=>{let{queryResult:g,options:i}=(0,vn.useSelect)({resource:e,sort:t,filters:r,optionLabel:o,optionValue:a,queryOptions:n,fetchSize:s,pagination:m,liveMode:d,defaultValue:u,onLiveEvent:v,liveParams:y,metaData:p,dataProviderName:c});return{checkboxGroupProps:{options:i,defaultValue:u},queryResult:g}};var yn=x(I()),Hc=({resource:e,sort:t,filters:r,optionLabel:o,optionValue:a,queryOptions:n,fetchSize:s,pagination:m,liveMode:d,defaultValue:u,onLiveEvent:v,liveParams:y,metaData:p,dataProviderName:c})=>{let{queryResult:g,options:i}=(0,yn.useSelect)({resource:e,sort:t,filters:r,optionLabel:o,optionValue:a,queryOptions:n,fetchSize:s,pagination:m,liveMode:d,defaultValue:u,onLiveEvent:v,liveParams:y,metaData:p,dataProviderName:c});return{radioGroupProps:{options:i,defaultValue:u},queryResult:g}};var Nr=x(l("react")),ir=l("antd"),dt=x(I()),tp=({resourceName:e,mapData:t=d=>d,paparseOptions:r,batchSize:o=Number.MAX_SAFE_INTEGER,onFinish:a,metaData:n,dataProviderName:s,onProgress:m}={})=>{let d=(0,dt.useTranslate)(),u=(0,dt.useResourceWithRoute)(),{useParams:v}=(0,dt.useRouterContext)(),{resource:y}=v(),{name:p}=u(e!=null?e:y),{mutationResult:c,isLoading:g,handleChange:i}=(0,dt.useImport)({resourceName:e,mapData:t,paparseOptions:r,batchSize:o,metaData:n,dataProviderName:s,onFinish:a,onProgress:m!=null?m:({totalAmount:b,processedAmount:f})=>{if(b>0&&f>0){let h=Nr.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},Nr.default.createElement(ir.Progress,{type:"circle",percent:Math.floor(f/b*100),width:50,strokeColor:"#1890ff",status:"normal"}),Nr.default.createElement("span",{style:{marginLeft:8,width:"100%"}},d("notifications.importProgress",{processed:f,total:b},`Importing: ${f}/${b}`)));ir.notification.open({description:h,message:null,key:`${p}-import`,duration:0}),f>=b,f===b&&setTimeout(()=>{ir.notification.destroy(`${p}-import`)},4500)}}});return{uploadProps:{onChange:i,beforeUpload:()=>!1,showUploadList:!1,accept:".csv"},buttonProps:{type:"default",loading:g},mutationResult:c,isLoading:g}};var tt=l("react"),Ur=l("antd"),bn=x(I()),hn=x(I());var ku=({resource:e,initialCurrent:t,initialPageSize:r,hasPagination:o=!0,initialSorter:a,permanentSorter:n,initialFilter:s,permanentFilter:m,defaultSetFilterBehavior:d,onSearch:u,queryOptions:v,syncWithLocation:y,successNotification:p,errorNotification:c,liveMode:g,onLiveEvent:i,liveParams:b,metaData:f,dataProviderName:h,...T}={hasPagination:!0})=>{let{sorter:P,filters:C,current:E,pageSize:S,setFilters:F,setCurrent:w,setPageSize:M,createLinkForSyncWithLocation:B,tableQueryResult:U}=(0,bn.useTable)({resource:e,initialSorter:a,permanentSorter:n,initialFilter:s,permanentFilter:m,defaultSetFilterBehavior:d,initialCurrent:T.pagination?T.pagination.current:t,initialPageSize:T.pagination?T.pagination.pageSize:r,queryOptions:v,successNotification:p,errorNotification:c,liveMode:g,onLiveEvent:i,liveParams:b,metaData:f,syncWithLocation:y,dataProviderName:h,hasPagination:o}),N=Ur.Grid.useBreakpoint(),k=(0,hn.useLiveMode)(g),[q]=Ur.Form.useForm(),{data:R,isFetched:Q,isLoading:$}=U,Y=(A,ee)=>{o&&(w(A),M(ee||10))},W=async A=>{if(u){let ee=await u(A);return o&&(w==null||w(1)),F(ee)}},O=()=>o?{itemRender:(A,ee,oe)=>{var ge;let Z=B({pagination:{pageSize:S,current:A},sorter:P,filters:C});if(ee==="page")return(0,tt.createElement)(ut,{to:Z,element:`${A}`});if(ee==="next"||ee==="prev")return(0,tt.createElement)(ut,{to:Z,element:oe});if(ee==="jump-next"||ee==="jump-prev"){let te=(ge=oe==null?void 0:oe.props)==null?void 0:ge.children;return(0,tt.createElement)(ut,{to:Z,element:tt.Children.count(te)>1?(0,tt.createElement)(tt.Fragment,{},te):te})}return oe},pageSize:S,current:E,simple:!N.sm,total:R==null?void 0:R.total,onChange:Y,...T.pagination}:!1;return{searchFormProps:{form:q,onFinish:W},listProps:{...T,dataSource:R==null?void 0:R.data,loading:k==="auto"?$:!Q,pagination:O()},queryResult:U,filters:C,setFilters:F}};var Do=x(l("react")),Ht=x(I()),Pn=l("@ant-design/icons"),Pp=()=>{let e=(0,Ht.useMenu)(),t=(0,Ht.useTranslate)(),{hasDashboard:r}=(0,Ht.useRefineContext)();return Do.default.useMemo(()=>({...e,menuItems:[...r?[{name:"Dashboard",icon:Do.default.createElement(Pn.DashboardOutlined,null),route:"/",key:"dashboard",label:t("dashboard.title","Dashboard"),children:[]}]:[],...e.menuItems],defaultOpenKeys:e.selectedKey.split("/").filter(a=>a!=="")}),[e])};var Wt=l("react"),Cp=()=>{let[e,t]=(0,Wt.useState)(!1),r=(0,Wt.useCallback)(o=>{Mu(o.fileList).includes(!0)?t(!0):t(!1)},[]);return(0,Wt.useMemo)(()=>({isLoading:e,onChange:r}),[e])},Mu=e=>e.map(t=>{switch(t.status){case"uploading":return!0;default:return!1}});var Tn=x(I()),Sp=({modalProps:e={}}={})=>{let{show:t,close:r,visible:o}=(0,Tn.useModal)({defaultVisible:e.open});return{modalProps:{...e,onCancel:a=>{var n;(n=e.onCancel)==null||n.call(e,a),r()},open:o,visible:o},show:t,close:r}};var qr=x(l("react")),Or=l("antd");var Qt=x(l("react")),zt=l("antd"),Cn=l("@ant-design/icons"),xn=({notificationKey:e,message:t,cancelMutation:r,undoableTimeout:o})=>Qt.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},Qt.default.createElement(zt.Progress,{type:"circle",percent:(o!=null?o:0)*20,format:a=>a&&a/20,width:50,strokeColor:"#1890ff",status:"normal"}),Qt.default.createElement("span",{style:{marginLeft:8,width:"100%"}},t),Qt.default.createElement(zt.Button,{style:{flexShrink:0},onClick:()=>{r==null||r(),zt.notification.destroy(e!=null?e:"")},disabled:o===0,icon:Qt.default.createElement(Cn.UndoOutlined,null)}));var Vp={open:({key:e,message:t,description:r,type:o,cancelMutation:a,undoableTimeout:n})=>{o==="progress"?Or.notification.open({key:e,description:qr.default.createElement(xn,{notificationKey:e,message:t,cancelMutation:a,undoableTimeout:n}),message:null,duration:0,closeIcon:qr.default.createElement(qr.default.Fragment,null)}):Or.notification.open({key:e,description:t,message:r!=null?r:null,type:o})},close:e=>Or.notification.destroy(e)};var D=l("antd");var dv=x(l("@ant-design/icons")),Dd=x(l("@ant-design/icons"));var ot=x(l("react")),Kt=l("antd");var V=x(l("react")),pe=l("antd"),rt=l("@ant-design/icons"),ve=x(I());var En={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999};var{SubMenu:Ru}=pe.Menu,Lo=({render:e})=>{let[t,r]=(0,V.useState)(!1),[o,a]=(0,V.useState)(!1),n=(0,ve.useIsExistAuthentication)(),{Link:s}=(0,ve.useRouterContext)(),{mutate:m}=(0,ve.useLogout)(),d=(0,ve.useTitle)(),u=(0,ve.useTranslate)(),{menuItems:v,selectedKey:y,defaultOpenKeys:p}=(0,ve.useMenu)(),c=pe.Grid.useBreakpoint(),{hasDashboard:g}=(0,ve.useRefineContext)(),i=typeof c.lg>"u"?!1:!c.lg,b=d!=null?d:Bo,f=(w,M)=>w.map(B=>{let{icon:U,label:N,route:k,name:q,children:R,parentName:Q}=B;if(R.length>0)return V.default.createElement(ve.CanAccess,{key:k,resource:q.toLowerCase(),action:"list",params:{resource:B}},V.default.createElement(Ru,{key:k,icon:U!=null?U:V.default.createElement(rt.UnorderedListOutlined,null),title:N},f(R,M)));let $=k===M,Y=!(Q!==void 0&&R.length===0);return V.default.createElement(ve.CanAccess,{key:k,resource:q.toLowerCase(),action:"list",params:{resource:B}},V.default.createElement(pe.Menu.Item,{key:k,style:{fontWeight:$?"bold":"normal"},icon:U!=null?U:Y&&V.default.createElement(rt.UnorderedListOutlined,null)},V.default.createElement(s,{to:k},N),!t&&$&&V.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),h=n&&V.default.createElement(pe.Menu.Item,{key:"logout",onClick:()=>m(),icon:V.default.createElement(rt.LogoutOutlined,null)},u("buttons.logout","Logout")),T=g?V.default.createElement(pe.Menu.Item,{key:"dashboard",style:{fontWeight:y==="/"?"bold":"normal"},icon:V.default.createElement(rt.DashboardOutlined,null)},V.default.createElement(s,{to:"/"},u("dashboard.title","Dashboard")),!t&&y==="/"&&V.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,P=f(v,y),C=()=>e?e({dashboard:T,items:P,logout:h,collapsed:t}):V.default.createElement(V.default.Fragment,null,T,P,h),E=()=>V.default.createElement(V.default.Fragment,null,V.default.createElement(pe.Menu,{theme:"dark",selectedKeys:[y],defaultOpenKeys:p,mode:"inline",onClick:()=>{a(!1),c.lg||r(!0)}},C())),S=()=>V.default.createElement(V.default.Fragment,null,V.default.createElement(pe.Drawer,{open:o,onClose:()=>a(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},V.default.createElement(pe.Layout,null,V.default.createElement(pe.Layout.Sider,{style:{height:"100vh",overflow:"hidden"}},V.default.createElement(b,{collapsed:!1}),E()))),V.default.createElement(pe.Button,{style:En,size:"large",onClick:()=>a(!0),icon:V.default.createElement(rt.BarsOutlined,null)}));return V.default.createElement(pe.ConfigProvider,{theme:{components:{Menu:{colorItemBg:"transparent",colorItemText:"#fff",colorItemTextSelected:"#fff",colorItemBgSelected:"transparent",colorItemTextHover:"#fff"}}}},(()=>i?S():V.default.createElement(pe.Layout.Sider,{collapsible:!0,collapsed:t,onCollapse:w=>r(w),collapsedWidth:80,breakpoint:"lg"},V.default.createElement(b,{collapsed:t}),E()))())};var lr=x(l("react")),mt=l("antd"),Sn=x(I()),{Text:Nu}=mt.Typography,ko=()=>{let{data:e}=(0,Sn.useGetIdentity)();return e&&(e.name||e.avatar)?lr.default.createElement(mt.Layout.Header,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},lr.default.createElement(mt.Space,null,e.name&&lr.default.createElement(Nu,{ellipsis:!0,strong:!0},e.name),e.avatar&&lr.default.createElement(mt.Avatar,{size:"large",src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}))):null};var Uu=({children:e,Header:t,Sider:r,Footer:o,OffLayoutArea:a})=>{let n=Kt.Grid.useBreakpoint(),s=r!=null?r:Lo,m=t!=null?t:ko,d=typeof n.sm>"u"?!0:n.sm;return ot.default.createElement(Kt.Layout,{style:{minHeight:"100vh"}},ot.default.createElement(s,null),ot.default.createElement(Kt.Layout,null,ot.default.createElement(m,null),ot.default.createElement(Kt.Layout.Content,null,ot.default.createElement("div",{style:{minHeight:360,padding:d?24:12}},e),a&&ot.default.createElement(a,null)),o&&ot.default.createElement(o,null)))};var ur=x(l("react")),Fn=x(I()),Bo=({collapsed:e})=>{let{Link:t}=(0,Fn.useRouterContext)();return ur.default.createElement(t,{to:"/"},e?ur.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},ur.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{margin:"0 auto",padding:"12px 0",maxHeight:"65.5px"}})):ur.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",style:{width:"200px",padding:"12px 24px"}}))};var Ir=x(l("react")),Ln=l("antd"),Bn=l("@ant-design/icons"),We=x(I()),kn=x(Ve()),Ro=({resourceName:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:o,ignoreAccessControlProvider:a=!1,children:n,onClick:s,...m})=>{var h,T;let d=(h=o==null?void 0:o.enabled)!=null?h:!a,u=(T=o==null?void 0:o.hideIfUnauthorized)!=null?T:!1,v=(0,We.useTranslate)(),{Link:y}=(0,We.useRouterContext)(),{createUrl:p}=(0,We.useNavigation)(),{resourceName:c,resource:g}=(0,We.useResource)({resourceName:e,resourceNameOrRouteName:t}),{data:i}=(0,We.useCan)({resource:c,action:"create",queryOptions:{enabled:d},params:{resource:g}}),b=()=>i!=null&&i.can?"":i!=null&&i.reason?i.reason:v("buttons.notAccessTitle","You don't have permission to access"),f=p(e!=null?e:g.route);return d&&u&&!(i!=null&&i.can)?null:Ir.default.createElement(y,{to:f,replace:!1,onClick:P=>{if((i==null?void 0:i.can)===!1){P.preventDefault();return}s&&(P.preventDefault(),s(P))}},Ir.default.createElement(Ln.Button,{icon:Ir.default.createElement(Bn.PlusSquareOutlined,null),disabled:(i==null?void 0:i.can)===!1,title:b(),...m},!r&&(n!=null?n:v("buttons.create","Create"))))};var Ar=x(l("react")),Mn=l("antd"),Rn=l("@ant-design/icons"),Qe=x(I()),Nn=x(Ve()),No=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,ignoreAccessControlProvider:n=!1,children:s,onClick:m,...d})=>{var P,C;let u=(P=a==null?void 0:a.enabled)!=null?P:!n,v=(C=a==null?void 0:a.hideIfUnauthorized)!=null?C:!1,y=(0,Qe.useTranslate)(),{editUrl:p}=(0,Qe.useNavigation)(),{Link:c}=(0,Qe.useRouterContext)(),{resourceName:g,id:i,resource:b}=(0,Qe.useResource)({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}),{data:f}=(0,Qe.useCan)({resource:g,action:"edit",params:{id:i,resource:b},queryOptions:{enabled:u}}),h=()=>f!=null&&f.can?"":f!=null&&f.reason?f.reason:y("buttons.notAccessTitle","You don't have permission to access"),T=p(e!=null?e:b.route,i);return u&&v&&!(f!=null&&f.can)?null:Ar.default.createElement(c,{to:T,replace:!1,onClick:E=>{if((f==null?void 0:f.can)===!1){E.preventDefault();return}m&&(E.preventDefault(),m(E))}},Ar.default.createElement(Mn.Button,{icon:Ar.default.createElement(Rn.EditOutlined,null),disabled:(f==null?void 0:f.can)===!1,title:h(),...d},!o&&(s!=null?s:y("buttons.edit","Edit"))))};var Vr=x(l("react")),$r=l("antd"),Un=l("@ant-design/icons"),ze=x(I()),qn=x(Ve()),dr=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:o,mutationMode:a,children:n,successNotification:s,errorNotification:m,hideText:d=!1,accessControl:u,ignoreAccessControlProvider:v=!1,metaData:y,dataProviderName:p,confirmTitle:c,confirmOkText:g,confirmCancelText:i,invalidates:b,...f})=>{var k,q;let h=(k=u==null?void 0:u.enabled)!=null?k:!v,T=(q=u==null?void 0:u.hideIfUnauthorized)!=null?q:!1,P=(0,ze.useTranslate)(),{resourceName:C,id:E,resource:S}=(0,ze.useResource)({resourceNameOrRouteName:t,resourceName:e,recordItemId:r}),{mutationMode:F}=(0,ze.useMutationMode)(),w=a!=null?a:F,{mutate:M,isLoading:B,variables:U}=(0,ze.useDelete)(),{data:N}=(0,ze.useCan)({resource:C,action:"delete",params:{id:E,resource:S},queryOptions:{enabled:h}});return h&&T&&!(N!=null&&N.can)?null:Vr.default.createElement($r.Popconfirm,{key:"delete",okText:g!=null?g:P("buttons.delete","Delete"),cancelText:i!=null?i:P("buttons.cancel","Cancel"),okType:"danger",title:c!=null?c:P("buttons.confirm","Are you sure?"),okButtonProps:{disabled:B},onConfirm:()=>{M({id:E||"",resource:C,mutationMode:w,successNotification:s,errorNotification:m,metaData:y,dataProviderName:p,invalidates:b},{onSuccess:R=>{o&&o(R)}})},disabled:typeof(f==null?void 0:f.disabled)<"u"?f.disabled:(N==null?void 0:N.can)===!1},Vr.default.createElement($r.Button,{danger:!0,loading:E===(U==null?void 0:U.id)&&B,icon:Vr.default.createElement(Un.DeleteOutlined,null),disabled:(N==null?void 0:N.can)===!1,...f},!d&&(n!=null?n:P("buttons.delete","Delete"))))};var Uo=x(l("react")),On=l("antd"),In=l("@ant-design/icons"),jt=x(I()),An=x(Ve()),mr=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,metaData:a,dataProviderName:n,children:s,onClick:m,...d})=>{let u=(0,jt.useTranslate)(),{resourceName:v,id:y}=(0,jt.useResource)({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}),{refetch:p,isFetching:c}=(0,jt.useOne)({resource:v,id:y!=null?y:"",queryOptions:{enabled:!1},metaData:a,liveMode:"off",dataProviderName:n});return Uo.default.createElement(On.Button,{onClick:g=>m?m(g):p(),icon:Uo.default.createElement(In.RedoOutlined,{spin:c}),...d},!o&&(s!=null?s:u("buttons.refresh","Refresh")))};var Hr=x(l("react")),Vn=l("antd"),$n=l("@ant-design/icons"),Ke=x(I()),Hn=x(Ve()),Wu=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,ignoreAccessControlProvider:n=!1,children:s,onClick:m,...d})=>{var P,C;let u=(P=a==null?void 0:a.enabled)!=null?P:!n,v=(C=a==null?void 0:a.hideIfUnauthorized)!=null?C:!1,{showUrl:y}=(0,Ke.useNavigation)(),{Link:p}=(0,Ke.useRouterContext)(),c=(0,Ke.useTranslate)(),{resourceName:g,id:i,resource:b}=(0,Ke.useResource)({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}),{data:f}=(0,Ke.useCan)({resource:g,action:"show",params:{id:i,resource:b},queryOptions:{enabled:u}}),h=()=>f!=null&&f.can?"":f!=null&&f.reason?f.reason:c("buttons.notAccessTitle","You don't have permission to access"),T=y(e!=null?e:b.route,i);return u&&v&&!(f!=null&&f.can)?null:Hr.default.createElement(p,{to:T,replace:!1,onClick:E=>{if((f==null?void 0:f.can)===!1){E.preventDefault();return}m&&(E.preventDefault(),m(E))}},Hr.default.createElement(Vn.Button,{icon:Hr.default.createElement($n.EyeOutlined,null),disabled:(f==null?void 0:f.can)===!1,title:h(),...d},!o&&(s!=null?s:c("buttons.show","Show"))))};var Wr=x(l("react")),Wn=l("antd"),Qn=l("@ant-design/icons"),Re=x(I()),zn=x(Ve()),cr=({resourceName:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:o,ignoreAccessControlProvider:a=!1,children:n,onClick:s,...m})=>{var h,T,P;let d=(h=o==null?void 0:o.enabled)!=null?h:!a,u=(T=o==null?void 0:o.hideIfUnauthorized)!=null?T:!1,{listUrl:v}=(0,Re.useNavigation)(),{Link:y}=(0,Re.useRouterContext)(),p=(0,Re.useTranslate)(),{resourceName:c,resource:g}=(0,Re.useResource)({resourceName:e,resourceNameOrRouteName:t}),{data:i}=(0,Re.useCan)({resource:c,action:"list",queryOptions:{enabled:d},params:{resource:g}}),b=()=>i!=null&&i.can?"":i!=null&&i.reason?i.reason:p("buttons.notAccessTitle","You don't have permission to access"),f=v(e!=null?e:g.route);return d&&u&&!(i!=null&&i.can)?null:Wr.default.createElement(y,{to:f,replace:!1,onClick:C=>{if((i==null?void 0:i.can)===!1){C.preventDefault();return}s&&(C.preventDefault(),s(C))}},Wr.default.createElement(Wn.Button,{icon:Wr.default.createElement(Qn.BarsOutlined,null),disabled:(i==null?void 0:i.can)===!1,title:b(),...m},!r&&(n!=null?n:p(`${c}.titles.list`,(0,Re.userFriendlyResourceName)((P=g.label)!=null?P:c,"plural")))))};var qo=x(l("react")),Kn=l("antd"),jn=l("@ant-design/icons"),Gn=x(I()),_n=x(Ve()),Qu=({hideText:e=!1,children:t,...r})=>{let o=(0,Gn.useTranslate)();return qo.default.createElement(Kn.Button,{type:"default",icon:qo.default.createElement(jn.ExportOutlined,null),...r},!e&&(t!=null?t:o("buttons.export","Export")))};var Oo=x(l("react")),Yn=l("antd"),Zn=l("@ant-design/icons"),Jn=x(I()),Xn=x(Ve()),pr=({hideText:e=!1,children:t,...r})=>{let o=(0,Jn.useTranslate)();return Oo.default.createElement(Yn.Button,{type:"primary",icon:Oo.default.createElement(Zn.SaveOutlined,null),...r},!e&&(t!=null?t:o("buttons.save","Save")))};var Qr=x(l("react")),es=l("antd"),ts=l("@ant-design/icons"),je=x(I()),rs=x(Ve()),zu=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,ignoreAccessControlProvider:n=!1,children:s,onClick:m,...d})=>{var P,C;let u=(P=a==null?void 0:a.enabled)!=null?P:!n,v=(C=a==null?void 0:a.hideIfUnauthorized)!=null?C:!1,{cloneUrl:y}=(0,je.useNavigation)(),{Link:p}=(0,je.useRouterContext)(),c=(0,je.useTranslate)(),{id:g,resourceName:i,resource:b}=(0,je.useResource)({resourceNameOrRouteName:t,recordItemId:r,resourceName:e}),{data:f}=(0,je.useCan)({resource:i,action:"create",params:{id:g,resource:b},queryOptions:{enabled:u}}),h=()=>f!=null&&f.can?"":f!=null&&f.reason?f.reason:c("buttons.notAccessTitle","You don't have permission to access"),T=y(e!=null?e:b.route,g);return u&&v&&!(f!=null&&f.can)?null:Qr.default.createElement(p,{to:T,replace:!1,onClick:E=>{if((f==null?void 0:f.can)===!1){E.preventDefault();return}m&&(E.preventDefault(),m(E))}},Qr.default.createElement(es.Button,{icon:Qr.default.createElement(ts.PlusSquareOutlined,null),disabled:(f==null?void 0:f.can)===!1,title:h(),...d},!o&&(s!=null?s:c("buttons.clone","Clone"))))};var zr=x(l("react")),Kr=l("antd"),os=l("@ant-design/icons"),as=x(I()),ns=x(Ve()),Ku=({uploadProps:e,buttonProps:t,hideText:r=!1,children:o})=>{let a=(0,as.useTranslate)();return zr.default.createElement(Kr.Upload,{...e},zr.default.createElement(Kr.Button,{icon:zr.default.createElement(os.ImportOutlined,null),...t},!r&&(o!=null?o:a("buttons.import","Import"))))};var at=x(l("react")),ss=l("antd"),Ge=x(I());var ju=({canCreate:e,title:t,children:r,createButtonProps:o,resource:a,wrapperProps:n,contentProps:s,headerProps:m,breadcrumb:d,headerButtonProps:u,headerButtons:v})=>{var P,C;let{useParams:y}=(0,Ge.useRouterContext)(),{resource:p}=y(),c=(0,Ge.useTranslate)(),i=(0,Ge.useResourceWithRoute)()(a!=null?a:p),b=e!=null?e:i.canCreate||o,{options:f}=(0,Ge.useRefineContext)(),h=typeof d>"u"?f==null?void 0:f.breadcrumb:d,T=b?at.default.createElement(Ro,{size:"middle",resourceNameOrRouteName:i.route,...o}):null;return at.default.createElement("div",{...n!=null?n:{}},at.default.createElement(pt,{ghost:!1,title:t!=null?t:c(`${i.name}.titles.list`,(0,Ge.userFriendlyResourceName)((P=i.label)!=null?P:i.name,"plural")),extra:v?at.default.createElement(ss.Space,{wrap:!0,...u},typeof v=="function"?v({defaultButtons:T}):v):T,breadcrumb:typeof h<"u"?(C=at.default.createElement(at.default.Fragment,null,h))!=null?C:void 0:at.default.createElement(ct,null),...m!=null?m:{}},at.default.createElement("div",{...s!=null?s:{}},r)))};var we=x(l("react")),wt=l("antd"),Ne=x(I());var Gu=({title:e,saveButtonProps:t,children:r,resource:o,isLoading:a=!1,breadcrumb:n,wrapperProps:s,headerProps:m,contentProps:d,headerButtonProps:u,headerButtons:v,footerButtonProps:y,footerButtons:p,goBack:c})=>{var F,w;let{goBack:g}=(0,Ne.useNavigation)(),i=(0,Ne.useTranslate)(),{useParams:b}=(0,Ne.useRouterContext)(),{resource:f,action:h}=b(),P=(0,Ne.useResourceWithRoute)()(o!=null?o:f),{options:C}=(0,Ne.useRefineContext)(),E=typeof n>"u"?C==null?void 0:C.breadcrumb:n,S=we.default.createElement(we.default.Fragment,null,we.default.createElement(pr,{...a?{disabled:!0}:{},...t,htmlType:"submit"}));return we.default.createElement("div",{...s!=null?s:{}},we.default.createElement(pt,{ghost:!1,backIcon:c,onBack:h?g:void 0,title:e!=null?e:i(`${P.name}.titles.create`,`Create ${(0,Ne.userFriendlyResourceName)((F=P.label)!=null?F:P.name,"singular")}`),breadcrumb:typeof E<"u"?(w=we.default.createElement(we.default.Fragment,null,E))!=null?w:void 0:we.default.createElement(ct,null),extra:we.default.createElement(wt.Space,{wrap:!0,...u!=null?u:{}},v?typeof v=="function"?v({defaultButtons:null}):v:null),...m!=null?m:{}},we.default.createElement(wt.Spin,{spinning:a},we.default.createElement(wt.Card,{bordered:!1,actions:[we.default.createElement(wt.Space,{key:"action-buttons",style:{float:"right",marginRight:24},...y!=null?y:{}},p?typeof p=="function"?p({defaultButtons:S}):p:S)],...d!=null?d:{}},r))))};var fe=x(l("react")),Dt=l("antd"),Te=x(I());var _u=({title:e,saveButtonProps:t,mutationMode:r,recordItemId:o,children:a,deleteButtonProps:n,canDelete:s,resource:m,isLoading:d=!1,dataProviderName:u,breadcrumb:v,wrapperProps:y,headerProps:p,contentProps:c,headerButtonProps:g,headerButtons:i,footerButtonProps:b,footerButtons:f,goBack:h})=>{var W,O;let T=(0,Te.useTranslate)(),{goBack:P,list:C}=(0,Te.useNavigation)(),E=(0,Te.useResourceWithRoute)(),{mutationMode:S}=(0,Te.useMutationMode)(),F=r!=null?r:S,{useParams:w}=(0,Te.useRouterContext)(),{resource:M,action:B,id:U}=w(),N=E(m!=null?m:M),k=s!=null?s:N.canDelete||n,{options:q}=(0,Te.useRefineContext)(),R=typeof v>"u"?q==null?void 0:q.breadcrumb:v,Q=o!=null?o:U,$=fe.default.createElement(fe.default.Fragment,null,!o&&fe.default.createElement(cr,{...d?{disabled:!0}:{},resourceNameOrRouteName:N.route}),fe.default.createElement(mr,{...d?{disabled:!0}:{},resourceNameOrRouteName:N.route,recordItemId:Q,dataProviderName:u})),Y=fe.default.createElement(fe.default.Fragment,null,k&&fe.default.createElement(dr,{...d?{disabled:!0}:{},mutationMode:F,onSuccess:()=>{var A;C((A=N.route)!=null?A:N.name)},dataProviderName:u,...n}),fe.default.createElement(pr,{...d?{disabled:!0}:{},...t}));return fe.default.createElement("div",{...y!=null?y:{}},fe.default.createElement(pt,{ghost:!1,backIcon:h,onBack:B?P:void 0,title:e!=null?e:T(`${N.name}.titles.edit`,`Edit ${(0,Te.userFriendlyResourceName)((W=N.label)!=null?W:N.name,"singular")}`),extra:fe.default.createElement(Dt.Space,{wrap:!0,...g!=null?g:{}},i?typeof i=="function"?i({defaultButtons:$}):i:$),breadcrumb:typeof R<"u"?(O=fe.default.createElement(fe.default.Fragment,null,R))!=null?O:void 0:fe.default.createElement(ct,null),...p!=null?p:{}},fe.default.createElement(Dt.Spin,{spinning:d},fe.default.createElement(Dt.Card,{bordered:!1,actions:[fe.default.createElement(Dt.Space,{key:"footer-buttons",wrap:!0,style:{float:"right",marginRight:24},...b!=null?b:{}},f?typeof f=="function"?f({defaultButtons:Y}):f:Y)],...c!=null?c:{}},a))))};var be=x(l("react")),Lt=l("antd"),Ue=x(I());var Yu=({title:e,canEdit:t,canDelete:r,isLoading:o=!1,children:a,resource:n,recordItemId:s,dataProviderName:m,breadcrumb:d,contentProps:u,headerProps:v,wrapperProps:y,headerButtons:p,footerButtons:c,footerButtonProps:g,headerButtonProps:i,goBack:b})=>{var R,Q;let f=(0,Ue.useTranslate)(),{goBack:h,list:T}=(0,Ue.useNavigation)(),P=(0,Ue.useResourceWithRoute)(),{useParams:C}=(0,Ue.useRouterContext)(),{resource:E,action:S,id:F}=C(),w=P(n!=null?n:E),M=r!=null?r:w.canDelete,B=t!=null?t:w.canEdit,{options:U}=(0,Ue.useRefineContext)(),N=typeof d>"u"?U==null?void 0:U.breadcrumb:d,k=s!=null?s:F,q=be.default.createElement(be.default.Fragment,null,!s&&be.default.createElement(cr,{resourceNameOrRouteName:w.route}),B&&be.default.createElement(No,{...o?{disabled:!0}:{},resourceNameOrRouteName:w.route,recordItemId:k}),M&&be.default.createElement(dr,{...o?{disabled:!0}:{},resourceNameOrRouteName:w.route,recordItemId:k,onSuccess:()=>{var $;return T(($=w.route)!=null?$:w.name)},dataProviderName:m}),be.default.createElement(mr,{...o?{disabled:!0}:{},resourceNameOrRouteName:w.route,recordItemId:k,dataProviderName:m}));return be.default.createElement("div",{...y!=null?y:{}},be.default.createElement(pt,{ghost:!1,backIcon:b,onBack:S?h:void 0,title:e!=null?e:f(`${w.name}.titles.show`,`Show ${(0,Ue.userFriendlyResourceName)((R=w.label)!=null?R:w.name,"singular")}`),extra:be.default.createElement(Lt.Space,{key:"extra-buttons",wrap:!0,...i!=null?i:{}},p?typeof p=="function"?p({defaultButtons:q}):p:q),breadcrumb:typeof N<"u"?(Q=be.default.createElement(be.default.Fragment,null,N))!=null?Q:void 0:be.default.createElement(ct,null),...v!=null?v:{}},be.default.createElement(Lt.Spin,{spinning:o},be.default.createElement(Lt.Card,{bordered:!1,actions:c?[be.default.createElement(Lt.Space,{key:"footer-buttons",wrap:!0,...g},typeof c=="function"?c({defaultButtons:null}):c)]:void 0,...u!=null?u:{}},a))))};var is=x(l("react")),ls=l("antd"),{Text:Zu}=ls.Typography,Ju=({value:e,...t})=>is.default.createElement(Zu,{...t},e);var us=x(l("react")),ds=l("antd"),Xu=({value:e,...t})=>us.default.createElement(ds.Tag,{...t},e==null?void 0:e.toString());var ms=x(l("react")),cs=l("antd"),{Link:ed}=cs.Typography,td=({value:e,...t})=>ms.default.createElement(ed,{href:`mailto:${e}`,...t},e);var ps=x(l("react")),fs=l("antd"),rd=({value:e,imageTitle:t,...r})=>ps.default.createElement(fs.Image,{...r,src:e,title:t});var Gt=x(l("react")),gs=l("antd"),jr=l("@ant-design/icons"),od=({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:o=Gt.default.createElement(jr.CheckOutlined,null),falseIcon:a=Gt.default.createElement(jr.CloseOutlined,null),...n})=>Gt.default.createElement(gs.Tooltip,{title:e?t:r,...n},e?Gt.default.createElement("span",null,o):Gt.default.createElement("span",null,a));var vs=x(l("react")),Gr=x(l("dayjs")),ys=l("antd"),bs=x(l("dayjs/plugin/localizedFormat"));Gr.default.extend(bs.default);var ad=Gr.default.locale(),nd=({value:e,locales:t,format:r="L",...o})=>{let{Text:a}=ys.Typography;return vs.default.createElement(a,{...o},(0,Gr.default)(e).locale(t||ad).format(r))};var hs=x(l("react"));var sd=({title:e,src:t,...r})=>hs.default.createElement(Io,{value:t,title:e,...r},e!=null?e:t);var Ps=x(l("react")),Ts=l("antd"),{Link:id}=Ts.Typography,Io=({children:e,value:t,...r})=>Ps.default.createElement(id,{href:t,...r},e!=null?e:t);var Cs=x(l("react")),xs=l("antd"),{Text:ld}=xs.Typography;function ud(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var dd=({value:e,locale:t,options:r,...o})=>{let a=parseFloat(e.toString());return Cs.default.createElement(ld,{...o},ud()?a.toLocaleString(t,r):a)};var Es=x(l("react")),Ss=x(l("react-markdown")),Fs=x(l("remark-gfm")),md=({value:e=""})=>Es.default.createElement(Ss.default,{plugins:[Fs.default]},e);var qe=x(l("react")),fr=l("antd"),Ao=x(l("dayjs")),ws=l("@ant-design/icons"),Ds=x(I()),cd=e=>{let{setSelectedKeys:t,confirm:r,clearFilters:o,mapValue:a,selectedKeys:n,children:s}=e,[m,d]=(0,qe.useState)(n),u=(0,Ds.useTranslate)(),v=()=>{o&&(d([]),o())},y=()=>{let i=p(m),b;typeof i=="number"?b=`${i}`:Ao.default.isDayjs(i)?b=[i.toISOString()]:b=i,t(b),r==null||r()},p=i=>a?a(i):i,c=i=>{if(typeof i=="object"){if(Array.isArray(i)){let P=p(i);return d(P),t(P)}let f=!i||!i.target||Ao.default.isDayjs(i)?{target:{value:i}}:i,{target:h}=f,T=p(h.value);d(T);return}let b=p(i);d(b)},g=qe.default.Children.map(s,i=>qe.default.isValidElement(i)?qe.default.cloneElement(i,{onChange:c,value:p(m)}):i);return qe.default.createElement("div",{style:{padding:10,display:"flex",flexDirection:"column",alignItems:"flex-end"}},qe.default.createElement("div",{style:{marginBottom:15}},g),qe.default.createElement(fr.Space,null,qe.default.createElement(fr.Button,{type:"primary",size:"small",onClick:()=>y()},qe.default.createElement(ws.FilterOutlined,null)," ",u("buttons.filter","Filter")),qe.default.createElement(fr.Button,{danger:!0,size:"small",onClick:()=>v()},u("buttons.clear","Clear"))))};var Oe=x(l("react")),$e=l("antd"),Ls=l("@ant-design/icons"),ft=x(I()),{Text:pd}=$e.Typography,fd=()=>{let[e,t]=(0,Oe.useState)(),{push:r}=(0,ft.useNavigation)(),o=(0,ft.useTranslate)(),a=["edit","create","show"],{useParams:n}=(0,ft.useRouterContext)(),s=n(),m=(0,ft.useResourceWithRoute)();return(0,Oe.useEffect)(()=>{if(s.resource){let d=m(s.resource);s.action&&a.includes(s.action)&&!d[s.action]&&t(o("pages.error.info",{action:s.action,resource:s.resource},`You may have forgotten to add the "${s.action}" component to "${s.resource}" resource.`))}},[s]),Oe.default.createElement($e.Result,{status:"404",title:"404",extra:Oe.default.createElement($e.Space,{direction:"vertical",size:"large"},Oe.default.createElement($e.Space,null,Oe.default.createElement(pd,null,o("pages.error.404","Sorry, the page you visited does not exist.")),e&&Oe.default.createElement($e.Tooltip,{title:e},Oe.default.createElement(Ls.InfoCircleOutlined,{}))),Oe.default.createElement($e.Button,{type:"primary",onClick:()=>r("/")},o("pages.error.backHome","Back Home")))})};var re=x(l("react")),X=l("antd"),_r=x(I());var Bs={background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"},ks={maxWidth:"408px",margin:"auto"},Ms={textAlign:"center",color:"#626262",fontSize:"30px",letterSpacing:"-0.04em"},Rs={display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"28px"};var{Text:gd,Title:vd}=X.Typography,yd=()=>{let[e]=X.Form.useForm(),t=(0,_r.useTranslate)(),{mutate:r,isLoading:o}=(0,_r.useLogin)(),a=re.default.createElement(vd,{level:3,style:Ms},t("pages.login.title","Sign in your account"));return re.default.createElement(X.Layout,{style:Bs},re.default.createElement(X.Row,{justify:"center",align:"middle",style:{height:"100vh"}},re.default.createElement(X.Col,{xs:22},re.default.createElement("div",{style:ks},re.default.createElement("div",{style:Rs},re.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),re.default.createElement(X.Card,{title:a,headStyle:{borderBottom:0}},re.default.createElement(X.Form,{layout:"vertical",form:e,onFinish:n=>{r(n)},requiredMark:!1,initialValues:{remember:!1}},re.default.createElement(X.Form.Item,{name:"username",label:t("pages.login.username","Username"),rules:[{required:!0}]},re.default.createElement(X.Input,{size:"large",placeholder:t("pages.login.username","Username")})),re.default.createElement(X.Form.Item,{name:"password",label:t("pages.login.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},re.default.createElement(X.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),re.default.createElement("div",{style:{marginBottom:"12px"}},re.default.createElement(X.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},re.default.createElement(X.Checkbox,{style:{fontSize:"12px"}},t("pages.login.remember","Remember me"))),re.default.createElement("a",{style:{float:"right",fontSize:"12px"},href:"#"},t("pages.login.forgotPassword","Forgot password?"))),re.default.createElement(X.Button,{type:"primary",size:"large",htmlType:"submit",loading:o,block:!0},t("pages.login.signin","Sign in"))),re.default.createElement("div",{style:{marginTop:8}},re.default.createElement(gd,{style:{fontSize:12}},t("pages.login.noAccount","Don\u2019t have an account?")," ",re.default.createElement("a",{href:"#",style:{fontWeight:"bold"}},t("pages.login.signup","Sign up")))))))))};var de=x(l("react")),Ie=l("antd"),Yt=l("@ant-design/icons"),_t={root:{height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover",backgroundColor:"#331049"},title:{color:"white",fontWeight:800,fontSize:"64px",marginBottom:"8px"},p1:{color:"white",marginBottom:0,fontSize:"20px",fontWeight:"bold"},p2:{color:"white",fontSize:"20px"},code:{backgroundColor:"white",color:"#331049"}},{Title:bd}=Ie.Typography,hd=()=>de.createElement(Ie.Row,{align:"middle",justify:"center",style:_t.root},de.createElement(Ie.Col,{style:{textAlign:"center"}},de.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),de.createElement(bd,{style:_t.title},"Welcome on board"),de.createElement("p",{style:_t.p1},"Your configuration is completed."),de.createElement("p",{style:_t.p2},"Now you can get started by adding your resources to the"," ",de.createElement("code",{style:_t.code},"resources")," property of"," ",de.createElement("code",{style:_t.code},"<Refine>")),de.createElement(Ie.Space,{size:"large",wrap:!0,style:{marginTop:"70px",justifyContent:"center"}},de.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},de.createElement(Ie.Button,{size:"large",icon:de.createElement(Yt.ReadOutlined,null)},"Documentation")),de.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},de.createElement(Ie.Button,{size:"large",icon:de.createElement(Yt.FolderOutlined,null)},"Examples")),de.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},de.createElement(Ie.Button,{size:"large",icon:de.createElement(Yt.TeamOutlined,null)},"Community")))));var Bt=x(l("react"));var G=x(l("react")),z=l("antd"),Zt=x(I());var gt={background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover"},vt={maxWidth:"408px",margin:"auto"},yt={textAlign:"center",color:"#626262",marginBottom:0,fontSize:"24px",letterSpacing:"-0.04em",overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"};var{Text:Pd,Title:Td}=z.Typography,Vo=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:a,wrapperProps:n,renderContent:s,formProps:m})=>{let[d]=z.Form.useForm(),u=(0,Zt.useTranslate)(),{Link:v}=(0,Zt.useRouterContext)(),{mutate:y,isLoading:p}=(0,Zt.useLogin)(),c=G.default.createElement(Td,{level:3,style:yt},u("pages.login.title","Sign in to your account")),g=()=>e&&e.length>0?G.default.createElement(G.default.Fragment,null,e.map(b=>G.default.createElement(z.Button,{key:b.name,type:"default",block:!0,icon:b.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>y({providerName:b.name})},b.label)),G.default.createElement(z.Divider,null,u("pages.login.divider","or"))):null,i=G.default.createElement(z.Card,{title:c,headStyle:{borderBottom:0},style:vt,...a!=null?a:{}},g(),G.default.createElement(z.Form,{layout:"vertical",form:d,onFinish:b=>y(b),requiredMark:!1,initialValues:{remember:!1},...m},G.default.createElement(z.Form.Item,{name:"email",label:u("pages.login.fields.email","Email"),rules:[{required:!0},{type:"email",message:u("pages.login.errors.validEmail","Invalid email address")}]},G.default.createElement(z.Input,{size:"large",placeholder:u("pages.login.fields.email","Email")})),G.default.createElement(z.Form.Item,{name:"password",label:u("pages.login.fields.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},G.default.createElement(z.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),G.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},o!=null?o:G.default.createElement(z.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},G.default.createElement(z.Checkbox,{style:{fontSize:"12px"}},u("pages.login.buttons.rememberMe","Remember me"))),r!=null?r:G.default.createElement(v,{style:{fontSize:"12px",marginLeft:"auto"},to:"/forgot-password"},u("pages.login.buttons.forgotPassword","Forgot password?"))),G.default.createElement(z.Form.Item,null,G.default.createElement(z.Button,{type:"primary",size:"large",htmlType:"submit",loading:p,block:!0},u("pages.login.signin","Sign in")))),G.default.createElement("div",{style:{marginTop:8}},t!=null?t:G.default.createElement(Pd,{style:{fontSize:12}},u("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",G.default.createElement(v,{to:"/register",style:{fontWeight:"bold"}},u("pages.login.signup","Sign up")))));return G.default.createElement(z.Layout,{style:gt,...n!=null?n:{}},G.default.createElement(z.Row,{justify:"center",align:"middle",style:{height:"100vh"}},G.default.createElement(z.Col,{xs:22},s?s(i):i)))};var le=x(l("react")),_=l("antd"),Jt=x(I());var{Text:Cd,Title:xd}=_.Typography,$o=({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:a,formProps:n})=>{let[s]=_.Form.useForm(),m=(0,Jt.useTranslate)(),{Link:d}=(0,Jt.useRouterContext)(),{mutate:u,isLoading:v}=(0,Jt.useRegister)(),y=le.default.createElement(xd,{level:3,style:yt},m("pages.register.title","Sign up for your account")),p=()=>e&&e.length>0?le.default.createElement(le.default.Fragment,null,e.map(g=>le.default.createElement(_.Button,{key:g.name,type:"ghost",block:!0,icon:g.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>u({providerName:g.name})},g.label)),le.default.createElement(_.Divider,null,m("pages.login.divider","or"))):null,c=le.default.createElement(_.Card,{title:y,headStyle:{borderBottom:0},style:vt,...o!=null?o:{}},p(),le.default.createElement(_.Form,{layout:"vertical",form:s,onFinish:g=>u(g),requiredMark:!1,...n},le.default.createElement(_.Form.Item,{name:"email",label:m("pages.register.email","Email"),rules:[{required:!0},{type:"email",message:m("pages.register.errors.validEmail","Invalid email address")}]},le.default.createElement(_.Input,{size:"large",placeholder:m("pages.register.fields.email","Email")})),le.default.createElement(_.Form.Item,{name:"password",label:m("pages.register.fields.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},le.default.createElement(_.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),le.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},t!=null?t:le.default.createElement(Cd,{style:{fontSize:12,marginLeft:"auto"}},m("pages.login.buttons.haveAccount","Have an account?")," ",le.default.createElement(d,{style:{fontWeight:"bold"},to:"/login"},m("pages.login.signin","Sign in")))),le.default.createElement(_.Form.Item,null,le.default.createElement(_.Button,{type:"primary",size:"large",htmlType:"submit",loading:v,block:!0},m("pages.register.buttons.submit","Sign up")))));return le.default.createElement(_.Layout,{style:gt,...r!=null?r:{}},le.default.createElement(_.Row,{justify:"center",align:"middle",style:{height:"100vh"}},le.default.createElement(_.Col,{xs:22},a?a(c):c)))};var Ce=x(l("react")),me=l("antd"),Xt=x(I());var{Text:Ed,Title:Sd}=me.Typography,Ho=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:a})=>{let[n]=me.Form.useForm(),s=(0,Xt.useTranslate)(),{Link:m}=(0,Xt.useRouterContext)(),{mutate:d,isLoading:u}=(0,Xt.useForgotPassword)(),v=Ce.default.createElement(Sd,{level:3,style:yt},s("pages.forgotPassword.title","Forgot your password?")),y=Ce.default.createElement(me.Card,{title:v,headStyle:{borderBottom:0},style:vt,...r!=null?r:{}},Ce.default.createElement(me.Form,{layout:"vertical",form:n,onFinish:p=>d(p),requiredMark:!1,...a},Ce.default.createElement(me.Form.Item,{name:"email",label:s("pages.forgotPassword.fields.email","Email"),rules:[{required:!0},{type:"email",message:s("pages.forgotPassword.errors.validEmail","Invalid email address")}]},Ce.default.createElement(me.Input,{type:"email",size:"large",placeholder:s("pages.forgotPassword.fields.email","Email")})),Ce.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},e!=null?e:Ce.default.createElement(Ed,{style:{fontSize:12,marginLeft:"auto"}},s("pages.register.buttons.haveAccount","Have an account? ")," ",Ce.default.createElement(m,{style:{fontWeight:"bold"},to:"/login"},s("pages.login.signin","Sign in")))),Ce.default.createElement(me.Form.Item,null,Ce.default.createElement(me.Button,{type:"primary",size:"large",htmlType:"submit",loading:u,block:!0},s("pages.forgotPassword.buttons.submit","Send reset instructions")))));return Ce.default.createElement(me.Layout,{style:gt,...t!=null?t:{}},Ce.default.createElement(me.Row,{justify:"center",align:"middle",style:{height:"100vh"}},Ce.default.createElement(me.Col,{xs:22},o?o(y):y)))};var De=x(l("react")),ne=l("antd"),Yr=x(I());var{Title:Fd}=ne.Typography,Wo=({wrapperProps:e,contentProps:t,renderContent:r,formProps:o})=>{let[a]=ne.Form.useForm(),n=(0,Yr.useTranslate)(),{mutate:s,isLoading:m}=(0,Yr.useUpdatePassword)(),d=De.default.createElement(Fd,{level:3,style:yt},n("pages.updatePassword.title","Set New Password")),u=De.default.createElement(ne.Card,{title:d,headStyle:{borderBottom:0},style:vt,...t!=null?t:{}},De.default.createElement(ne.Form,{layout:"vertical",form:a,onFinish:v=>s(v),requiredMark:!1,...o},De.default.createElement(ne.Form.Item,{name:"password",label:n("pages.updatePassword.fields.password","New Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},De.default.createElement(ne.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),De.default.createElement(ne.Form.Item,{name:"confirmPassword",label:n("pages.updatePassword.fields.confirmPassword","Confirm New Password"),hasFeedback:!0,dependencies:["password"],rules:[{required:!0},({getFieldValue:v})=>({validator(y,p){return!p||v("password")===p?Promise.resolve():Promise.reject(new Error(n("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")))}})],style:{marginBottom:"12px"}},De.default.createElement(ne.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),De.default.createElement(ne.Form.Item,null,De.default.createElement(ne.Button,{type:"primary",size:"large",htmlType:"submit",loading:m,block:!0},n("pages.updatePassword.buttons.submit","Update")))));return De.default.createElement(ne.Layout,{style:gt,...e!=null?e:{}},De.default.createElement(ne.Row,{justify:"center",align:"middle",style:{height:"100vh"}},De.default.createElement(ne.Col,{xs:22},r?r(u):u)))};var wd=e=>{let{type:t}=e;return Bt.default.createElement(Bt.default.Fragment,null,(()=>{switch(t){case"register":return Bt.default.createElement($o,{...e});case"forgotPassword":return Bt.default.createElement(Ho,{...e});case"updatePassword":return Bt.default.createElement(Wo,{...e});default:return Bt.default.createElement(Vo,{...e})}})())};var bt=x(l("react")),er=x(I()),Zr=l("antd"),Ns=l("@ant-design/icons"),ct=({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1})=>{let{breadcrumbs:o}=(0,er.useBreadcrumb)(),{Link:a}=(0,er.useRouterContext)(),{hasDashboard:n}=(0,er.useRefineContext)();return o.length===1?null:bt.default.createElement(Zr.Breadcrumb,{...e},t&&n&&bt.default.createElement(Zr.Breadcrumb.Item,null,bt.default.createElement(a,{to:"/"},bt.default.createElement(Ns.HomeOutlined,null))),o.map(({label:s,icon:m,href:d})=>bt.default.createElement(Zr.Breadcrumb.Item,{key:s},!r&&m,d?bt.default.createElement(a,{to:d},s):bt.default.createElement("span",null,s))))};var tr=x(l("react")),Us=l("@ant-design/pro-layout"),gr=l("antd"),qs=l("@ant-design/icons"),pt=({children:e,...t})=>{let r=typeof t.backIcon>"u"?tr.default.createElement(gr.Button,{type:"text",icon:tr.default.createElement(qs.ArrowLeftOutlined,null)}):t.backIcon,o=typeof t.title=="string"?tr.default.createElement(gr.Typography.Title,{level:4,style:{marginBottom:0}},t.title):t.title,a=typeof t.title=="string"?tr.default.createElement(gr.Typography.Title,{level:5,type:"secondary",style:{marginBottom:0}},t.subTitle):t.subTitle;return tr.default.createElement(Us.PageHeader,{...t,backIcon:r,title:o,subTitle:a,style:{padding:0,...t.style}},e)};var Ld=e=>{let{fileList:t}=e;return[...t]};})();
//# sourceMappingURL=index.js.map