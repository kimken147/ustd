(()=>{var Ki=Object.create;var Ea=Object.defineProperty;var Zi=Object.getOwnPropertyDescriptor;var Yi=Object.getOwnPropertyNames;var Ji=Object.getPrototypeOf,Xi=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Pr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var el=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Yi(t))!Xi.call(e,a)&&a!==r&&Ea(e,a,{get:()=>t[a],enumerable:!(n=Zi(t,a))||n.enumerable});return e};var U=(e,t,r)=>(r=e!=null?Ki(Ji(e)):{},el(t||!e||!e.__esModule?Ea(r,"default",{value:e,enumerable:!0}):r,e));var W=Pr((Md,Ao)=>{var tl=Object.create,Nr=Object.defineProperty,rl=Object.getOwnPropertyDescriptor,nl=Object.getOwnPropertyNames,al=Object.getPrototypeOf,ol=Object.prototype.hasOwnProperty,il=(e,t)=>{for(var r in t)Nr(e,r,{get:t[r],enumerable:!0})},_a=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of nl(t))!ol.call(e,a)&&a!==r&&Nr(e,a,{get:()=>t[a],enumerable:!(n=rl(t,a))||n.enumerable});return e},q=(e,t,r)=>(r=e!=null?tl(al(e)):{},_a(t||!e||!e.__esModule?Nr(r,"default",{value:e,enumerable:!0}):r,e)),ll=e=>_a(Nr({},"__esModule",{value:!0}),e),Ka={};il(Ka,{AuthPage:()=>hu,Authenticated:()=>qu,CanAccess:()=>Au,ErrorComponent:()=>pu,LayoutWrapper:()=>Nu,LoginPage:()=>Fo,ReadyPage:()=>No,Refine:()=>Fu,RouteChangeHandler:()=>qo,UndoableQueue:()=>To,createTreeView:()=>so,file2Base64:()=>zl,getDefaultFilter:()=>Ol,getDefaultSortOrder:()=>Bl,handleUseParams:()=>Vl,importCSVMapper:()=>no,parseTableParams:()=>bn,parseTableParamsFromQuery:()=>Ml,routeGenerator:()=>En,setInitialFilters:()=>fn,setInitialSorters:()=>gn,stringifyTableParams:()=>mn,unionFilters:()=>nr,unionSorters:()=>pn,useApiUrl:()=>is,useAuthenticated:()=>ro,useBreadcrumb:()=>du,useCan:()=>$o,useCanWithoutCache:()=>Zs,useCancelNotification:()=>zt,useCheckError:()=>Qe,useCreate:()=>kn,useCreateMany:()=>go,useCustom:()=>ss,useCustomMutation:()=>cs,useDataProvider:()=>be,useDelete:()=>es,useDeleteMany:()=>os,useExport:()=>Ls,useForgotPassword:()=>eo,useForm:()=>Rs,useGetIdentity:()=>Ya,useGetLocale:()=>Ss,useHandleNotification:()=>Fe,useImport:()=>Vs,useInvalidate:()=>$t,useIsExistAuthentication:()=>ql,useList:()=>xn,useLiveMode:()=>ho,useLog:()=>Mr,useLogList:()=>iu,useLogin:()=>yn,useLogout:()=>Ja,useMany:()=>mo,useMenu:()=>mu,useModal:()=>Gs,useMutationMode:()=>Gt,useNavigation:()=>Me,useNotification:()=>dt,useOne:()=>In,usePermissions:()=>ml,usePublish:()=>St,useRedirectionAfterSubmission:()=>ko,useRefineContext:()=>Dr,useRegister:()=>Xa,useResource:()=>fe,useResourceSubscription:()=>qr,useResourceWithRoute:()=>Xe,useRouterContext:()=>le,useSelect:()=>Xs,useSetLocale:()=>Ps,useShow:()=>Bs,useSubscription:()=>vs,useSyncWithLocation:()=>Io,useTable:()=>ru,useTitle:()=>Ts,useTranslate:()=>X,useUpdate:()=>fo,useUpdateMany:()=>ns,useUpdatePassword:()=>to,useWarnAboutChange:()=>$n,userFriendlyResourceName:()=>Cn});Ao.exports=ll(Ka);var kt=q(f("react")),sl=f("react"),Za=q(f("react")),ul=f("@tanstack/react-query"),ke=Za.default.createContext({}),cl=({children:e,isProvided:t,...r})=>{let{replace:n}=Me(),a=(0,ul.useQueryClient)(),o=()=>{a.invalidateQueries(["useAuthenticated"]),a.invalidateQueries(["getUserIdentity"]),a.invalidateQueries(["usePermissions"])},l=async y=>{var h;try{let u=await((h=r.login)==null?void 0:h.call(r,y));return o(),Promise.resolve(u)}catch(u){return Promise.reject(u)}},s=async y=>{var h;try{let u=await((h=r.register)==null?void 0:h.call(r,y));return o(),Promise.resolve(u)}catch(u){return Promise.reject(u)}},d=async y=>{var h;try{let u=await((h=r.logout)==null?void 0:h.call(r,y));return o(),Promise.resolve(u)}catch(u){return Promise.reject(u)}},c=async y=>{var h;try{return await((h=r.checkAuth)==null?void 0:h.call(r,y)),Promise.resolve()}catch(u){return u!=null&&u.redirectPath&&n(u.redirectPath),Promise.reject(u)}};return Za.default.createElement(ke.Provider,{value:{...r,login:l,logout:d,checkAuth:c,register:s,isProvided:t}},e)},dl=f("@tanstack/react-query"),ml=e=>{let{getPermissions:t}=(0,sl.useContext)(ke);return(0,dl.useQuery)(["usePermissions"],t!=null?t:()=>Promise.resolve(void 0),{enabled:!!t,...e})},pl=q(f("react")),fl=f("@tanstack/react-query"),Ya=({queryOptions:e}={})=>{let{getUserIdentity:t}=pl.default.useContext(ke);return(0,fl.useQuery)(["getUserIdentity"],t!=null?t:()=>Promise.resolve({}),{enabled:!!t,retry:!1,...e})},gl=q(f("react")),vl=f("@tanstack/react-query"),Ja=()=>{let{push:e}=Me(),{logout:t}=gl.default.useContext(ke),{open:r}=dt();return(0,vl.useMutation)(["useLogout"],t,{onSuccess:(n,a)=>{var o;let l=(o=a==null?void 0:a.redirectPath)!=null?o:n;if(l!==!1){if(l){e(l);return}e("/login")}},onError:n=>{r==null||r({key:"useLogout-error",type:"error",message:(n==null?void 0:n.name)||"Logout Error",description:(n==null?void 0:n.message)||"Something went wrong during logout"})}})},yl=q(f("react")),hl=f("@tanstack/react-query"),bl=q(f("qs")),yn=()=>{let{replace:e}=Me(),{login:t}=yl.default.useContext(ke),{useLocation:r}=le(),{search:n}=r(),{close:a,open:o}=dt(),{to:l}=bl.default.parse(n,{ignoreQueryPrefix:!0});return(0,hl.useMutation)(["useLogin"],t,{onSuccess:s=>{if(l)return e(l);s!==!1&&e(typeof s=="string"?s:"/"),a==null||a("login-error")},onError:s=>{o==null||o({message:(s==null?void 0:s.name)||"Login Error",description:(s==null?void 0:s.message)||"Invalid credentials",key:"login-error",type:"error"})}})},Cl=q(f("react")),El=f("@tanstack/react-query"),Xa=()=>{let{replace:e}=Me(),{register:t}=Cl.default.useContext(ke),{close:r,open:n}=dt();return(0,El.useMutation)(["useRegister"],t,{onSuccess:a=>{a!==!1&&e(a||"/"),r==null||r("register-error")},onError:a=>{n==null||n({message:(a==null?void 0:a.name)||"Register Error",description:(a==null?void 0:a.message)||"Error while registering",key:"register-error",type:"error"})}})},xl=q(f("react")),Il=f("@tanstack/react-query"),eo=()=>{let{replace:e}=Me(),{forgotPassword:t}=xl.default.useContext(ke),{close:r,open:n}=dt();return(0,Il.useMutation)(["useForgotPassword"],t,{onSuccess:a=>{a!==!1&&a&&e(a),r==null||r("forgot-password-error")},onError:a=>{n==null||n({message:(a==null?void 0:a.name)||"Forgot Password Error",description:(a==null?void 0:a.message)||"Error while resetting password",key:"forgot-password-error",type:"error"})}})},kl=q(f("react")),Pl=f("@tanstack/react-query"),Sl=q(f("qs")),to=()=>{let{replace:e}=Me(),{updatePassword:t}=kl.default.useContext(ke),{close:r,open:n}=dt(),{useLocation:a}=le(),{search:o}=a(),l=Sl.default.parse(o,{ignoreQueryPrefix:!0});return(0,Pl.useMutation)(["useUpdatePassword"],async s=>t==null?void 0:t({...l,...s}),{onSuccess:s=>{s!==!1&&s&&e(s),r==null||r("update-password-error")},onError:s=>{n==null||n({message:(s==null?void 0:s.name)||"Update Password Error",description:(s==null?void 0:s.message)||"Error while updating password",key:"update-password-error",type:"error"})}})},$l=f("react"),wl=f("@tanstack/react-query"),ro=e=>{let{checkAuth:t}=(0,$l.useContext)(ke);return(0,wl.useQuery)(["useAuthenticated",e],async()=>{var r;return(r=await(t==null?void 0:t(e)))!=null?r:{}},{retry:!1})},Fl=q(f("react")),Nl=f("@tanstack/react-query"),Qe=()=>{let{checkError:e}=Fl.default.useContext(ke),{mutate:t}=Ja();return(0,Nl.useMutation)(["useCheckError"],e,{onError:r=>{t({redirectPath:r})}})},Tl=f("react"),ql=()=>{let{isProvided:e}=(0,Tl.useContext)(ke);return e||!1},Al=f("@tanstack/react-query"),on=e=>e/1e3,Dl=q(f("lodash/zip")),Ll=q(f("lodash/fromPairs")),no=(e,t=r=>r)=>{let[r,...n]=e;return n.map(a=>(0,Ll.default)((0,Dl.default)(r,a))).map((a,o,l)=>t.call(void 0,a,o,l))},xa=q(f("pluralize")),hn=q(f("qs")),ao=q(f("lodash/unionWith")),oo=q(f("lodash/differenceWith")),Rl=q(f("warn-once")),bn=e=>{let{current:t,pageSize:r,sorter:n,filters:a}=hn.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:n!=null?n:[],parsedFilters:a!=null?a:[]}},Ml=e=>{let t=hn.default.stringify(e);return bn(`/${t}`)},mn=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:n,filters:a,...o}=e;return hn.default.stringify({...o,...r||{},sorter:n,filters:a},t)},io=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,lo=(e,t)=>e.field==t.field,nr=(e,t,r=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&(0,Rl.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,ao.default)(e,t,r,io).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),pn=(e,t)=>(0,ao.default)(e,t,lo).filter(r=>r.order!==void 0&&r.order!==null),fn=(e,t)=>[...(0,oo.default)(t,e,io),...e],gn=(e,t)=>[...(0,oo.default)(t,e,lo),...e],Bl=(e,t)=>{if(!t)return;let r=t.find(n=>n.field===e);if(r)return r.order},Ol=(e,t,r="eq")=>{let n=t==null?void 0:t.find(a=>{if(a.operator!=="or"&&a.operator!=="and"&&"field"in a){let{operator:o,field:l}=a;return l===e&&o===r}});if(n)return n.value||[]},zl=e=>new Promise((t,r)=>{let n=new FileReader,a=()=>{n.result&&(n.removeEventListener("load",a,!1),t(n.result))};n.addEventListener("load",a,!1),n.readAsDataURL(e.originFileObj),n.onerror=o=>(n.removeEventListener("load",a,!1),r(o))}),Cn=(e="",t)=>{let r=ar(e);return t==="singular"?xa.default.singular(r):xa.default.plural(r)},Vl=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,Re=(e,t,r)=>{let n=t||"default",a={all:[n],resourceAll:[n,e||""],list:o=>[...a.resourceAll,"list",{...o,...r}],many:o=>[...a.resourceAll,"getMany",o&&o.map(String),{...r}].filter(l=>l!==void 0),detail:o=>[...a.resourceAll,"detail",o==null?void 0:o.toString(),{...r}],logList:o=>["logList",e,o,r].filter(l=>l!==void 0)};return a},Gl=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),Wl=e=>t=>e.parentName?t.name===e.parentName:!1,En=(e,t)=>{var r,n,a,o,l;let s,d=(n=(r=e.options)==null?void 0:r.route)!=null?n:e.name;if(e.parentName){let c=t.find(Wl(e));c!=null&&c.parentName?s=`${En(c,t)}/${d}`:e.parentName&&(s=`${(l=(o=(a=c==null?void 0:c.options)==null?void 0:a.route)!=null?o:c==null?void 0:c.name)!=null?l:e.parentName}/${d}`)}else s=d;return s},so=e=>{var t,r,n;let a=[],o={},l={},s,d;for(let c=0;c<e.length;c++){s=e[c];let y=(n=(r=s.route)!=null?r:(t=s.options)==null?void 0:t.route)!=null?n:"";o[y]=s,o[y].children=[],l[s.name]=s,l[s.name].children=[]}for(let c in o)o.hasOwnProperty(c)&&(d=o[c],d.parentName&&l[d.parentName]?l[d.parentName].children.push(d):a.push(d));return a},ar=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),uo=q(f("react")),Ul=q(f("react")),co=({children:e})=>Ul.default.createElement("div",null,e),Je={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},ct=uo.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:co,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Je}),Ql=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,undoableTimeout:a,children:o,DashboardPage:l,Title:s,Layout:d=co,Header:c,Sider:y,Footer:h,OffLayoutArea:u,LoginPage:g=Fo,catchAll:b,liveMode:p="off",onLiveEvent:x,options:C})=>uo.default.createElement(ct.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,Title:s,undoableTimeout:a,Layout:d,Header:c,Sider:y,Footer:h,OffLayoutArea:u,DashboardPage:l,LoginPage:g,catchAll:b,liveMode:p,onLiveEvent:x,options:C}},o),Hl=({options:e,disableTelemetry:t,liveMode:r,mutationMode:n,reactQueryClientConfig:a,reactQueryDevtoolConfig:o,syncWithLocation:l,undoableTimeout:s,warnWhenUnsavedChanges:d}={})=>{var c,y,h,u,g,b,p,x,C,m,E,I,i,k,v,S,$,N,w,F,M,T,B,O;let Q={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(y=(c=e==null?void 0:e.mutationMode)!=null?c:n)!=null?y:Je.mutationMode,undoableTimeout:(u=(h=e==null?void 0:e.undoableTimeout)!=null?h:s)!=null?u:Je.undoableTimeout,syncWithLocation:(b=(g=e==null?void 0:e.syncWithLocation)!=null?g:l)!=null?b:Je.syncWithLocation,warnWhenUnsavedChanges:(x=(p=e==null?void 0:e.warnWhenUnsavedChanges)!=null?p:d)!=null?x:Je.warnWhenUnsavedChanges,liveMode:(m=(C=e==null?void 0:e.liveMode)!=null?C:r)!=null?m:Je.liveMode,redirect:{afterCreate:(I=(E=e==null?void 0:e.redirect)==null?void 0:E.afterCreate)!=null?I:Je.redirect.afterCreate,afterClone:(k=(i=e==null?void 0:e.redirect)==null?void 0:i.afterClone)!=null?k:Je.redirect.afterClone,afterEdit:(S=(v=e==null?void 0:e.redirect)==null?void 0:v.afterEdit)!=null?S:Je.redirect.afterEdit}},re=(N=($=e==null?void 0:e.disableTelemetry)!=null?$:t)!=null?N:!1,de={clientConfig:(M=(F=(w=e==null?void 0:e.reactQuery)==null?void 0:w.clientConfig)!=null?F:a)!=null?M:{},devtoolConfig:(O=(B=(T=e==null?void 0:e.reactQuery)==null?void 0:T.devtoolConfig)!=null?B:o)!=null?O:{}};return{optionsWithDefaults:Q,disableTelemetryWithDefault:re,reactQueryWithDefaults:de}},jl=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit}},Ia=async(e,t,r)=>{let n=[];for(let[a,o]of e.entries())try{let l=await o();n.push(t(l,a))}catch(l){n.push(r(l,a))}return n},H=(e,t,r)=>{var n;if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e);return(n=a==null?void 0:a.options)!=null&&n.dataProviderName?a.options.dataProviderName:"default"},Tr=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),xn=({resource:e,config:t,queryOptions:r,successNotification:n,errorNotification:a,metaData:o,liveMode:l,onLiveEvent:s,liveParams:d,dataProviderName:c})=>{let{resources:y}=fe(),h=be(),u=Re(e,H(e,c,y),o),{getList:g}=h(H(e,c,y)),b=X(),{mutate:p}=Qe(),x=Fe(),C=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return qr({resource:e,types:["*"],params:{metaData:o,pagination:t==null?void 0:t.pagination,hasPagination:t==null?void 0:t.hasPagination,sort:t==null?void 0:t.sort,filters:t==null?void 0:t.filters,subscriptionType:"useList",...d},channel:`resources/${e}`,enabled:C,liveMode:l,onLiveEvent:s}),(0,Al.useQuery)(u.list(t),({queryKey:m,pageParam:E,signal:I})=>{let{hasPagination:i,...k}=t||{};return g({resource:e,...k,hasPagination:i,metaData:{...o,queryContext:{queryKey:m,pageParam:E,signal:I}}})},{...r,onSuccess:m=>{var E;(E=r==null?void 0:r.onSuccess)==null||E.call(r,m);let I=typeof n=="function"?n(m,{metaData:o,config:t},e):n;x(I)},onError:m=>{var E;p(m),(E=r==null?void 0:r.onError)==null||E.call(r,m);let I=typeof a=="function"?a(m,{metaData:o,config:t},e):a;x(I,{key:`${e}-useList-notification`,message:b("common:notifications.error",{statusCode:m.statusCode},`Error (status code: ${m.statusCode})`),description:m.message,type:"error"})}})},_l=f("@tanstack/react-query"),In=({resource:e,id:t,queryOptions:r,successNotification:n,errorNotification:a,metaData:o,liveMode:l,onLiveEvent:s,liveParams:d,dataProviderName:c})=>{let{resources:y}=fe(),h=be(),u=Re(e,H(e,c,y),o),{getOne:g}=h(H(e,c,y)),b=X(),{mutate:p}=Qe(),x=Fe();return qr({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,metaData:o,subscriptionType:"useOne",...d},enabled:r==null?void 0:r.enabled,liveMode:l,onLiveEvent:s}),(0,_l.useQuery)(u.detail(t),({queryKey:C,pageParam:m,signal:E})=>g({resource:e,id:t,metaData:{...o,queryContext:{queryKey:C,pageParam:m,signal:E}}}),{...r,onSuccess:C=>{var m;(m=r==null?void 0:r.onSuccess)==null||m.call(r,C);let E=typeof n=="function"?n(C,{id:t,metaData:o},e):n;x(E)},onError:C=>{var m;p(C),(m=r==null?void 0:r.onError)==null||m.call(r,C);let E=typeof a=="function"?a(C,{id:t,metaData:o},e):a;x(E,{key:`${t}-${e}-getOne-notification`,message:b("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})}})},Kl=f("@tanstack/react-query"),mo=({resource:e,ids:t,queryOptions:r,successNotification:n,errorNotification:a,metaData:o,liveMode:l,onLiveEvent:s,liveParams:d,dataProviderName:c})=>{let{resources:y}=fe(),h=be(),u=Re(e,H(e,c,y),o),{getMany:g,getOne:b}=h(H(e,c,y)),p=X(),{mutate:x}=Qe(),C=Fe(),m=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return qr({resource:e,types:["*"],params:{ids:t!=null?t:[],metaData:o,subscriptionType:"useMany",...d},channel:`resources/${e}`,enabled:m,liveMode:l,onLiveEvent:s}),(0,Kl.useQuery)(u.many(t),({queryKey:E,pageParam:I,signal:i})=>g?g({resource:e,ids:t,metaData:{...o,queryContext:{queryKey:E,pageParam:I,signal:i}}}):Tr(t.map(k=>b({resource:e,id:k,metaData:{...o,queryContext:{queryKey:E,pageParam:I,signal:i}}}))),{...r,onSuccess:E=>{var I;(I=r==null?void 0:r.onSuccess)==null||I.call(r,E);let i=typeof n=="function"?n(E,t,e):n;C(i)},onError:E=>{var I;x(E),(I=r==null?void 0:r.onError)==null||I.call(r,E);let i=typeof a=="function"?a(E,t,e):a;C(i,{key:`${t[0]}-${e}-getMany-notification`,message:p("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})}})},ka=f("@tanstack/react-query"),wr=q(f("react")),ln=q(f("lodash/isEqual")),po=wr.default.createContext({notifications:[],notificationDispatch:()=>!1}),Zl=[],Yl=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,ln.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,ln.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,ln.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},Jl=({children:e})=>{let[t,r]=(0,wr.useReducer)(Yl,Zl),n={notifications:t,notificationDispatch:r};return wr.default.createElement(po.Provider,{value:n},e,typeof window<"u"&&t.map(a=>wr.default.createElement(To,{key:`${a.id}-${a.resource}-queue`,notification:a})))},Pa=q(f("pluralize")),fo=()=>{let{resources:e}=fe(),t=(0,ka.useQueryClient)(),r=be(),{mutationMode:n,undoableTimeout:a}=Gt(),o=X(),{mutate:l}=Qe(),s=St(),{log:d}=Mr(),{notificationDispatch:c}=zt(),y=Fe(),h=$t();return(0,ka.useMutation)(({id:u,values:g,resource:b,mutationMode:p,undoableTimeout:x,onCancel:C,metaData:m,dataProviderName:E})=>{let I=p!=null?p:n,i=x!=null?x:a;return I!=="undoable"?r(H(b,E,e)).update({resource:b,id:u,variables:g,metaData:m}):new Promise((k,v)=>{let S=()=>{r(H(b,E,e)).update({resource:b,id:u,variables:g,metaData:m}).then(N=>k(N)).catch(N=>v(N))},$=()=>{v({message:"mutationCancelled"})};C&&C($),c({type:"ADD",payload:{id:u,resource:b,cancelMutation:$,doMutation:S,seconds:i,isSilent:!!C}})})},{onMutate:async({resource:u,id:g,mutationMode:b,values:p,dataProviderName:x})=>{let C=Re(u,H(u,x,e)),m=t.getQueriesData(C.resourceAll),E=b!=null?b:n;return await t.cancelQueries(C.resourceAll,void 0,{silent:!0}),E!=="pessimistic"&&(t.setQueriesData(C.list(),I=>{if(!I)return null;let i=I.data.map(k=>{var v;return((v=k.id)==null?void 0:v.toString())===(g==null?void 0:g.toString())?{id:g,...p}:k});return{...I,data:i}}),t.setQueriesData(C.many(),I=>{if(!I)return null;let i=I.data.map(k=>{var v;return((v=k.id)==null?void 0:v.toString())===(g==null?void 0:g.toString())&&(k={id:g,...p}),k});return{...I,data:i}}),t.setQueriesData(C.detail(g),I=>I?{...I,data:{...I.data,...p}}:null)),{previousQueries:m,queryKey:C}},onSettled:(u,g,{id:b,resource:p,dataProviderName:x,invalidates:C=["list","many","detail"]})=>{h({resource:p,dataProviderName:H(p,x,e),invalidates:C,id:b}),c({type:"REMOVE",payload:{id:b,resource:p}})},onSuccess:(u,{id:g,resource:b,successNotification:p,dataProviderName:x,values:C,metaData:m},E)=>{var I;let i=Pa.default.singular(b),k=typeof p=="function"?p(u,{id:g,values:C},b):p;y(k,{key:`${g}-${b}-notification`,description:o("notifications.success","Successful"),message:o("notifications.editSuccess",{resource:o(`${b}.${b}`,i)},`Successfully updated ${i}`),type:"success"}),s==null||s({channel:`resources/${b}`,type:"updated",payload:{ids:(I=u.data)!=null&&I.id?[u.data.id]:void 0},date:new Date});let v;if(E){let F=t.getQueryData(E.queryKey.detail(g));v=Object.keys(C).reduce((M,T)=>{var B;return M[T]=(B=F==null?void 0:F.data)==null?void 0:B[T],M},{})}let{fields:S,operation:$,variables:N,...w}=m||{};d==null||d.mutate({action:"update",resource:b,data:C,previousData:v,meta:{id:g,dataProviderName:H(b,x,e),...w}})},onError:(u,{id:g,resource:b,errorNotification:p,values:x},C)=>{if(C)for(let m of C.previousQueries)t.setQueryData(m[0],m[1]);if(u.message!=="mutationCancelled"){l==null||l(u);let m=Pa.default.singular(b),E=typeof p=="function"?p(u,{id:g,values:x},b):p;y(E,{key:`${g}-${b}-notification`,message:o("notifications.editError",{resource:o(`${b}.${b}`,m),statusCode:u.statusCode},`Error when updating ${m} (status code: ${u.statusCode})`),description:u.message,type:"error"})}}})},Xl=f("@tanstack/react-query"),Sa=q(f("pluralize")),kn=()=>{let{mutate:e}=Qe(),t=be(),r=$t(),{resources:n}=fe(),a=X(),o=St(),{log:l}=Mr(),s=Fe();return(0,Xl.useMutation)(({resource:d,values:c,metaData:y,dataProviderName:h})=>t(H(d,h,n)).create({resource:d,variables:c,metaData:y}),{onSuccess:(d,{resource:c,successNotification:y,dataProviderName:h,invalidates:u=["list","many"],values:g,metaData:b})=>{var p,x,C;let m=Sa.default.singular(c),E=typeof y=="function"?y(d,g,c):y;s(E,{key:`create-${c}-notification`,message:a("notifications.createSuccess",{resource:a(`${c}.${c}`,m)},`Successfully created ${m}`),description:a("notifications.success","Success"),type:"success"}),r({resource:c,dataProviderName:H(c,h,n),invalidates:u}),o==null||o({channel:`resources/${c}`,type:"created",payload:{ids:(p=d==null?void 0:d.data)!=null&&p.id?[d.data.id]:void 0},date:new Date});let{fields:I,operation:i,variables:k,...v}=b||{};l==null||l.mutate({action:"create",resource:c,data:g,meta:{dataProviderName:H(c,h,n),id:(C=(x=d==null?void 0:d.data)==null?void 0:x.id)!=null?C:void 0,...v}})},onError:(d,{resource:c,errorNotification:y,values:h})=>{e(d);let u=Sa.default.singular(c),g=typeof y=="function"?y(d,h,c):y;s(g,{key:`create-${c}-notification`,description:d.message,message:a("notifications.createError",{resource:a(`${c}.${c}`,u),statusCode:d.statusCode},`There was an error creating ${u} (status code: ${d.statusCode})`),type:"error"})}})},$a=f("@tanstack/react-query"),wa=q(f("pluralize")),es=()=>{let{mutate:e}=Qe(),t=be(),{resources:r}=fe(),n=(0,$a.useQueryClient)(),{mutationMode:a,undoableTimeout:o}=Gt(),{notificationDispatch:l}=zt(),s=X(),d=St(),{log:c}=Mr(),y=Fe(),h=$t();return(0,$a.useMutation)(({id:u,mutationMode:g,undoableTimeout:b,resource:p,onCancel:x,metaData:C,dataProviderName:m,values:E})=>{let I=g!=null?g:a,i=b!=null?b:o;return I!=="undoable"?t(H(p,m,r)).deleteOne({resource:p,id:u,metaData:C,variables:E}):new Promise((k,v)=>{let S=()=>{t(H(p,m,r)).deleteOne({resource:p,id:u,metaData:C,variables:E}).then(N=>k(N)).catch(N=>v(N))},$=()=>{v({message:"mutationCancelled"})};x&&x($),l({type:"ADD",payload:{id:u,resource:p,cancelMutation:$,doMutation:S,seconds:i,isSilent:!!x}})})},{onMutate:async({id:u,resource:g,mutationMode:b,dataProviderName:p})=>{let x=Re(g,H(g,p,r)),C=b!=null?b:a;await n.cancelQueries(x.resourceAll,void 0,{silent:!0});let m=n.getQueriesData(x.resourceAll);return C!=="pessimistic"&&(n.setQueriesData(x.list(),E=>E?{data:E.data.filter(I=>{var i;return((i=I.id)==null?void 0:i.toString())!==u.toString()}),total:E.total-1}:null),n.setQueriesData(x.many(),E=>{if(!E)return null;let I=E.data.filter(i=>{var k;return((k=i.id)==null?void 0:k.toString())!==(u==null?void 0:u.toString())});return{...E,data:I}})),{previousQueries:m,queryKey:x}},onSettled:(u,g,{id:b,resource:p,dataProviderName:x,invalidates:C=["list","many"]})=>{h({resource:p,dataProviderName:H(p,x,r),invalidates:C}),l({type:"REMOVE",payload:{id:b,resource:p}})},onSuccess:(u,{id:g,resource:b,successNotification:p,dataProviderName:x,metaData:C},m)=>{let E=wa.default.singular(b!=null?b:"");n.removeQueries(m==null?void 0:m.queryKey.detail(g));let I=typeof p=="function"?p(u,g,b):p;y(I,{key:`${g}-${b}-notification`,description:s("notifications.success","Success"),message:s("notifications.deleteSuccess",{resource:s(`${b}.${b}`,E)},`Successfully deleted a ${E}`),type:"success"}),d==null||d({channel:`resources/${b}`,type:"deleted",payload:{ids:g?[g]:[]},date:new Date});let{fields:i,operation:k,variables:v,...S}=C||{};c==null||c.mutate({action:"delete",resource:b,meta:{id:g,dataProviderName:H(b,x,r),...S}}),n.removeQueries(m==null?void 0:m.queryKey.detail(g))},onError:(u,{id:g,resource:b,errorNotification:p},x)=>{if(x)for(let C of x.previousQueries)n.setQueryData(C[0],C[1]);if(u.message!=="mutationCancelled"){e(u);let C=wa.default.singular(b!=null?b:""),m=typeof p=="function"?p(u,g,b):p;y(m,{key:`${g}-${b}-notification`,message:s("notifications.deleteError",{resource:C,statusCode:u.statusCode},`Error (status code: ${u.statusCode})`),description:u.message,type:"error"})}}})},ts=f("@tanstack/react-query"),rs=q(f("pluralize")),go=()=>{let e=be(),{resources:t}=fe(),r=X(),n=St(),a=Fe(),o=$t();return(0,ts.useMutation)(({resource:l,values:s,metaData:d,dataProviderName:c})=>{let y=e(H(l,c,t));return y.createMany?y.createMany({resource:l,variables:s,metaData:d}):Tr(s.map(h=>y.create({resource:l,variables:h,metaData:d})))},{onSuccess:(l,{resource:s,successNotification:d,dataProviderName:c,invalidates:y=["list","many"],values:h})=>{let u=rs.default.plural(s),g=typeof d=="function"?d(l,h,s):d;a(g,{key:`createMany-${s}-notification`,message:r("notifications.createSuccess",{resource:r(`${s}.${s}`,s)},`Successfully created ${u}`),description:r("notifications.success","Success"),type:"success"}),o({resource:s,dataProviderName:H(s,c,t),invalidates:y});let b=l==null?void 0:l.data.filter(p=>(p==null?void 0:p.id)!==void 0).map(p=>p.id);n==null||n({channel:`resources/${s}`,type:"created",payload:{ids:b},date:new Date})},onError:(l,{resource:s,errorNotification:d,values:c})=>{let y=typeof d=="function"?d(l,c,s):d;a(y,{key:`createMany-${s}-notification`,description:l.message,message:r("notifications.createError",{resource:r(`${s}.${s}`,s),statusCode:l.statusCode},`There was an error creating ${s} (status code: ${l.statusCode}`),type:"error"})}})},Fa=f("@tanstack/react-query"),Na=q(f("pluralize")),ns=()=>{let{resources:e}=fe(),t=(0,Fa.useQueryClient)(),r=be(),n=X(),{mutationMode:a,undoableTimeout:o}=Gt(),{mutate:l}=Qe(),{notificationDispatch:s}=zt(),d=St(),c=Fe(),y=$t();return(0,Fa.useMutation)(({ids:h,values:u,resource:g,onCancel:b,mutationMode:p,undoableTimeout:x,metaData:C,dataProviderName:m})=>{let E=p!=null?p:a,I=x!=null?x:o,i=r(H(g,m,e)),k=()=>i.updateMany?i.updateMany({resource:g,ids:h,variables:u,metaData:C}):Tr(h.map(v=>i.update({resource:g,id:v,variables:u,metaData:C})));return E!=="undoable"?k():new Promise((v,S)=>{let $=()=>{k().then(w=>v(w)).catch(w=>S(w))},N=()=>{S({message:"mutationCancelled"})};b&&b(N),s({type:"ADD",payload:{id:h,resource:g,cancelMutation:N,doMutation:$,seconds:I,isSilent:!!b}})})},{onMutate:async({resource:h,ids:u,values:g,mutationMode:b,dataProviderName:p,metaData:x})=>{let C=Re(h,H(h,p,e),x),m=b!=null?b:a;await t.cancelQueries(C.resourceAll,void 0,{silent:!0});let E=t.getQueriesData(C.resourceAll);if(m!=="pessimistic"){t.setQueriesData(C.list(),I=>{if(!I)return null;let i=I.data.map(k=>k.id!==void 0&&u.filter(v=>v!==void 0).map(String).includes(k.id.toString())?{...k,...g}:k);return{...I,data:i}}),t.setQueriesData(C.many(),I=>{if(!I)return null;let i=I.data.map(k=>k.id!==void 0&&u.filter(v=>v!==void 0).map(String).includes(k.id.toString())?{...k,...g}:k);return{...I,data:i}});for(let I of u)t.setQueriesData(C.detail(I),i=>{if(!i)return null;let k={...i.data,...g};return{...i,data:k}})}return{previousQueries:E,queryKey:C}},onSettled:(h,u,{ids:g,resource:b,dataProviderName:p})=>{y({resource:b,invalidates:["list","many"],dataProviderName:H(b,p,e)}),g.forEach(x=>y({resource:b,invalidates:["detail"],dataProviderName:H(b,p,e),id:x})),s({type:"REMOVE",payload:{id:g,resource:b}})},onSuccess:(h,{ids:u,resource:g,successNotification:b,values:p})=>{let x=Na.default.singular(g),C=typeof b=="function"?b(h,{ids:u,values:p},g):b;c(C,{key:`${u}-${g}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${g}.${g}`,g)},`Successfully updated ${x}`),type:"success"}),d==null||d({channel:`resources/${g}`,type:"updated",payload:{ids:u.map(String)},date:new Date})},onError:(h,{ids:u,resource:g,errorNotification:b,values:p},x)=>{if(x)for(let C of x.previousQueries)t.setQueryData(C[0],C[1]);if(h.message!=="mutationCancelled"){l==null||l(h);let C=Na.default.singular(g),m=typeof b=="function"?b(h,{ids:u,values:p},g):b;c(m,{key:`${u}-${g}-updateMany-error-notification`,message:n("notifications.editError",{resource:C,statusCode:h.statusCode},`Error when updating ${C} (status code: ${h.statusCode})`),description:h.message,type:"error"})}}})},Ta=f("@tanstack/react-query"),as=q(f("pluralize")),os=()=>{let{mutate:e}=Qe(),{mutationMode:t,undoableTimeout:r}=Gt(),n=be(),{notificationDispatch:a}=zt(),o=X(),l=St(),s=Fe(),d=$t(),{resources:c}=fe(),y=(0,Ta.useQueryClient)();return(0,Ta.useMutation)(({resource:h,ids:u,mutationMode:g,undoableTimeout:b,onCancel:p,metaData:x,dataProviderName:C,values:m})=>{let E=g!=null?g:t,I=b!=null?b:r,i=n(H(h,C,c)),k=()=>i.deleteMany?i.deleteMany({resource:h,ids:u,metaData:x,variables:m}):Tr(u.map(v=>i.deleteOne({resource:h,id:v,metaData:x,variables:m})));return E!=="undoable"?k():new Promise((v,S)=>{let $=()=>{k().then(w=>v(w)).catch(w=>S(w))},N=()=>{S({message:"mutationCancelled"})};p&&p(N),a({type:"ADD",payload:{id:u,resource:h,cancelMutation:N,doMutation:$,seconds:I,isSilent:!!p}})})},{onMutate:async({ids:h,resource:u,mutationMode:g,dataProviderName:b})=>{let p=Re(u,H(u,b,c)),x=g!=null?g:t;await y.cancelQueries(p.resourceAll,void 0,{silent:!0});let C=y.getQueriesData(p.resourceAll);if(x!=="pessimistic"){y.setQueriesData(p.list(),m=>m?{data:m.data.filter(E=>E.id&&!h.map(String).includes(E.id.toString())),total:m.total-1}:null),y.setQueriesData(p.many(),m=>{if(!m)return null;let E=m.data.filter(I=>I.id?!h.map(String).includes(I.id.toString()):!1);return{...m,data:E}});for(let m of h)y.setQueriesData(p.detail(m),E=>!E||E.data.id==m?null:{...E})}return{previousQueries:C,queryKey:p}},onSettled:(h,u,{resource:g,ids:b,dataProviderName:p,invalidates:x=["list","many"]})=>{d({resource:g,dataProviderName:H(g,p,c),invalidates:x}),a({type:"REMOVE",payload:{id:b,resource:g}})},onSuccess:(h,{ids:u,resource:g,successNotification:b},p)=>{u.forEach(C=>y.removeQueries(p==null?void 0:p.queryKey.detail(C)));let x=typeof b=="function"?b(h,u,g):b;s(x,{key:`${u}-${g}-notification`,description:o("notifications.success","Success"),message:o("notifications.deleteSuccess",{resource:o(`${g}.${g}`,g)},`Successfully deleted ${g}`),type:"success"}),l==null||l({channel:`resources/${g}`,type:"deleted",payload:{ids:u},date:new Date}),u.forEach(C=>y.removeQueries(p==null?void 0:p.queryKey.detail(C)))},onError:(h,{ids:u,resource:g,errorNotification:b},p)=>{if(p)for(let x of p.previousQueries)y.setQueryData(x[0],x[1]);if(h.message!=="mutationCancelled"){e(h);let x=as.default.singular(g),C=typeof b=="function"?b(h,u,g):b;s(C,{key:`${u}-${g}-notification`,message:o("notifications.deleteError",{resource:x,statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})}}})},is=e=>{let t=be(),{getApiUrl:r}=t(e);return r()},ls=f("@tanstack/react-query"),ss=({url:e,method:t,config:r,queryOptions:n,successNotification:a,errorNotification:o,metaData:l,dataProviderName:s})=>{let d=be(),{custom:c}=d(s),{mutate:y}=Qe(),h=X(),u=Fe();if(c)return(0,ls.useQuery)([s,"custom",t,e,{...r,...l}],({queryKey:g,pageParam:b,signal:p})=>c({url:e,method:t,...r,metaData:{...l,queryContext:{queryKey:g,pageParam:b,signal:p}}}),{...n,onSuccess:g=>{var b;(b=n==null?void 0:n.onSuccess)==null||b.call(n,g);let p=typeof a=="function"?a(g,{...r,...l}):a;u(p)},onError:g=>{var b;y(g),(b=n==null?void 0:n.onError)==null||b.call(n,g);let p=typeof o=="function"?o(g,{...r,...l}):o;u(p,{key:`${t}-notification`,message:h("common:notifications.error",{statusCode:g.statusCode},`Error (status code: ${g.statusCode})`),description:g.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},us=f("@tanstack/react-query"),cs=()=>{let e=Fe(),t=be(),r=X();return(0,us.useMutation)(({url:n,method:a,values:o,metaData:l,dataProviderName:s,config:d})=>{let{custom:c}=t(s);if(c)return c({url:n,method:a,payload:o,metaData:l,headers:{...d==null?void 0:d.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(n,{successNotification:a,config:o,metaData:l})=>{let s=typeof a=="function"?a(n,{...o,...l}):a;e(s)},onError:(n,{errorNotification:a,method:o,config:l,metaData:s})=>{let d=typeof a=="function"?a(n,{...l,...s}):a;e(d,{key:`${o}-notification`,message:r("common:notifications.error",{statusCode:n.statusCode},`Error (status code: ${n.statusCode})`),description:n.message,type:"error"})}})},qa=f("react"),vo=q(f("react")),ds=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),Pn=vo.default.createContext(ds()),ms=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},vo.default.createElement(Pn.Provider,{value:r},e)},be=()=>{let e=(0,qa.useContext)(Pn);return(0,qa.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},sn=f("react"),ps=f("@tanstack/react-query"),yo=q(f("react")),or=yo.default.createContext(void 0),fs=({liveProvider:e,children:t})=>yo.default.createElement(or.Provider,{value:e},t),qr=({resource:e,params:t,channel:r,types:n,enabled:a=!0,liveMode:o,onLiveEvent:l})=>{let s=(0,ps.useQueryClient)(),d=Re(e),c=(0,sn.useContext)(or),{liveMode:y,onLiveEvent:h}=(0,sn.useContext)(ct),u=o!=null?o:y;(0,sn.useEffect)(()=>{let g;return u&&u!=="off"&&a&&(g=c==null?void 0:c.subscribe({channel:r,params:{resource:e,...t},types:n,callback:b=>{u==="auto"&&s.invalidateQueries(d.resourceAll),l==null||l(b),h==null||h(b)}})),()=>{g&&(c==null||c.unsubscribe(g))}},[a])},gs=f("react"),ho=e=>{let{liveMode:t}=(0,gs.useContext)(ct);return e!=null?e:t},Aa=f("react"),vs=({params:e,channel:t,types:r=["*"],enabled:n=!0,onLiveEvent:a})=>{let o=(0,Aa.useContext)(or);(0,Aa.useEffect)(()=>{let l;return n&&(l=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:a})),()=>{l&&(o==null||o.unsubscribe(l))}},[n])},ys=f("react"),St=()=>{let e=(0,ys.useContext)(or);return e==null?void 0:e.publish},hs=f("react"),bo=q(f("react")),Ar=bo.default.createContext({resources:[]}),bs=({resources:e,children:t})=>bo.default.createElement(Ar.Provider,{value:{resources:e}},t),fe=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}={})=>{let{resources:n}=(0,hs.useContext)(Ar),a=Xe(),{useParams:o}=le(),l=o(),s=a(t!=null?t:l.resource),d=e!=null?e:s.name,c=r!=null?r:l.id;return{resources:n,resource:s,resourceName:d,id:c}},Da=f("react"),Xe=()=>{let{resources:e}=(0,Da.useContext)(Ar);return(0,Da.useCallback)(t=>{let r=e.find(n=>n.route===t);if(!r){let n=e.find(a=>a.name===t);return n!=null?n:{name:t,route:t}}return r},[e])},Cs=f("react"),zt=()=>{let{notifications:e,notificationDispatch:t}=(0,Cs.useContext)(po);return{notifications:e,notificationDispatch:t}},Es=f("react"),Co=q(f("react")),Sn=(0,Co.createContext)({}),xs=({open:e,close:t,children:r})=>Co.default.createElement(Sn.Provider,{value:{open:e,close:t}},r),dt=()=>{let{open:e,close:t}=(0,Es.useContext)(Sn);return{open:e,close:t}},Is=f("react"),Fe=()=>{let{open:e}=dt();return(0,Is.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},La=f("react"),Eo=q(f("react")),Vt=Eo.default.createContext({}),ks=({children:e,i18nProvider:t})=>Eo.default.createElement(Vt.Provider,{value:{i18nProvider:t}},e),Ps=()=>{let{i18nProvider:e}=(0,La.useContext)(Vt);return(0,La.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},Ra=f("react"),X=()=>{let{i18nProvider:e}=(0,Ra.useContext)(Vt);return(0,Ra.useMemo)(()=>{function t(r,n,a){var o,l;return(l=(o=e==null?void 0:e.translate(r,n,a))!=null?o:a)!=null?l:typeof n=="string"&&typeof a>"u"?n:r}return t},[e])},Ma=f("react"),Ss=()=>{let{i18nProvider:e}=(0,Ma.useContext)(Vt);return(0,Ma.useCallback)(()=>e==null?void 0:e.getLocale(),[])},$s=f("react"),Gt=()=>{let{mutationMode:e,undoableTimeout:t}=(0,$s.useContext)(ct);return{mutationMode:e,undoableTimeout:t}},Ba=f("react"),vn=q(f("react")),xo=vn.default.createContext({}),ws=({children:e})=>{let[t,r]=(0,vn.useState)(!1);return vn.default.createElement(xo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},$n=()=>{let{warnWhenUnsavedChanges:e}=(0,Ba.useContext)(ct),{warnWhen:t,setWarnWhen:r}=(0,Ba.useContext)(xo);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},Fs=f("react"),Io=()=>{let{syncWithLocation:e}=(0,Fs.useContext)(ct);return{syncWithLocation:e}},Ns=f("react"),Ts=()=>{let{Title:e}=(0,Ns.useContext)(ct);return e},qs=f("react"),Dr=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:a,Title:o,hasDashboard:l,mutationMode:s,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:y,DashboardPage:h,LoginPage:u,catchAll:g,options:b}=(0,qs.useContext)(ct);return{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:a,Title:o,hasDashboard:l,mutationMode:s,syncWithLocation:d,undoableTimeout:c,warnWhenUnsavedChanges:y,DashboardPage:h,LoginPage:u,catchAll:g,options:b}},As=f("react"),Ds=f("export-to-csv-fix-source-map"),Ls=({resourceName:e,sorter:t,filters:r,maxItemCount:n,pageSize:a=20,mapData:o=y=>y,exportOptions:l,metaData:s,dataProviderName:d,onError:c}={})=>{let[y,h]=(0,As.useState)(!1),{resources:u}=fe(),g=Xe(),b=be(),{useParams:p}=le(),{resource:x}=p(),{name:C}=g(x);e&&(C=e);let m=`${Cn(C,"plural")}-${new Date().toLocaleString()}`,{getList:E}=b(H(C,d,u));return{isLoading:y,triggerExport:async()=>{h(!0);let I=[],i=1,k=!0;for(;k;)try{let{data:v,total:S}=await E({resource:C,filters:r,sort:t,pagination:{current:i,pageSize:a},metaData:s});i++,I.push(...v),n&&I.length>=n&&(I=I.slice(0,n),k=!1),S===I.length&&(k=!1)}catch(v){h(!1),k=!1,c==null||c(v);return}new Ds.ExportToCsv({filename:m,useKeysAsHeaders:!0,...l}).generateCsv(I.map(o)),h(!1)}}},Oa=q(f("react")),Rs=({resource:e,action:t,id:r,onMutationSuccess:n,onMutationError:a,redirect:o,successNotification:l,errorNotification:s,metaData:d,mutationMode:c,liveMode:y,onLiveEvent:h,liveParams:u,undoableTimeout:g,dataProviderName:b,invalidates:p,queryOptions:x}={})=>{var C;let{options:m}=Dr(),{useParams:E}=le(),{resource:I,action:i,id:k}=E(),v=!e||e===I?r!=null?r:k:r,[S,$]=Oa.default.useState(v);Oa.default.useEffect(()=>{v!==S&&$(r)},[r]);let N=e!=null?e:I,w=(C=t!=null?t:i==="show"?"create":i)!=null?C:"create",F=Xe()(N),{mutationMode:M}=Gt(),T=c!=null?c:M,B=w==="create",O=w==="edit",Q=w==="clone",re=jl({redirectFromProps:o,action:w,redirectOptions:m.redirect}),de=S!==void 0&&(O||Q),j=In({resource:F.name,id:S!=null?S:"",queryOptions:{enabled:de,...x},liveMode:y,onLiveEvent:h,liveParams:u,metaData:d,dataProviderName:b}),{isFetching:G}=j,K=kn(),{mutate:Ce,isLoading:$e}=K,Ae=fo(),{mutate:At,isLoading:De}=Ae,{setWarnWhen:xt}=$n(),it=ko();return{...B||Q?{formLoading:G||$e,mutationResult:K,onFinish:async we=>{xt(!1);let Le=Ye=>{it({redirect:re,resource:F,id:Ye})};return T!=="pessimistic"&&setTimeout(()=>{Le()}),new Promise((Ye,Dt)=>(T!=="pessimistic"&&Ye(),Ce({values:we,resource:F.name,successNotification:l,errorNotification:s,metaData:d,dataProviderName:b,invalidates:p},{onSuccess:(Ue,lt,It)=>{var st;n&&n(Ue,we,It);let J=(st=Ue==null?void 0:Ue.data)==null?void 0:st.id;Le(J),Ye(Ue)},onError:(Ue,lt,It)=>{if(a)return a(Ue,we,It);Dt()}})))}}:{formLoading:G||De,mutationResult:Ae,onFinish:async we=>{xt(!1);let Le={id:S!=null?S:"",values:we,resource:F.name,mutationMode:T,undoableTimeout:g,successNotification:l,errorNotification:s,metaData:d,dataProviderName:b,invalidates:p},Ye=()=>{$(v),it({redirect:re,resource:F,id:S})};return T!=="pessimistic"&&setTimeout(()=>{Ye()}),new Promise((Dt,Ue)=>(T!=="pessimistic"&&Dt(),setTimeout(()=>{At(Le,{onSuccess:(lt,It,st)=>{n&&n(lt,we,st),T==="pessimistic"&&Ye(),Dt(lt)},onError:(lt,It,st)=>{if(a)return a(lt,we,st);Ue()}})})))}},queryResult:j,id:S,setId:$,redirect:(we,Le)=>{it({redirect:we!==void 0?we:O?"list":"edit",resource:F,id:Le!=null?Le:S})}}},Ms=f("react"),ko=()=>{let{show:e,edit:t,list:r,create:n}=Me();return(0,Ms.useCallback)(({redirect:a,resource:o,id:l})=>{if(a&&o.route)return o.canShow&&a==="show"&&l?e(o.route,l):o.canEdit&&a==="edit"&&l?t(o.route,l):o.canCreate&&a==="create"?n(o.route):r(o.route,"push")},[])},Me=()=>{let{useHistory:e}=le(),t=e(),r=Xe(),n=(c,y="push")=>{y==="push"?t.push(c):t.replace(c)},a=c=>`/${r(c).route}/create`,o=(c,y)=>{let h=r(c),u=encodeURIComponent(y);return`/${h.route}/edit/${u}`},l=(c,y)=>{let h=r(c),u=encodeURIComponent(y);return`/${h.route}/clone/${u}`},s=(c,y)=>{let h=r(c),u=encodeURIComponent(y);return`/${h.route}/show/${u}`},d=c=>`/${r(c).route}`;return{create:(c,y="push")=>{n(a(c),y)},createUrl:a,edit:(c,y,h="push")=>{n(o(c,y),h)},editUrl:o,clone:(c,y,h="push")=>{n(l(c,y),h)},cloneUrl:l,show:(c,y,h="push")=>{n(s(c,y),h)},showUrl:s,list:(c,y="push")=>{n(d(c),y)},listUrl:d,push:(c,...y)=>{t.push(c,...y)},replace:(c,...y)=>{t.replace(c,...y)},goBack:()=>{t.goBack()}}},za=q(f("react")),Bs=({resource:e,id:t,successNotification:r,errorNotification:n,metaData:a,liveMode:o,onLiveEvent:l,dataProviderName:s,queryOptions:d}={})=>{let{useParams:c}=le(),{resource:y,id:h}=c(),u=!e||e===y?t!=null?t:h:t,[g,b]=(0,za.useState)(u);za.default.useEffect(()=>{u!==g&&b(u)},[u]);let p=Xe()(e!=null?e:y);return{queryResult:In({resource:p.name,id:g!=null?g:"",queryOptions:{enabled:g!==void 0,...d},successNotification:r,errorNotification:n,metaData:a,liveMode:o,onLiveEvent:l,dataProviderName:s}),showId:g,setShowId:b}},Sr=f("react"),Os=f("papaparse"),zs=q(f("lodash/chunk")),Vs=({resourceName:e,mapData:t=d=>d,paparseOptions:r,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:a,metaData:o,onProgress:l,dataProviderName:s}={})=>{let[d,c]=(0,Sr.useState)(0),[y,h]=(0,Sr.useState)(0),[u,g]=(0,Sr.useState)(!1),b=Xe(),{useParams:p}=le(),{resource:x}=p(),{name:C}=b(e!=null?e:x),m=go(),E=kn(),I;n===1?I=E:I=m;let i=()=>{h(0),c(0),g(!1)},k=S=>{let $={succeeded:S.filter(N=>N.type==="success"),errored:S.filter(N=>N.type==="error")};a==null||a($),g(!1)};(0,Sr.useEffect)(()=>{l==null||l({totalAmount:y,processedAmount:d})},[y,d]);let v=({file:S})=>(i(),new Promise($=>{g(!0),(0,Os.parse)(S,{complete:async({data:N})=>{let w=no(N,t);if(h(w.length),n===1){let F=w.map(T=>async()=>({response:await E.mutateAsync({resource:C,values:T,successNotification:!1,errorNotification:!1,dataProviderName:s,metaData:o}),value:T})),M=await Ia(F,({response:T,value:B})=>(c(O=>O+1),{response:[T.data],type:"success",request:[B]}),(T,B)=>({response:[T],type:"error",request:[w[B]]}));$(M)}else{let F=(0,zs.default)(w,n),M=F.map(B=>async()=>({response:await m.mutateAsync({resource:C,values:B,successNotification:!1,errorNotification:!1,dataProviderName:s,metaData:o}),value:B,currentBatchLength:B.length})),T=await Ia(M,({response:B,currentBatchLength:O,value:Q})=>(c(re=>re+O),{response:B.data,type:"success",request:Q}),(B,O)=>({response:[B],type:"error",request:F[O]}));$(T)}},...r})}).then($=>(k($),$)));return{inputProps:{type:"file",accept:".csv",onChange:S=>{S.target.files&&S.target.files.length>0&&v({file:S.target.files[0]})}},mutationResult:I,isLoading:u,handleChange:v}},un=f("react"),Gs=({defaultVisible:e=!1}={})=>{let[t,r]=(0,un.useState)(e),n=(0,un.useCallback)(()=>r(!0),[t]),a=(0,un.useCallback)(()=>r(!1),[t]);return{visible:t,show:n,close:a}},Ws=f("react"),Po=q(f("react")),Us={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},wn=Po.default.createContext(Us),Qs=({children:e,useHistory:t,useLocation:r,useParams:n,Prompt:a,Link:o,routes:l})=>Po.default.createElement(wn.Provider,{value:{useHistory:t,useLocation:r,useParams:n,Prompt:a,Link:o,routes:l}},e),le=()=>{let{useHistory:e,useLocation:t,useParams:r,Prompt:n,Link:a,routes:o}=(0,Ws.useContext)(wn);return{useHistory:e,useLocation:t,useParams:r,Prompt:n,Link:a,routes:o}},Hs=f("react"),js=f("@tanstack/react-query"),So=q(f("react")),Lr=So.default.createContext({}),_s=({can:e,children:t})=>So.default.createElement(Lr.Provider,{value:{can:e}},t),$o=({action:e,resource:t,params:r,queryOptions:n})=>{let{can:a}=(0,Hs.useContext)(Lr),{resource:o,...l}=r!=null?r:{},{icon:s,list:d,edit:c,create:y,show:h,children:u,...g}=o!=null?o:{},b=(0,js.useQuery)(["useCan",{action:e,resource:t,params:{...l,resource:g},enabled:n==null?void 0:n.enabled}],()=>{var p;return(p=a==null?void 0:a({action:e,resource:t,params:r}))!=null?p:Promise.resolve({can:!0})},{enabled:typeof a<"u",...n,retry:!1});return typeof a>"u"?{data:{can:!0}}:b},Ks=f("react"),Zs=()=>{let{can:e}=(0,Ks.useContext)(Lr);return{can:e}},Lt=f("react"),Ys=q(f("lodash/uniqBy")),Js=q(f("lodash/debounce")),$r=q(f("lodash/get")),Xs=e=>{var t,r;let[n,a]=(0,Lt.useState)([]),[o,l]=(0,Lt.useState)([]),[s,d]=(0,Lt.useState)([]),{resource:c,sort:y,filters:h=[],optionLabel:u="title",optionValue:g="id",debounce:b=300,successNotification:p,errorNotification:x,defaultValueQueryOptions:C,queryOptions:m,fetchSize:E,pagination:I,hasPagination:i,liveMode:k,defaultValue:v=[],onLiveEvent:S,onSearch:$,liveParams:N,metaData:w,dataProviderName:F}=e,M=Array.isArray(v)?v:[v],T=(0,Lt.useCallback)(j=>{d(j.data.map(G=>({label:(0,$r.default)(G,u),value:(0,$r.default)(G,g)})))},[u,g]),B=C!=null?C:m,O=mo({resource:c,ids:M,queryOptions:{...B,enabled:M.length>0&&((t=C==null?void 0:C.enabled)!=null?t:!0),onSuccess:j=>{var G;T(j),(G=B==null?void 0:B.onSuccess)==null||G.call(B,j)}},metaData:w,liveMode:"off",dataProviderName:F}),Q=(0,Lt.useCallback)(j=>{l(j.data.map(G=>({label:(0,$r.default)(G,u),value:(0,$r.default)(G,g)})))},[u,g]),re=xn({resource:c,config:{sort:y,filters:h.concat(n),pagination:{current:I==null?void 0:I.current,pageSize:(r=I==null?void 0:I.pageSize)!=null?r:E},hasPagination:i},queryOptions:{...m,onSuccess:j=>{var G;Q(j),(G=m==null?void 0:m.onSuccess)==null||G.call(m,j)}},successNotification:p,errorNotification:x,metaData:w,liveMode:k,liveParams:N,onLiveEvent:S,dataProviderName:F}),de=j=>{if($){a($(j));return}if(j)a([{field:u,operator:"contains",value:j}]);else{a([]);return}};return{queryResult:re,defaultValueQueryResult:O,options:(0,Lt.useMemo)(()=>(0,Ys.default)([...o,...s],"value"),[o,s]),onSearch:(0,Js.default)(de,b)}},Pt=f("react"),Va=q(f("qs")),Ga=q(f("lodash/differenceWith")),Wa=q(f("lodash/isEqual")),eu=[],tu=[];function ru({initialCurrent:e=1,initialPageSize:t=10,hasPagination:r=!0,initialSorter:n,permanentSorter:a=tu,defaultSetFilterBehavior:o="merge",initialFilter:l,permanentFilter:s=eu,syncWithLocation:d,resource:c,successNotification:y,errorNotification:h,queryOptions:u,liveMode:g,onLiveEvent:b,liveParams:p,metaData:x,dataProviderName:C}={}){var m;let{syncWithLocation:E}=Io(),I=d!=null?d:E,{useLocation:i,useParams:k}=le(),{search:v,pathname:S}=i(),$=ho(g),{parsedCurrent:N,parsedPageSize:w,parsedSorter:F,parsedFilters:M}=bn(v),T=N||e,B=w||t,O=F.length?F:n,Q=M.length?M:l,{resource:re}=k(),{replace:de}=Me(),j=Xe()(c!=null?c:re),[G,K]=(0,Pt.useState)(gn(a,O!=null?O:[])),[Ce,$e]=(0,Pt.useState)(fn(s,Q!=null?Q:[])),[Ae,At]=(0,Pt.useState)(T),[De,xt]=(0,Pt.useState)(B),it=({pagination:{current:J,pageSize:Ee},sorter:ba,filters:Ca})=>{let an=Va.default.parse(v==null?void 0:v.substring(1)),_i=mn({pagination:{pageSize:Ee,current:J},sorter:ba,filters:Ca,...an});return`${S}?${_i}`};(0,Pt.useEffect)(()=>{v===""&&(At(T),xt(B),K(gn(a,O!=null?O:[])),$e(fn(s,Q!=null?Q:[])))},[v]);let we=()=>{let{sorter:J,filters:Ee,pageSize:ba,current:Ca,...an}=Va.default.parse(v,{ignoreQueryPrefix:!0});return an};(0,Pt.useEffect)(()=>{if(I){let J=we(),Ee=mn({...r?{pagination:{pageSize:De,current:Ae}}:{},sorter:(0,Ga.default)(G,a,Wa.default),filters:(0,Ga.default)(Ce,s,Wa.default),...J});return de(`${S}?${Ee}`,void 0,{shallow:!0})}},[I,Ae,De,G,Ce]);let Le=xn({resource:j.name,config:{hasPagination:r,pagination:{current:Ae,pageSize:De},filters:nr(s,Ce),sort:pn(a,G)},queryOptions:u,successNotification:y,errorNotification:h,metaData:x,liveMode:$,liveParams:p,onLiveEvent:b,dataProviderName:C}),Ye=J=>{$e(Ee=>nr(s,J,Ee))},Dt=J=>{$e(nr(s,J))},Ue=J=>{$e(Ee=>nr(s,J(Ee)))},lt=(J,Ee=o)=>{typeof J=="function"?Ue(J):Ee==="replace"?Dt(J):Ye(J)},It=J=>{K(()=>pn(a,J))},st=(0,Pt.useMemo)(()=>{var J,Ee;return r?{current:Ae,setCurrent:At,pageSize:De,setPageSize:xt,pageCount:De?Math.ceil(((Ee=(J=Le.data)==null?void 0:J.total)!=null?Ee:0)/De):1}:{current:void 0,setCurrent:void 0,pageSize:void 0,setPageSize:void 0,pageCount:void 0}},[r,Ae,De,(m=Le.data)==null?void 0:m.total]);return{tableQueryResult:Le,sorter:G,setSorter:It,filters:Ce,setFilters:lt,...st,createLinkForSyncWithLocation:it}}var Ua=f("react"),cn=f("@tanstack/react-query"),wo=q(f("react")),Rr=wo.default.createContext({}),nu=({create:e,get:t,update:r,children:n})=>wo.default.createElement(Rr.Provider,{value:{create:e,get:t,update:r}},n),Mr=()=>{let e=(0,cn.useQueryClient)(),t=(0,Ua.useContext)(Rr),{resources:r}=(0,Ua.useContext)(Ar),{data:n,refetch:a,isLoading:o}=Ya({queryOptions:{enabled:!!t}}),l=(0,cn.useMutation)(async d=>{var c,y,h;let u=r.find(p=>p.name===d.resource),g=(y=(c=u==null?void 0:u.options)==null?void 0:c.auditLog)==null?void 0:y.permissions;if(g&&!Gl(g,d.action))return;let b;return o&&(b=await a()),await((h=t.create)==null?void 0:h.call(t,{...d,author:n!=null?n:b==null?void 0:b.data}))}),s=(0,cn.useMutation)(async d=>{var c;return await((c=t.update)==null?void 0:c.call(t,d))},{onSuccess:d=>{if(d!=null&&d.resource){let c=Re(d==null?void 0:d.resource);e.invalidateQueries(c.logList())}}});return{log:l,rename:s}},au=f("react"),ou=f("@tanstack/react-query"),iu=({resource:e,action:t,meta:r,author:n,metaData:a,queryOptions:o})=>{let{get:l}=(0,au.useContext)(Rr),s=Re(e,void 0,a);return(0,ou.useQuery)(s.logList(r),()=>{var d;return(d=l==null?void 0:l({resource:e,action:t,author:n,meta:r,metaData:a}))!=null?d:Promise.resolve([])},{enabled:typeof l<"u",...o,retry:!1})},lu=f("react"),su=f("@tanstack/react-query"),$t=()=>{let{resources:e}=fe(),t=(0,su.useQueryClient)();return(0,lu.useCallback)(({resource:r,dataProviderName:n,invalidates:a,id:o})=>{if(a===!1)return;let l=Re(r,H(r,n,e));a.forEach(s=>{switch(s){case"all":t.invalidateQueries(l.all);break;case"list":t.invalidateQueries(l.list());break;case"many":t.invalidateQueries(l.many());break;case"resourceAll":t.invalidateQueries(l.resourceAll);break;case"detail":t.invalidateQueries(l.detail(o||""));break;default:break}})},[])},uu=f("react"),cu=q(f("warn-once")),du=()=>{var e;let{useParams:t}=le(),{i18nProvider:r}=(0,uu.useContext)(Vt),n=X(),{resources:a,resource:o}=fe(),{action:l}=t(),s=[];if(!(o!=null&&o.name))return{breadcrumbs:s};let d=c=>{var y;let h=a.find(u=>u.name===c);h&&(h.parentName&&d(h.parentName),s.push({label:(y=h.label)!=null?y:n(`${h.name}.${h.name}`,ar(h.name)),href:h.list?`/${h.route}`:void 0,icon:h.icon}))};if(o.parentName&&d(o.parentName),s.push({label:(e=o.label)!=null?e:n(`${o.name}.${o.name}`,ar(o.name)),href:o.list?`/${o.route}`:void 0,icon:o.icon}),l){let c=`actions.${l}`,y=n(c);typeof r<"u"&&y===c?((0,cu.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${l}" action. Please add "actions.${l}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),s.push({label:n(`buttons.${l}`,ar(l))})):s.push({label:n(c,ar(l))})}return{breadcrumbs:s}},Rt=q(f("react")),mu=()=>{let{resources:e}=fe(),t=X(),{useLocation:r,useParams:n}=le(),a=r(),o=n(),{hasDashboard:l}=Dr(),s=Rt.default.useMemo(()=>{let u=e.find(b=>(a==null?void 0:a.pathname)===`/${b.route}`);u||(u=e.find(b=>(o==null?void 0:o.resource)===b.route));let g;return u!=null&&u.route?g=`/${u==null?void 0:u.route}`:a.pathname==="/"?g="/":g=a==null?void 0:a.pathname,g},[e,a,o]),d=Rt.default.useMemo(()=>e.map(u=>{var g,b;let p=`/${u.route}`;return{...u,icon:u.icon,route:p,key:(g=u.key)!=null?g:p,label:(b=u.label)!=null?b:t(`${u.name}.${u.name}`,Cn(u.name,"plural"))}}),[e,l,t]),c=Rt.default.useMemo(()=>so(d),[d]),y=Rt.default.useCallback((u,g,b=!1)=>{let p=g.find(x=>b?x.name===u:x.route===u);if(p){let x=[];return b&&p.route&&x.unshift(p.route),p.parentName&&x.unshift(...y(p.parentName,g,!0)),x}return[]},[]),h=Rt.default.useMemo(()=>y(s,d),[s,d]);return Rt.default.useMemo(()=>{let u=g=>g.reduce((b,p)=>{var x,C;return p.children.length>0&&((x=p.options)==null?void 0:x.hide)!==!0?[...b,{...p,children:u(p.children)}]:typeof p.list<"u"&&((C=p.options)==null?void 0:C.hide)!==!0?[...b,p]:b},[]);return{defaultOpenKeys:h,selectedKey:s,menuItems:u(c)}},[h,s,c])},pu=()=>{let[e,t]=(0,kt.useState)(),{push:r}=Me(),n=X(),a=["edit","create","show"],{useParams:o}=le(),l=o(),s=Xe();return(0,kt.useEffect)(()=>{if(l.resource){let d=s(l.resource);l.action&&a.includes(l.action)&&!d[l.action]&&t(n("pages.error.info",{action:l.action,resource:l.resource},`You may have forgotten to add the "${l.action}" component to "${l.resource}" resource.`))}},[l]),kt.default.createElement(kt.default.Fragment,null,kt.default.createElement("h1",null,n("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&kt.default.createElement("p",null,e),kt.default.createElement("button",{onClick:()=>r("/")},n("pages.error.backHome",void 0,"Back Home")))},ue=q(f("react")),Fo=()=>{let[e,t]=(0,ue.useState)(""),[r,n]=(0,ue.useState)(""),a=X(),{mutate:o}=yn();return ue.default.createElement(ue.default.Fragment,null,ue.default.createElement("h1",null,a("pages.login.title","Sign in your account")),ue.default.createElement("form",{onSubmit:l=>{l.preventDefault(),o({username:e,password:r})}},ue.default.createElement("table",null,ue.default.createElement("tbody",null,ue.default.createElement("tr",null,ue.default.createElement("td",null,a("pages.login.username",void 0,"username"),":"),ue.default.createElement("td",null,ue.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:l=>t(l.target.value)}))),ue.default.createElement("tr",null,ue.default.createElement("td",null,a("pages.login.password",void 0,"password"),":"),ue.default.createElement("td",null,ue.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:l=>n(l.target.value)}))))),ue.default.createElement("br",null),ue.default.createElement("input",{type:"submit",value:"login"})))},Mt=q(f("react")),Z=q(f("react")),fu=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:a,wrapperProps:o,renderContent:l,formProps:s})=>{let{Link:d}=le(),[c,y]=(0,Z.useState)(""),[h,u]=(0,Z.useState)(""),[g,b]=(0,Z.useState)(!1),p=X(),{mutate:x}=yn(),C=(I,i)=>I?typeof I=="string"?Z.default.createElement(d,{to:I},i):I:null,m=()=>e?e.map(I=>{var i;return Z.default.createElement("div",{key:I.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Z.default.createElement("button",{onClick:()=>x({providerName:I.name}),style:{display:"flex",alignItems:"center"}},I==null?void 0:I.icon,(i=I.label)!=null?i:Z.default.createElement("label",null,I.label)))}):null,E=Z.default.createElement("div",{...a},Z.default.createElement("h1",{style:{textAlign:"center"}},p("pages.login.title","Sign in to your account")),m(),Z.default.createElement("hr",null),Z.default.createElement("form",{onSubmit:I=>{I.preventDefault(),x({email:c,password:h,remember:g})},...s},Z.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Z.default.createElement("label",null,p("pages.login.fields.email","Email")),Z.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:I=>y(I.target.value)}),Z.default.createElement("label",null,p("pages.login.fields.password","Password")),Z.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:h,onChange:I=>u(I.target.value)}),n!=null?n:Z.default.createElement(Z.default.Fragment,null,Z.default.createElement("label",null,p("pages.login.buttons.rememberMe","Remember me"),Z.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:g,value:g.toString(),onChange:()=>{b(!g)}}))),Z.default.createElement("br",null),r!=null?r:C("/forgot-password",p("pages.login.buttons.forgotPassword","Forgot password?")),Z.default.createElement("input",{type:"submit",value:p("pages.login.signin","Sign in")}),t!=null?t:Z.default.createElement("span",null,p("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",C("/register",p("pages.login.register","Sign up"))))));return Z.default.createElement("div",{...o},l?l(E):E)},oe=q(f("react")),gu=({providers:e,loginLink:t,wrapperProps:r,contentProps:n,renderContent:a,formProps:o})=>{let{Link:l}=le(),[s,d]=(0,oe.useState)(""),[c,y]=(0,oe.useState)(""),h=X(),{mutate:u,isLoading:g}=Xa(),b=(C,m)=>C?typeof C=="string"?oe.default.createElement(l,{to:C},m):C:null,p=()=>e?e.map(C=>{var m;return oe.default.createElement("div",{key:C.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},oe.default.createElement("button",{onClick:()=>u({providerName:C.name}),style:{display:"flex",alignItems:"center"}},C==null?void 0:C.icon,(m=C.label)!=null?m:oe.default.createElement("label",null,C.label)))}):null,x=oe.default.createElement("div",{...n},oe.default.createElement("h1",{style:{textAlign:"center"}},h("pages.register.title","Sign up for your account")),p(),oe.default.createElement("hr",null),oe.default.createElement("form",{onSubmit:C=>{C.preventDefault(),u({email:s,password:c})},...o},oe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},oe.default.createElement("label",null,h("pages.register.fields.email","Email")),oe.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:s,onChange:C=>d(C.target.value)}),oe.default.createElement("label",null,h("pages.register.fields.password","Password")),oe.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:c,onChange:C=>y(C.target.value)}),oe.default.createElement("input",{type:"submit",value:h("pages.register.buttons.submit","Sign up"),disabled:g}),t!=null?t:oe.default.createElement(oe.default.Fragment,null,oe.default.createElement("span",null,h("pages.login.buttons.haveAccount","Have an account?")," ",b("login",h("pages.login.signin","Sign in")))))));return oe.default.createElement("div",{...r},a?a(x):x)},xe=q(f("react")),vu=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:n,formProps:a})=>{let o=X(),{Link:l}=le(),[s,d]=(0,xe.useState)(""),{mutate:c,isLoading:y}=eo(),h=(g,b)=>g?typeof g=="string"?xe.default.createElement(l,{to:g},b):g:null,u=xe.default.createElement("div",{...r},xe.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),xe.default.createElement("hr",null),xe.default.createElement("form",{onSubmit:g=>{g.preventDefault(),c({email:s})},...a},xe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},xe.default.createElement("label",null,o("pages.forgotPassword.fields.email","Email")),xe.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:s,onChange:g=>d(g.target.value)}),xe.default.createElement("input",{type:"submit",disabled:y,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),xe.default.createElement("br",null),e!=null?e:xe.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",h("/login",o("pages.login.signin","Sign in"))))));return xe.default.createElement("div",{...t},n?n(u):u)},Ie=q(f("react")),yu=({wrapperProps:e,contentProps:t,renderContent:r,formProps:n})=>{let a=X(),{mutate:o,isLoading:l}=to(),[s,d]=(0,Ie.useState)(""),[c,y]=(0,Ie.useState)(""),h=Ie.default.createElement("div",{...t},Ie.default.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),Ie.default.createElement("hr",null),Ie.default.createElement("form",{onSubmit:u=>{u.preventDefault(),o({password:s,confirmPassword:c})},...n},Ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ie.default.createElement("label",null,a("pages.updatePassword.fields.password","New Password")),Ie.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:s,onChange:u=>d(u.target.value)}),Ie.default.createElement("label",null,a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ie.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:c,onChange:u=>y(u.target.value)}),Ie.default.createElement("input",{type:"submit",disabled:l,value:a("pages.updatePassword.buttons.submit","Update")}))));return Ie.default.createElement("div",{...e},r?r(h):h)},hu=e=>{let{type:t}=e;return Mt.default.createElement(Mt.default.Fragment,null,(()=>{switch(t){case"register":return Mt.default.createElement(gu,{...e});case"forgotPassword":return Mt.default.createElement(vu,{...e});case"updatePassword":return Mt.default.createElement(yu,{...e});default:return Mt.default.createElement(fu,{...e})}})())},he=q(f("react")),No=()=>he.default.createElement(he.default.Fragment,null,he.default.createElement("h1",null,"Welcome on board"),he.default.createElement("p",null,"Your configuration is completed."),he.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",he.default.createElement("code",null,"`resources`")," property of ",he.default.createElement("code",null,"`<Refine>`")),he.default.createElement("div",{style:{display:"flex",gap:8}},he.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},he.default.createElement("button",null,"Documentation")),he.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},he.default.createElement("button",null,"Examples")),he.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},he.default.createElement("button",null,"Community")))),ne=q(f("react")),dn=f("@tanstack/react-query"),bu=f("@tanstack/react-query-devtools"),Cu=f("react"),ut=f("react"),Eu="3.90.4",xu=()=>{let e=(0,ut.useContext)(ke),t=(0,ut.useContext)(Rr),r=(0,ut.useContext)(or),n=(0,ut.useContext)(wn),a=(0,ut.useContext)(Pn),{i18nProvider:o}=(0,ut.useContext)(Vt),l=(0,ut.useContext)(Sn),s=(0,ut.useContext)(Lr),{resources:d}=fe(),c=e.isProvided,y=!!t.create||!!t.get||!!t.update,h=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),u=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,g=!!a,b=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),p=!!l.close||!!l.open,x=!!s.can;return{providers:{auth:c,auditLog:y,live:h,router:u,data:g,i18n:b,notification:p,accessControl:x},version:Eu,resourceCount:d.length}},Iu=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},ku=()=>{let e=xu();return(0,Cu.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${Iu(e)}`},[]),null},Pu=f("react"),Su=f("react"),$u=q(f("lodash/isEqual")),wu=e=>{let t=(0,Su.useRef)(e);return(0,$u.default)(t.current,e)||(t.current=e),t.current},Qa=(e,t)=>{let r=wu(t);return(0,Pu.useMemo)(e,r)},Fu=({authProvider:e,dataProvider:t,routerProvider:r,notificationProvider:n,accessControlProvider:a,auditLogProvider:o,resources:l,DashboardPage:s,ReadyPage:d,LoginPage:c,catchAll:y,children:h,liveProvider:u,i18nProvider:g,mutationMode:b,syncWithLocation:p,warnWhenUnsavedChanges:x,undoableTimeout:C,Title:m,Layout:E,Sider:I,Header:i,Footer:k,OffLayoutArea:v,reactQueryClientConfig:S,reactQueryDevtoolConfig:$,liveMode:N,onLiveEvent:w,disableTelemetry:F,options:M})=>{let{optionsWithDefaults:T,disableTelemetryWithDefault:B,reactQueryWithDefaults:O}=Hl({options:M,disableTelemetry:F,liveMode:N,mutationMode:b,reactQueryClientConfig:S,reactQueryDevtoolConfig:$,syncWithLocation:p,warnWhenUnsavedChanges:x,undoableTimeout:C}),Q=Qa(()=>{var G;return O.clientConfig instanceof dn.QueryClient?O.clientConfig:new dn.QueryClient({...O.clientConfig,defaultOptions:{...O.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(G=O.clientConfig.defaultOptions)==null?void 0:G.queries}}})},[O.clientConfig]),re=ne.default.useMemo(()=>typeof n=="function"?n:()=>n!=null?n:{},[n])(),de=Qa(()=>{let G=[];return l==null||l.forEach(K=>{var Ce;G.push({key:K.key,name:K.name,label:(Ce=K.options)==null?void 0:Ce.label,icon:K.icon,route:En(K,l),canCreate:!!K.create,canEdit:!!K.edit,canShow:!!K.show,canDelete:K.canDelete,create:K.create,show:K.show,list:K.list,edit:K.edit,options:K.options,parentName:K.parentName})}),G},[l]);if(de.length===0)return d?ne.default.createElement(d,null):ne.default.createElement(No,null);let{RouterComponent:j=ne.default.Fragment}=r;return ne.default.createElement(dn.QueryClientProvider,{client:Q},ne.default.createElement(xs,{...re},ne.default.createElement(cl,{...e!=null?e:{},isProvided:Boolean(e)},ne.default.createElement(ms,{...t},ne.default.createElement(fs,{liveProvider:u},ne.default.createElement(Qs,{...r},ne.default.createElement(bs,{resources:de},ne.default.createElement(ks,{i18nProvider:g},ne.default.createElement(_s,{...a!=null?a:{}},ne.default.createElement(nu,{...o!=null?o:{}},ne.default.createElement(Jl,null,ne.default.createElement(Ql,{mutationMode:T.mutationMode,warnWhenUnsavedChanges:T.warnWhenUnsavedChanges,syncWithLocation:T.syncWithLocation,Title:m,undoableTimeout:T.undoableTimeout,catchAll:y,DashboardPage:s,LoginPage:c,Layout:E,Sider:I,Footer:k,Header:i,OffLayoutArea:v,hasDashboard:!!s,liveMode:T.liveMode,onLiveEvent:w,options:T},ne.default.createElement(ws,null,ne.default.createElement(j,null,h,!B&&ne.default.createElement(ku,null),ne.default.createElement(qo,null)))))))))))))),O.devtoolConfig===!1?null:ne.default.createElement(bu.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...O.devtoolConfig}))},Ha=f("react"),To=({notification:e})=>{let t=X(),{notificationDispatch:r}=zt(),{open:n}=dt(),[a,o]=(0,Ha.useState)(),l=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||n==null||n({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:on(e.seconds)},`You have ${on(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:on(e.seconds)}),e.seconds>0)){a&&clearTimeout(a);let s=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(s)}};return(0,Ha.useEffect)(()=>{l()},[e]),null},Fr=q(f("react")),Nu=({children:e,Layout:t,Sider:r,Header:n,Title:a,Footer:o,OffLayoutArea:l})=>{let{Layout:s,Footer:d,Header:c,Sider:y,Title:h,OffLayoutArea:u}=Dr(),g=t!=null?t:s;return Fr.default.createElement(g,{Sider:r!=null?r:y,Header:n!=null?n:c,Footer:o!=null?o:d,Title:a!=null?a:h,OffLayoutArea:l!=null?l:u},e,Fr.default.createElement(Tu,null))},Tu=()=>{let{Prompt:e}=le(),t=X(),{warnWhen:r,setWarnWhen:n}=$n(),a=o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue);return(0,Fr.useEffect)(()=>(r&&window.addEventListener("beforeunload",a),window.removeEventListener("beforeunload",a)),[r]),Fr.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})},Bt=q(f("react")),qu=({children:e,fallback:t,loading:r})=>{let{isSuccess:n,isLoading:a,isError:o}=ro(),{replace:l}=Me(),{useLocation:s}=le(),{pathname:d,search:c}=s();if(a)return Bt.default.createElement(Bt.default.Fragment,null,r)||null;if(o){if(!t){let y=`${d}${c}`;return d.includes("/login")||l(`/login?to=${encodeURIComponent(y)}`),null}return Bt.default.createElement(Bt.default.Fragment,null,t)}return n?Bt.default.createElement(Bt.default.Fragment,null,e):null},ja=f("react"),qo=()=>{let{useLocation:e}=le(),{checkAuth:t}=(0,ja.useContext)(ke),r=e();return(0,ja.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},Ot=q(f("react")),Au=({resource:e,action:t,params:r,fallback:n,children:a,...o})=>{let{data:l}=$o({resource:e,action:t,params:r});return l!=null&&l.can?Ot.default.isValidElement(a)?Ot.default.cloneElement(a,o):Ot.default.createElement(Ot.default.Fragment,null,a):(l==null?void 0:l.can)===!1?Ot.default.createElement(Ot.default.Fragment,null,n!=null?n:null):null}});var Be=Pr((Bd,Lo)=>{var Fn=Object.defineProperty,Du=Object.getOwnPropertyDescriptor,Lu=Object.getOwnPropertyNames,Ru=Object.prototype.hasOwnProperty,Mu=(e,t)=>{for(var r in t)Fn(e,r,{get:t[r],enumerable:!0})},Bu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Lu(t))!Ru.call(e,a)&&a!==r&&Fn(e,a,{get:()=>t[a],enumerable:!(n=Du(t,a))||n.enumerable});return e},Ou=e=>Bu(Fn({},"__esModule",{value:!0}),e),Do={};Mu(Do,{RefineButtonTestIds:()=>zu});Lo.exports=Ou(Do);var zu={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var ft=Pr((Zd,Xt)=>{var Vu=Object.create,jr=Object.defineProperty,Gu=Object.getOwnPropertyDescriptor,Wu=Object.getOwnPropertyNames,Uu=Object.getPrototypeOf,Qu=Object.prototype.hasOwnProperty,Hu=(e,t)=>{for(var r in t)jr(e,r,{get:t[r],enumerable:!0})},Hr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Wu(t))!Qu.call(e,a)&&a!==r&&jr(e,a,{get:()=>t[a],enumerable:!(n=Gu(t,a))||n.enumerable});return e},_r=(e,t,r)=>(Hr(e,t,"default"),r&&Hr(r,t,"default")),z=(e,t,r)=>(r=e!=null?Vu(Uu(e)):{},Hr(t||!e||!e.__esModule?jr(r,"default",{value:e,enumerable:!0}):r,e)),ju=e=>Hr(jr({},"__esModule",{value:!0}),e),Jt={};Hu(Jt,{AVAILABLE_TRANSITIONS:()=>P.AVAILABLE_TRANSITIONS,Accordion:()=>P.Accordion,ActionIcon:()=>P.ActionIcon,Affix:()=>P.Affix,Alert:()=>P.Alert,AlphaSlider:()=>P.AlphaSlider,Anchor:()=>P.Anchor,AppShell:()=>P.AppShell,Aside:()=>P.Aside,AspectRatio:()=>P.AspectRatio,AuthPage:()=>jc,Autocomplete:()=>P.Autocomplete,Avatar:()=>P.Avatar,BackgroundImage:()=>P.BackgroundImage,Badge:()=>P.Badge,Blockquote:()=>P.Blockquote,BooleanField:()=>ac,Box:()=>P.Box,Breadcrumb:()=>Cr,Breadcrumbs:()=>P.Breadcrumbs,Burger:()=>P.Burger,Button:()=>P.Button,COLOR_PICKER_SIZES:()=>P.COLOR_PICKER_SIZES,Card:()=>P.Card,CardSection:()=>P.CardSection,Center:()=>P.Center,CheckIcon:()=>P.CheckIcon,Checkbox:()=>P.Checkbox,CheckboxIcon:()=>P.CheckboxIcon,ChevronIcon:()=>P.ChevronIcon,Chip:()=>P.Chip,CloneButton:()=>Sc,CloseButton:()=>P.CloseButton,Code:()=>P.Code,Col:()=>P.Col,Collapse:()=>P.Collapse,ColorInput:()=>P.ColorInput,ColorPicker:()=>P.ColorPicker,ColorSchemeProvider:()=>P.ColorSchemeProvider,ColorSwatch:()=>P.ColorSwatch,Container:()=>P.Container,CopyButton:()=>P.CopyButton,Create:()=>Lc,CreateButton:()=>ai,DEFAULT_THEME:()=>P.DEFAULT_THEME,DarkTheme:()=>sd,DateField:()=>uc,DeleteButton:()=>Wn,Dialog:()=>P.Dialog,Divider:()=>P.Divider,Drawer:()=>P.Drawer,Edit:()=>Ac,EditButton:()=>oi,EmailField:()=>rc,ErrorComponent:()=>Mc,ExportButton:()=>kc,FileButton:()=>P.FileButton,FileField:()=>dc,FileInput:()=>P.FileInput,FocusTrap:()=>P.FocusTrap,Footer:()=>P.Footer,FormContext:()=>br,Global:()=>P.Global,GlobalStyles:()=>P.GlobalStyles,Grid:()=>P.Grid,Group:()=>P.Group,GroupedTransition:()=>P.GroupedTransition,Header:()=>li,Highlight:()=>P.Highlight,HoverCard:()=>P.HoverCard,HueSlider:()=>P.HueSlider,INPUT_SIZES:()=>P.INPUT_SIZES,Image:()=>P.Image,ImportButton:()=>wc,Indicator:()=>P.Indicator,Input:()=>P.Input,InputBase:()=>P.InputBase,JsonInput:()=>P.JsonInput,Kbd:()=>P.Kbd,Layout:()=>Yc,LightTheme:()=>ld,List:()=>Fc,ListButton:()=>Qn,Loader:()=>P.Loader,LoadingOverlay:()=>P.LoadingOverlay,MANTINE_COLORS:()=>P.MANTINE_COLORS,MANTINE_SIZES:()=>P.MANTINE_SIZES,MantineHeader:()=>P.Header,MantineList:()=>P.List,MantineProvider:()=>P.MantineProvider,Mark:()=>P.Mark,MarkdownField:()=>Ec,MediaQuery:()=>P.MediaQuery,Menu:()=>P.Menu,Modal:()=>P.Modal,MultiSelect:()=>P.MultiSelect,NativeSelect:()=>P.NativeSelect,NavLink:()=>P.NavLink,Navbar:()=>P.Navbar,NormalizeCSS:()=>P.NormalizeCSS,Notification:()=>P.Notification,NumberField:()=>yc,NumberInput:()=>P.NumberInput,OptionalPortal:()=>P.OptionalPortal,Overlay:()=>P.Overlay,Pagination:()=>P.Pagination,Paper:()=>P.Paper,PasswordInput:()=>P.PasswordInput,Popover:()=>P.Popover,Portal:()=>P.Portal,Progress:()=>P.Progress,Radio:()=>P.Radio,RangeSlider:()=>P.RangeSlider,ReadyPage:()=>Bc,RefineTitle:()=>si,RefreshButton:()=>Un,RingCountdown:()=>Vn,RingProgress:()=>P.RingProgress,SaveButton:()=>Hn,ScrollArea:()=>P.ScrollArea,SegmentedControl:()=>P.SegmentedControl,Select:()=>P.Select,SelectChevronIcon:()=>P.SelectChevronIcon,Show:()=>Tc,ShowButton:()=>xc,Sider:()=>ii,SimpleGrid:()=>P.SimpleGrid,Skeleton:()=>P.Skeleton,Slider:()=>P.Slider,Space:()=>P.Space,Spoiler:()=>P.Spoiler,Stack:()=>P.Stack,Step:()=>P.Step,Stepper:()=>P.Stepper,StylesApiProvider:()=>P.StylesApiProvider,Switch:()=>P.Switch,Table:()=>P.Table,Tabs:()=>P.Tabs,TagField:()=>Xu,Text:()=>P.Text,TextField:()=>Zu,TextInput:()=>P.TextInput,Textarea:()=>P.Textarea,ThemeIcon:()=>P.ThemeIcon,Timeline:()=>P.Timeline,TimelineItem:()=>P.TimelineItem,Title:()=>P.Title,Tooltip:()=>P.Tooltip,TransferList:()=>P.TransferList,Transition:()=>P.Transition,TypographyStylesProvider:()=>P.TypographyStylesProvider,UnstyledButton:()=>P.UnstyledButton,UrlField:()=>ni,clsx:()=>P.clsx,createEmotionCache:()=>P.createEmotionCache,createPolymorphicComponent:()=>P.createPolymorphicComponent,createStyles:()=>P.createStyles,defaultMantineEmotionCache:()=>P.defaultMantineEmotionCache,extractSystemStyles:()=>P.extractSystemStyles,getDefaultZIndex:()=>P.getDefaultZIndex,getSortedBreakpoints:()=>P.getSortedBreakpoints,keyframes:()=>P.keyframes,mapButtonVariantToActionIconVariant:()=>Ve,notificationProvider:()=>ed,packSx:()=>P.packSx,useComponentDefaultProps:()=>P.useComponentDefaultProps,useContextStylesApi:()=>P.useContextStylesApi,useCss:()=>P.useCss,useEmotionCache:()=>P.useEmotionCache,useForm:()=>jn,useInputProps:()=>P.useInputProps,useMantineColorScheme:()=>P.useMantineColorScheme,useMantineTheme:()=>P.useMantineTheme,useModalForm:()=>rd,useSelect:()=>id,useStepsForm:()=>ad,validateJson:()=>P.validateJson});Xt.exports=ju(Jt);var Od=f("@mantine/core");_r(Jt,f("@mantine/notifications"),Xt.exports);_r(Jt,f("@mantine/hooks"),Xt.exports);_r(Jt,f("@mantine/utils"),Xt.exports);_r(Jt,f("@mantine/styles"),Xt.exports);var P=f("@mantine/core"),Ro=z(f("react")),Mo=f("@mantine/core"),Vn=({undoableTimeout:e})=>Ro.default.createElement(Mo.RingProgress,{size:55,thickness:4,roundCaps:!0,sections:[{value:e*20,color:"primary"}],label:Ro.default.createElement(Mo.Text,{weight:700,align:"center"},e)}),_u=z(f("react")),Ku=f("@mantine/core"),Zu=({value:e,...t})=>_u.default.createElement(Ku.Text,{...t},e),Yu=z(f("react")),Ju=f("@mantine/core"),Xu=({value:e,...t})=>Yu.default.createElement(Ju.Chip,{checked:!1,...t},e==null?void 0:e.toString()),ec=z(f("react")),tc=f("@mantine/core"),rc=({value:e,...t})=>ec.default.createElement(tc.Anchor,{href:`mailto:${e}`,...t},e),Br=z(f("react")),nc=f("@mantine/core"),Bo=f("@tabler/icons"),ac=({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:n,falseIcon:a,svgIconProps:o,...l})=>Br.default.createElement(nc.Tooltip,{label:e?t:r,...l},Br.default.createElement("span",null,e?n!=null?n:Br.default.createElement(Bo.IconCheck,{size:18,...o}):a!=null?a:Br.default.createElement(Bo.IconX,{size:18,...o}))),oc=z(f("react")),Gn=z(f("dayjs")),ic=z(f("dayjs/plugin/localizedFormat")),lc=f("@mantine/core");Gn.default.extend(ic.default);var sc=Gn.default.locale(),uc=({value:e,locales:t,format:r="L",...n})=>oc.default.createElement(lc.Text,{...n},(0,Gn.default)(e).locale(t||sc).format(r)),cc=z(f("react")),dc=({title:e,src:t,...r})=>cc.default.createElement(ni,{value:t,title:e,...r},e!=null?e:t),mc=z(f("react")),pc=f("@mantine/core"),ni=({children:e,value:t,title:r,...n})=>mc.default.createElement(pc.Anchor,{href:t,title:r,...n},e!=null?e:t),fc=z(f("react")),gc=f("@mantine/core");function vc(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var yc=({value:e,locale:t,options:r,...n})=>{let a=parseFloat(e.toString());return fc.default.createElement(gc.Text,{...n},vc()?a.toLocaleString(t,r):a)},hc=z(f("react")),bc=z(f("react-markdown")),Cc=z(f("remark-gfm")),Ec=({value:e="",...t})=>hc.default.createElement(bc.default,{plugins:[Cc.default],...t},e),ir=z(f("react")),lr=W(),zd=Be(),Nn=f("@mantine/core"),Oo=f("@tabler/icons"),Ve=e=>{switch(e){case"white":return"default";default:return e}},ai=({resourceNameOrRouteName:e,hideText:t=!1,accessControl:r,ignoreAccessControlProvider:n=!1,svgIconProps:a,children:o,onClick:l,...s})=>{var d,c;let y=(d=r==null?void 0:r.enabled)!=null?d:!n,h=(c=r==null?void 0:r.hideIfUnauthorized)!=null?c:!1,{resource:u,resourceName:g}=(0,lr.useResource)({resourceNameOrRouteName:e}),{Link:b}=(0,lr.useRouterContext)(),{createUrl:p}=(0,lr.useNavigation)(),x=(0,lr.useTranslate)(),{data:C}=(0,lr.useCan)({resource:g,action:"create",queryOptions:{enabled:y},params:{resource:u}}),m=()=>C!=null&&C.can?"":C!=null&&C.reason?C.reason:x("buttons.notAccessTitle","You don't have permission to access"),E=p(u.route),{variant:I,styles:i,...k}=s;return y&&h&&!(C!=null&&C.can)?null:ir.default.createElement(Nn.Anchor,{component:b,to:E,replace:!1,onClick:v=>{if((C==null?void 0:C.can)===!1){v.preventDefault();return}l&&(v.preventDefault(),l(v))}},t?ir.default.createElement(Nn.ActionIcon,{title:m(),disabled:(C==null?void 0:C.can)===!1,...I?{variant:Ve(I)}:{variant:"default"},...k},ir.default.createElement(Oo.IconSquarePlus,{size:18,...a})):ir.default.createElement(Nn.Button,{disabled:(C==null?void 0:C.can)===!1,leftIcon:ir.default.createElement(Oo.IconSquarePlus,{size:18,...a}),title:m(),variant:"default",...s},o!=null?o:x("buttons.create","Create")))},sr=z(f("react")),ur=W(),Vd=Be(),Tn=f("@mantine/core"),zo=f("@tabler/icons"),oi=({resourceNameOrRouteName:e,recordItemId:t,hideText:r=!1,accessControl:n,ignoreAccessControlProvider:a=!1,svgIconProps:o,children:l,onClick:s,...d})=>{var c,y;let h=(c=n==null?void 0:n.enabled)!=null?c:!a,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,{resourceName:g,resource:b,id:p}=(0,ur.useResource)({resourceNameOrRouteName:e,recordItemId:t}),x=(0,ur.useTranslate)(),{editUrl:C}=(0,ur.useNavigation)(),{Link:m}=(0,ur.useRouterContext)(),{data:E}=(0,ur.useCan)({resource:g,action:"edit",params:{id:p,resource:b},queryOptions:{enabled:h}}),I=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:x("buttons.notAccessTitle","You don't have permission to access"),i=C(b.route,p),{variant:k,styles:v,...S}=d;return h&&u&&!(E!=null&&E.can)?null:sr.default.createElement(Tn.Anchor,{component:m,to:i,replace:!1,onClick:$=>{if((E==null?void 0:E.can)===!1){$.preventDefault();return}s&&($.preventDefault(),s($))}},r?sr.default.createElement(Tn.ActionIcon,{title:I(),disabled:(E==null?void 0:E.can)===!1,...k?{variant:Ve(k)}:{variant:"default"},...S},sr.default.createElement(zo.IconPencil,{size:18,...o})):sr.default.createElement(Tn.Button,{variant:"default",disabled:(E==null?void 0:E.can)===!1,leftIcon:sr.default.createElement(zo.IconPencil,{size:18,...o}),title:I(),...d},l!=null?l:x("buttons.edit","Edit")))},Ne=z(f("react")),cr=W(),Gd=Be(),et=f("@mantine/core"),Vo=f("@tabler/icons"),Wn=({resourceNameOrRouteName:e,recordItemId:t,onSuccess:r,mutationMode:n,children:a,successNotification:o,errorNotification:l,hideText:s=!1,accessControl:d,ignoreAccessControlProvider:c=!1,metaData:y,dataProviderName:h,confirmTitle:u,confirmOkText:g,confirmCancelText:b,svgIconProps:p,...x})=>{var C,m;let E=(C=d==null?void 0:d.enabled)!=null?C:!c,I=(m=d==null?void 0:d.hideIfUnauthorized)!=null?m:!1,{resourceName:i,id:k,resource:v}=(0,cr.useResource)({resourceNameOrRouteName:e,recordItemId:t}),S=(0,cr.useTranslate)(),{mutationMode:$}=(0,cr.useMutationMode)(),N=n!=null?n:$,{mutate:w,isLoading:F,variables:M}=(0,cr.useDelete)(),{data:T}=(0,cr.useCan)({resource:i,action:"delete",params:{id:k,resource:v},queryOptions:{enabled:E}}),[B,O]=(0,Ne.useState)(!1),Q=()=>{O(!1),w({id:k!=null?k:"",resource:i,mutationMode:N,successNotification:o,errorNotification:l,metaData:y,dataProviderName:h},{onSuccess:G=>{r&&r(G)}})},{variant:re,styles:de,...j}=x;return E&&I&&!(T!=null&&T.can)?null:Ne.default.createElement(et.Popover,{opened:B,onChange:O,withArrow:!0,withinPortal:!0},Ne.default.createElement(et.Popover.Target,null,s?Ne.default.createElement(et.ActionIcon,{color:"red",onClick:()=>O(G=>!G),disabled:F||(T==null?void 0:T.can)===!1,loading:k===(M==null?void 0:M.id)&&F,...re?{variant:Ve(re)}:{variant:"outline"},...j},Ne.default.createElement(Vo.IconTrash,{size:18,...p})):Ne.default.createElement(et.Button,{color:"red",variant:"outline",onClick:()=>O(G=>!G),disabled:F||(T==null?void 0:T.can)===!1,loading:k===(M==null?void 0:M.id)&&F,leftIcon:Ne.default.createElement(Vo.IconTrash,{size:18,...p}),...x},a!=null?a:S("buttons.delete","Delete"))),Ne.default.createElement(et.Popover.Dropdown,{py:"xs"},Ne.default.createElement(et.Text,{size:"sm",weight:"bold"},u!=null?u:S("buttons.confirm","Are you sure?")),Ne.default.createElement(et.Group,{position:"center",noWrap:!0,spacing:"xs",mt:"xs"},Ne.default.createElement(et.Button,{onClick:()=>O(!1),variant:"default",size:"xs"},b!=null?b:S("buttons.cancel","Cancel")),Ne.default.createElement(et.Button,{color:"red",onClick:Q,autoFocus:!0,size:"xs"},g!=null?g:S("buttons.delete","Delete")))))},Or=z(f("react")),qn=W(),Wd=Be(),Go=f("@mantine/core"),Wo=f("@tabler/icons"),Un=({resourceNameOrRouteName:e,recordItemId:t,hideText:r=!1,metaData:n,dataProviderName:a,svgIconProps:o,children:l,onClick:s,...d})=>{let{resourceName:c,id:y}=(0,qn.useResource)({resourceNameOrRouteName:e,recordItemId:t}),h=(0,qn.useTranslate)(),{refetch:u,isFetching:g}=(0,qn.useOne)({resource:c,id:y!=null?y:"",queryOptions:{enabled:!1},metaData:n,liveMode:"off",dataProviderName:a}),{variant:b,styles:p,...x}=d;return r?Or.default.createElement(Go.ActionIcon,{onClick:C=>s?s(C):u(),loading:g,...b?{variant:Ve(b)}:{variant:"default"},...x},Or.default.createElement(Wo.IconRefresh,{size:18,...o})):Or.default.createElement(Go.Button,{variant:"default",leftIcon:Or.default.createElement(Wo.IconRefresh,{size:18,...o}),loading:g,onClick:C=>s?s(C):u(),...d},l!=null?l:h("buttons.refresh","Refresh"))},dr=z(f("react")),mr=W(),Ud=Be(),An=f("@mantine/core"),Uo=f("@tabler/icons"),xc=({resourceNameOrRouteName:e,recordItemId:t,hideText:r=!1,accessControl:n,ignoreAccessControlProvider:a=!1,svgIconProps:o,children:l,onClick:s,...d})=>{var c,y;let h=(c=n==null?void 0:n.enabled)!=null?c:!a,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,{resourceName:g,id:b,resource:p}=(0,mr.useResource)({resourceNameOrRouteName:e,recordItemId:t}),{showUrl:x}=(0,mr.useNavigation)(),{Link:C}=(0,mr.useRouterContext)(),m=(0,mr.useTranslate)(),{data:E}=(0,mr.useCan)({resource:g,action:"show",params:{id:b,resource:p},queryOptions:{enabled:h}}),I=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:m("buttons.notAccessTitle","You don't have permission to access"),i=x(p.route,b),{variant:k,styles:v,...S}=d;return h&&u&&!(E!=null&&E.can)?null:dr.default.createElement(An.Anchor,{component:C,to:i,replace:!1,onClick:$=>{if((E==null?void 0:E.can)===!1){$.preventDefault();return}s&&($.preventDefault(),s($))}},r?dr.default.createElement(An.ActionIcon,{...k?{variant:Ve(k)}:{variant:"default"},disabled:(E==null?void 0:E.can)===!1,title:I(),...S},dr.default.createElement(Uo.IconEye,{size:18,...o})):dr.default.createElement(An.Button,{variant:"default",disabled:(E==null?void 0:E.can)===!1,leftIcon:dr.default.createElement(Uo.IconEye,{size:18,...o}),title:I(),...d},l!=null?l:m("buttons.show","Show")))},pr=z(f("react")),Wt=W(),Qd=Be(),Dn=f("@mantine/core"),Qo=f("@tabler/icons"),Qn=({resourceNameOrRouteName:e,hideText:t=!1,accessControl:r,ignoreAccessControlProvider:n=!1,svgIconProps:a,children:o,onClick:l,...s})=>{var d,c,y;let h=(d=r==null?void 0:r.enabled)!=null?d:!n,u=(c=r==null?void 0:r.hideIfUnauthorized)!=null?c:!1,{resource:g,resourceName:b}=(0,Wt.useResource)({resourceNameOrRouteName:e}),{listUrl:p}=(0,Wt.useNavigation)(),{Link:x}=(0,Wt.useRouterContext)(),C=(0,Wt.useTranslate)(),{data:m}=(0,Wt.useCan)({resource:b,action:"list",queryOptions:{enabled:h},params:{resource:g}}),E=()=>m!=null&&m.can?"":m!=null&&m.reason?m.reason:C("buttons.notAccessTitle","You don't have permission to access"),I=p(g.route),{variant:i,styles:k,...v}=s;return h&&u&&!(m!=null&&m.can)?null:pr.default.createElement(Dn.Anchor,{component:x,to:I,replace:!1,onClick:S=>{if((m==null?void 0:m.can)===!1){S.preventDefault();return}l&&(S.preventDefault(),l(S))}},t?pr.default.createElement(Dn.ActionIcon,{...i?{variant:Ve(i)}:{variant:"default"},disabled:(m==null?void 0:m.can)===!1,title:E(),...v},pr.default.createElement(Qo.IconList,{size:18,...a})):pr.default.createElement(Dn.Button,{variant:"default",disabled:(m==null?void 0:m.can)===!1,leftIcon:pr.default.createElement(Qo.IconList,{size:18,...a}),title:E(),...s},o!=null?o:C(`${b}.titles.list`,(0,Wt.userFriendlyResourceName)((y=g.label)!=null?y:b,"plural"))))},zr=z(f("react")),Ic=W(),Hd=Be(),Ho=f("@mantine/core"),jo=f("@tabler/icons"),kc=({hideText:e=!1,children:t,loading:r=!1,svgIconProps:n,...a})=>{let o=(0,Ic.useTranslate)(),{variant:l,styles:s,...d}=a;return e?zr.default.createElement(Ho.ActionIcon,{...l?{variant:Ve(l)}:{variant:"default"},loading:r,...d},zr.default.createElement(jo.IconFileExport,{size:18,...n})):zr.default.createElement(Ho.Button,{variant:"default",loading:r,leftIcon:zr.default.createElement(jo.IconFileExport,{size:18,...n}),...a},t!=null?t:o("buttons.export","Export"))},Vr=z(f("react")),Pc=W(),jd=Be(),_o=f("@mantine/core"),Ko=f("@tabler/icons"),Hn=({hideText:e=!1,svgIconProps:t,children:r,...n})=>{let a=(0,Pc.useTranslate)(),{variant:o,styles:l,...s}=n;return e?Vr.default.createElement(_o.ActionIcon,{...o?{variant:Ve(o)}:{variant:"filled",color:"primary"},...s},Vr.default.createElement(Ko.IconDeviceFloppy,{size:18,...t})):Vr.default.createElement(_o.Button,{variant:"filled",leftIcon:Vr.default.createElement(Ko.IconDeviceFloppy,{size:18,...t}),...n},r!=null?r:a("buttons.save","Save"))},fr=z(f("react")),gr=W(),_d=Be(),Ln=f("@mantine/core"),Zo=f("@tabler/icons"),Sc=({resourceNameOrRouteName:e,recordItemId:t,hideText:r=!1,accessControl:n,ignoreAccessControlProvider:a=!1,svgIconProps:o,children:l,onClick:s,...d})=>{var c,y;let h=(c=n==null?void 0:n.enabled)!=null?c:!a,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,{resourceName:g,resource:b,id:p}=(0,gr.useResource)({resourceNameOrRouteName:e,recordItemId:t}),{cloneUrl:x}=(0,gr.useNavigation)(),{Link:C}=(0,gr.useRouterContext)(),m=(0,gr.useTranslate)(),{data:E}=(0,gr.useCan)({resource:g,action:"create",params:{id:p,resource:b},queryOptions:{enabled:h}}),I=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:m("buttons.notAccessTitle","You don't have permission to access"),i=x(b.route,p),{variant:k,styles:v,...S}=d;return h&&u&&!(E!=null&&E.can)?null:fr.default.createElement(Ln.Anchor,{component:C,to:i,replace:!1,onClick:$=>{if((E==null?void 0:E.can)===!1){$.preventDefault();return}s&&($.preventDefault(),s($))}},r?fr.default.createElement(Ln.ActionIcon,{disabled:(E==null?void 0:E.can)===!1,title:I(),...k?{variant:Ve(k)}:{variant:"default"},...S},fr.default.createElement(Zo.IconSquarePlus,{size:18,...o})):fr.default.createElement(Ln.Button,{disabled:(E==null?void 0:E.can)===!1,variant:"default",leftIcon:fr.default.createElement(Zo.IconSquarePlus,{size:18,...o}),title:I(),...d},l!=null?l:m("buttons.clone","Clone")))},Ut=z(f("react")),$c=W(),Kd=Be(),Yo=f("@mantine/core"),Jo=f("@tabler/icons"),wc=({inputProps:e,hideText:t=!1,loading:r=!1,svgIconProps:n,children:a,...o})=>{let l=(0,$c.useTranslate)(),{variant:s,styles:d,...c}=o;return Ut.default.createElement("label",{htmlFor:"contained-button-file"},Ut.default.createElement("input",{...e,id:"contained-button-file",multiple:!0,hidden:!0}),t?Ut.default.createElement(Yo.ActionIcon,{...s?{variant:Ve(s)}:{variant:"default"},component:"span",loading:r,...c},Ut.default.createElement(Jo.IconFileImport,{size:18,...n})):Ut.default.createElement(Yo.Button,{variant:"default",component:"span",leftIcon:Ut.default.createElement(Jo.IconFileImport,{size:18,...n}),loading:r,...o},a!=null?a:l("buttons.import","Import")))},He=z(f("react")),Qt=f("@mantine/core"),vr=W(),Fc=e=>{var t,r;let{canCreate:n,children:a,createButtonProps:o,resource:l,wrapperProps:s,contentProps:d,headerProps:c,headerButtonProps:y,headerButtons:h,breadcrumb:u,title:g}=e,b=(0,vr.useTranslate)(),{useParams:p}=(0,vr.useRouterContext)(),{resource:x}=p(),C=(0,vr.useResourceWithRoute)()(l!=null?l:x),m=(n!=null?n:C.canCreate||o)?He.default.createElement(ai,{size:"sm",resourceNameOrRouteName:C.route,...o}):null,{options:E}=(0,vr.useRefineContext)(),I=typeof u>"u"?E==null?void 0:E.breadcrumb:u,i=typeof I<"u"?(t=He.default.createElement(He.default.Fragment,null,I))!=null?t:void 0:He.default.createElement(Cr,null),k=h?typeof h=="function"?h({defaultButtons:m}):h:m;return He.default.createElement(Qt.Card,{p:"md",...s},He.default.createElement(Qt.Group,{position:"apart",align:"center",...c},He.default.createElement(Qt.Stack,{spacing:"xs"},i,g!=null?g:He.default.createElement(Qt.Title,{order:3,transform:"capitalize"},b(`${C.name}.titles.list`,(0,vr.userFriendlyResourceName)((r=C.label)!=null?r:C.name,"plural")))),He.default.createElement(Qt.Group,{spacing:"xs",...y},k)),He.default.createElement(Qt.Box,{pt:"sm",...d},a))},ie=z(f("react")),je=f("@mantine/core"),Ht=W(),Nc=f("@tabler/icons"),Tc=e=>{var t,r;let{children:n,resource:a,recordItemId:o,canDelete:l,canEdit:s,dataProviderName:d,isLoading:c,footerButtons:y,footerButtonProps:h,headerButtons:u,headerButtonProps:g,wrapperProps:b,contentProps:p,headerProps:x,goBack:C,breadcrumb:m,title:E}=e,I=(0,Ht.useTranslate)(),{goBack:i,list:k}=(0,Ht.useNavigation)(),v=(0,Ht.useResourceWithRoute)(),{useParams:S}=(0,Ht.useRouterContext)(),{resource:$,action:N,id:w}=S(),F=v(a!=null?a:$),M=l!=null?l:F.canDelete,T=s!=null?s:F.canEdit,{options:B}=(0,Ht.useRefineContext)(),O=typeof m>"u"?B==null?void 0:B.breadcrumb:m,Q=typeof O<"u"?(t=ie.default.createElement(ie.default.Fragment,null,O))!=null?t:void 0:ie.default.createElement(Cr,null),re=o!=null?o:w,de=c!=null?c:!1,j=ie.default.createElement(ie.default.Fragment,null,!o&&ie.default.createElement(Qn,{...c?{disabled:!0}:{},resourceNameOrRouteName:F.route}),T&&ie.default.createElement(oi,{...c?{disabled:!0}:{},resourceNameOrRouteName:F.route,recordItemId:re}),M&&ie.default.createElement(Wn,{...c?{disabled:!0}:{},resourceNameOrRouteName:F.route,recordItemId:re,onSuccess:()=>{var $e;return k(($e=F.route)!=null?$e:F.name)},dataProviderName:d}),ie.default.createElement(Un,{...c?{disabled:!0}:{},resourceNameOrRouteName:F.route,recordItemId:re,dataProviderName:d})),G=C===null?null:ie.default.createElement(je.ActionIcon,{onClick:N?i:void 0},typeof C<"u"?C:ie.default.createElement(Nc.IconArrowLeft,null)),K=u?typeof u=="function"?u({defaultButtons:j}):u:j,Ce=y?typeof y=="function"?y({defaultButtons:null}):y:null;return ie.default.createElement(je.Card,{p:"md",...b},ie.default.createElement(je.LoadingOverlay,{visible:de}),ie.default.createElement(je.Group,{position:"apart",align:"center",...x},ie.default.createElement(je.Stack,{spacing:"xs"},Q,ie.default.createElement(je.Group,{spacing:"xs"},G,E!=null?E:ie.default.createElement(je.Title,{order:3,transform:"capitalize"},I(`${F.name}.titles.show`,`Show ${(0,Ht.userFriendlyResourceName)((r=F.label)!=null?r:F.name,"singular")}`)))),ie.default.createElement(je.Group,{spacing:"xs",...g},K)),ie.default.createElement(je.Box,{pt:"sm",...p},n),ie.default.createElement(je.Group,{position:"right",spacing:"xs",mt:"md",...h},Ce))},ee=z(f("react")),_e=f("@mantine/core"),wt=W(),qc=f("@tabler/icons"),Ac=e=>{var t,r,n;let{children:a,resource:o,recordItemId:l,deleteButtonProps:s,mutationMode:d,saveButtonProps:c,canDelete:y,dataProviderName:h,isLoading:u,footerButtons:g,footerButtonProps:b,headerButtons:p,headerButtonProps:x,wrapperProps:C,contentProps:m,headerProps:E,goBack:I,breadcrumb:i,title:k}=e,v=(0,wt.useTranslate)(),{goBack:S,list:$}=(0,wt.useNavigation)(),N=(0,wt.useResourceWithRoute)(),{useParams:w}=(0,wt.useRouterContext)(),{mutationMode:F}=(0,wt.useMutationMode)(),M=d!=null?d:F,{resource:T,action:B,id:O}=w(),Q=N(o!=null?o:T),re=y!=null?y:Q.canDelete||s,{options:de}=(0,wt.useRefineContext)(),j=typeof i>"u"?de==null?void 0:de.breadcrumb:i,G=typeof j<"u"?(t=ee.default.createElement(ee.default.Fragment,null,j))!=null?t:void 0:ee.default.createElement(Cr,null),K=l!=null?l:O,Ce=(r=u!=null?u:c==null?void 0:c.disabled)!=null?r:!1,$e=ee.default.createElement(ee.default.Fragment,null,!l&&ee.default.createElement(Qn,{...u?{disabled:!0}:{},resourceNameOrRouteName:Q.route}),ee.default.createElement(Un,{...u?{disabled:!0}:{},resourceNameOrRouteName:Q.route,recordItemId:K,dataProviderName:h})),Ae=ee.default.createElement(ee.default.Fragment,null,re&&ee.default.createElement(Wn,{...u?{disabled:!0}:{},mutationMode:M,onSuccess:()=>{var it;$((it=Q.route)!=null?it:Q.name)},dataProviderName:h,...s}),ee.default.createElement(Hn,{...u?{disabled:!0}:{},...c})),At=I===null?null:ee.default.createElement(_e.ActionIcon,{onClick:B?S:void 0},typeof I<"u"?I:ee.default.createElement(qc.IconArrowLeft,null)),De=p?typeof p=="function"?p({defaultButtons:$e}):p:$e,xt=g?typeof g=="function"?g({defaultButtons:Ae}):g:Ae;return ee.default.createElement(_e.Card,{p:"md",...C},ee.default.createElement(_e.LoadingOverlay,{visible:Ce}),ee.default.createElement(_e.Group,{position:"apart",...E},ee.default.createElement(_e.Stack,{spacing:"xs"},G,ee.default.createElement(_e.Group,{spacing:"xs"},At,k!=null?k:ee.default.createElement(_e.Title,{order:3,transform:"capitalize"},v(`${Q.name}.titles.edit`,`Edit ${(0,wt.userFriendlyResourceName)((n=Q.label)!=null?n:Q.name,"singular")}`)))),ee.default.createElement(_e.Group,{spacing:"xs",...x},De)),ee.default.createElement(_e.Box,{pt:"sm",...m},a),ee.default.createElement(_e.Group,{position:"right",spacing:"xs",mt:"md",...b},xt))},ge=z(f("react")),Ke=f("@mantine/core"),jt=W(),Dc=f("@tabler/icons"),Lc=e=>{var t,r,n;let{children:a,saveButtonProps:o,isLoading:l,resource:s,footerButtons:d,footerButtonProps:c,headerButtons:y,headerButtonProps:h,wrapperProps:u,contentProps:g,headerProps:b,goBack:p,breadcrumb:x,title:C}=e,m=(0,jt.useTranslate)(),{goBack:E}=(0,jt.useNavigation)(),{useParams:I}=(0,jt.useRouterContext)(),{resource:i,action:k}=I(),v=(0,jt.useResourceWithRoute)()(s!=null?s:i),{options:S}=(0,jt.useRefineContext)(),$=typeof x>"u"?S==null?void 0:S.breadcrumb:x,N=typeof $<"u"?(t=ge.default.createElement(ge.default.Fragment,null,$))!=null?t:void 0:ge.default.createElement(Cr,null),w=(r=l!=null?l:o==null?void 0:o.disabled)!=null?r:!1,F=ge.default.createElement(Hn,{...l?{disabled:!0}:{},...o}),M=p===null?null:ge.default.createElement(Ke.ActionIcon,{onClick:k?E:void 0},typeof p<"u"?p:ge.default.createElement(Dc.IconArrowLeft,null)),T=y?typeof y=="function"?y({defaultButtons:null}):y:null,B=d?typeof d=="function"?d({defaultButtons:F}):d:F;return ge.default.createElement(Ke.Card,{p:"md",...u},ge.default.createElement(Ke.LoadingOverlay,{visible:w}),ge.default.createElement(Ke.Group,{position:"apart",align:"center",...b},ge.default.createElement(Ke.Stack,{spacing:"xs"},N,ge.default.createElement(Ke.Group,{spacing:"xs"},M,C!=null?C:ge.default.createElement(Ke.Title,{order:3,transform:"capitalize"},m(`${v.name}.titles.create`,`Create ${(0,jt.userFriendlyResourceName)((n=v.label)!=null?n:v.name,"singular")}`)))),ge.default.createElement(Ke.Group,{spacing:"xs",...h},T)),ge.default.createElement(Ke.Box,{pt:"sm",...g},a),ge.default.createElement(Ke.Group,{position:"right",spacing:"xs",mt:"md",...c},B))},Oe=z(f("react")),Gr=W(),mt=f("@mantine/core"),Rc=f("@tabler/icons"),Mc=()=>{let[e,t]=(0,Oe.useState)(),{push:r}=(0,Gr.useNavigation)(),n=(0,Gr.useTranslate)(),a=["edit","create","show"],{useParams:o}=(0,Gr.useRouterContext)(),l=o(),s=(0,Gr.useResourceWithRoute)();return(0,Oe.useEffect)(()=>{var d;let c=(d=l.action)!=null?d:"list",y=l.resource;if(t(n("pages.error.info",{action:c,resource:y},`You may have forgotten to add the "${c}" component to "${y}" resource.`)),y){let h=s(y);c&&a.includes(c)&&!h[c]&&t(n("pages.error.info",{action:c,resource:y},`You may have forgotten to add the "${c}" component to "${y}" resource.`))}},[l]),Oe.default.createElement(mt.Box,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",minHeight:"100vh","@media (min-height: 755px)":{marginTop:"-150px"}}},Oe.default.createElement(mt.Title,{sx:d=>({textAlign:"center",fontWeight:900,fontSize:220,lineHeight:1,color:d.colorScheme==="dark"?d.colors.dark[4]:d.colors.gray[2],[d.fn.smallerThan("sm")]:{fontSize:120}})},"404"),Oe.default.createElement(mt.Group,{spacing:4,align:"center",sx:{justifyContent:"center"}},Oe.default.createElement(mt.Text,{color:"dimmed",size:"lg",align:"center",sx:{maxWidth:500}},n("pages.error.404","Sorry, the page you visited does not exist.")),e&&Oe.default.createElement(mt.Tooltip,{openDelay:0,label:e},Oe.default.createElement(mt.ActionIcon,{},Oe.default.createElement(Rc.IconInfoCircle,null)))),Oe.default.createElement(mt.Space,{h:"md"}),Oe.default.createElement(mt.Button,{variant:"subtle",size:"md",onClick:()=>r("/")},n("pages.error.backHome","Back Home")))},me=z(f("react")),ve=f("@mantine/core"),Bc=()=>me.createElement(ve.BackgroundImage,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#2A132E"},py:"xl",px:"sm",src:"https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png"},me.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),me.createElement(ve.Space,{h:24}),me.createElement(ve.Title,{align:"center",sx:{color:"white",fontSize:"3rem"}},"Welcome on board"),me.createElement(ve.Text,{size:"xl",sx:{color:"white"},mt:"md",align:"center"},"Your configuration is completed."),me.createElement(ve.Text,{size:"lg",sx:{color:"white"},mt:"md",align:"center"},"Now you can get started by adding your resources to the"," ",me.createElement(ve.Code,null,"resources")," property of ",me.createElement(ve.Code,null,"Refine"),"."),me.createElement(ve.Space,{h:48}),me.createElement(ve.Group,{position:"center"},me.createElement(ve.Anchor,{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},me.createElement(ve.Button,{variant:"default"},"Documentation")),me.createElement(ve.Anchor,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},me.createElement(ve.Button,{variant:"default"},"Examples")),me.createElement(ve.Anchor,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},me.createElement(ve.Button,{variant:"default"},"Community")))),_t=z(f("react")),se=z(f("react")),Rn=W(),ye=f("@mantine/core"),Oc=f("@mantine/form"),[zc,Vc,Gc]=(0,Oc.createFormContext)(),br={FormProvider:zc,useFormContext:Vc,useForm:Gc},Kr={display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover",minHeight:"100vh"},Zr={width:"400px"},Yr={textAlign:"center",fontSize:"24px"},Wc=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:a,wrapperProps:o,renderContent:l,formProps:s})=>{let{useForm:d,FormProvider:c}=br,{onSubmit:y,...h}=s||{},u=(0,Rn.useTranslate)(),{Link:g}=(0,Rn.useRouterContext)(),b=d({initialValues:{email:"",password:"",remember:!1},validate:{email:i=>/^\S+@\S+$/.test(i)?null:u("pages.login.errors.validEmail","Invalid email address"),password:i=>i===""},...h}),{onSubmit:p,getInputProps:x}=b,{mutate:C,isLoading:m}=(0,Rn.useLogin)(),E=()=>e&&e.length>0?se.default.createElement(se.default.Fragment,null,se.default.createElement(ye.Stack,{spacing:8},e.map(i=>se.default.createElement(ye.Button,{key:i.name,fullWidth:!0,leftIcon:i.icon,onClick:()=>C({providerName:i.name})},i.label))),se.default.createElement(ye.Divider,{my:"md",labelPosition:"center",label:u("pages.login.divider","or")})):null,I=se.default.createElement(ye.Card,{style:Zr,...a!=null?a:{}},se.default.createElement(ye.Title,{style:Yr},u("pages.login.title","Sign in to your account")),se.default.createElement(ye.Space,{h:"lg"}),E(),se.default.createElement(c,{form:b},se.default.createElement("form",{onSubmit:p(i=>y?y(i):C(i))},se.default.createElement(ye.TextInput,{name:"email",label:u("pages.login.fields.email","Email"),placeholder:u("pages.login.fields.email","Email"),...x("email")}),se.default.createElement(ye.PasswordInput,{name:"password",mt:"md",label:u("pages.login.fields.password","Password"),placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",...x("password")}),se.default.createElement(ye.Box,{mt:"md",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"}},n!=null?n:se.default.createElement(ye.Checkbox,{label:u("pages.login.buttons.rememberMe","Remember me"),size:"xs",...x("remember",{type:"checkbox"})}),r!=null?r:se.default.createElement(ye.Anchor,{component:g,to:"/forgot-password",size:"xs"},u("pages.login.buttons.forgotPassword","Forgot password?"))),se.default.createElement(ye.Button,{mt:"lg",fullWidth:!0,size:"md",type:"submit",loading:m},u("pages.login.signin","Sign in")))),t!=null?t:se.default.createElement(ye.Text,{mt:"xs",size:"xs"},u("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",se.default.createElement(ye.Anchor,{component:g,to:"/register",weight:700},u("pages.login.signup","Sign up"))));return se.default.createElement(ye.Box,{style:Kr,...o!=null?o:{}},l?l(I):I)},ce=z(f("react")),Mn=W(),Pe=f("@mantine/core"),Uc=({loginLink:e,contentProps:t,wrapperProps:r,renderContent:n,formProps:a,providers:o})=>{let{useForm:l,FormProvider:s}=br,{onSubmit:d,...c}=a||{},y=(0,Mn.useTranslate)(),{Link:h}=(0,Mn.useRouterContext)(),u=l({initialValues:{email:"",password:""},validate:{email:E=>/^\S+@\S+$/.test(E)?null:y("pages.register.errors.validEmail","Invalid email address"),password:E=>E===""},...c}),{onSubmit:g,getInputProps:b}=u,{mutate:p,isLoading:x}=(0,Mn.useRegister)(),C=()=>o&&o.length>0?ce.default.createElement(ce.default.Fragment,null,ce.default.createElement(Pe.Stack,{spacing:8},o.map(E=>ce.default.createElement(Pe.Button,{key:E.name,fullWidth:!0,leftIcon:E.icon,onClick:()=>p({providerName:E.name})},E.label))),ce.default.createElement(Pe.Divider,{my:"md",labelPosition:"center",label:y("pages.login.divider","or")})):null,m=ce.default.createElement(Pe.Card,{style:Zr,...t!=null?t:{}},ce.default.createElement(Pe.Title,{style:Yr},y("pages.register.title","Sign up for your account")),ce.default.createElement(Pe.Space,{h:"lg"}),C(),ce.default.createElement(s,{form:u},ce.default.createElement("form",{onSubmit:g(E=>d?d(E):p(E))},ce.default.createElement(Pe.TextInput,{label:y("pages.register.fields.email","Email"),placeholder:y("pages.register.fields.email","Email"),...b("email")}),ce.default.createElement(Pe.PasswordInput,{mt:"md",label:y("pages.register.fields.password","Password"),placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",...b("password")}),e!=null?e:ce.default.createElement(Pe.Group,{mt:"md",position:e?"left":"right"},ce.default.createElement(Pe.Text,{size:"xs"},y("pages.register.buttons.haveAccount","Have an account?")," ",ce.default.createElement(Pe.Anchor,{component:h,to:"/login",weight:700},y("pages.register.signin","Sign in")))),ce.default.createElement(Pe.Button,{mt:"lg",fullWidth:!0,size:"md",type:"submit",loading:x},y("pages.register.buttons.submit","Sign up")))));return ce.default.createElement(Pe.Box,{style:Kr,...r!=null?r:{}},n?n(m):m)},ze=z(f("react")),Bn=W(),tt=f("@mantine/core"),Qc=({loginLink:e,contentProps:t,wrapperProps:r,renderContent:n,formProps:a})=>{let{useForm:o,FormProvider:l}=br,{onSubmit:s,...d}=a||{},c=(0,Bn.useTranslate)(),{Link:y}=(0,Bn.useRouterContext)(),h=o({initialValues:{email:""},validate:{email:C=>/^\S+@\S+$/.test(C)?null:c("pages.forgotPassword.errors.validEmail","Invalid email address")},...d}),{getInputProps:u,onSubmit:g}=h,{mutate:b,isLoading:p}=(0,Bn.useForgotPassword)(),x=ze.default.createElement(tt.Card,{style:Zr,...t!=null?t:{}},ze.default.createElement(tt.Title,{style:Yr},c("pages.forgotPassword.title","Forgot your password?")),ze.default.createElement(tt.Space,{h:"lg"}),ze.default.createElement(l,{form:h},ze.default.createElement("form",{onSubmit:g(C=>s?s(C):b(C))},ze.default.createElement(tt.TextInput,{label:c("pages.forgotPassword.fields.email","Email"),placeholder:c("pages.forgotPassword.fields.email","Email"),...u("email")}),e!=null?e:ze.default.createElement(tt.Group,{mt:"md",position:e?"left":"right"},ze.default.createElement(tt.Text,{size:"xs"},c("pages.login.forgotPassword.haveAccount","Have an account?")," ",ze.default.createElement(tt.Anchor,{component:y,to:"/login",weight:700},c("pages.forgotPassword.signin","Sign in")))),ze.default.createElement(tt.Button,{mt:"lg",fullWidth:!0,size:"md",type:"submit",loading:p},c("pages.forgotPassword.buttons.submit","Send reset instructions")))));return ze.default.createElement(tt.Box,{style:Kr,...r!=null?r:{}},n?n(x):x)},rt=z(f("react")),Xo=W(),Ft=f("@mantine/core"),Hc=({contentProps:e,wrapperProps:t,renderContent:r,formProps:n})=>{let{useForm:a,FormProvider:o}=br,{onSubmit:l,...s}=n||{},d=(0,Xo.useTranslate)(),c=a({initialValues:{password:"",confirmPassword:""},validate:{password:p=>p==="",confirmPassword:(p,x)=>p!==x.password?d("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match"):null},...s}),{getInputProps:y,onSubmit:h}=c,{mutate:u,isLoading:g}=(0,Xo.useUpdatePassword)(),b=rt.default.createElement(Ft.Card,{style:Zr,...e!=null?e:{}},rt.default.createElement(Ft.Title,{style:Yr},d("pages.updatePassword.title","Set New Password")),rt.default.createElement(Ft.Space,{h:"lg"}),rt.default.createElement(o,{form:c},rt.default.createElement("form",{onSubmit:h(p=>l?l(p):u(p))},rt.default.createElement(Ft.TextInput,{type:"password",label:d("pages.updatePassword.fields.password","New Password"),placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",...y("password")}),rt.default.createElement(Ft.TextInput,{mt:"md",type:"password",label:d("pages.updatePassword.fields.confirmPassword","Confirm New Password"),placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",...y("confirmPassword")}),rt.default.createElement(Ft.Button,{mt:"lg",fullWidth:!0,size:"md",type:"submit",loading:g},d("pages.updatePassword.buttons.submit","Update")))));return rt.default.createElement(Ft.Box,{style:Kr,...t!=null?t:{}},r?r(b):b)},jc=e=>{let{type:t}=e;return _t.default.createElement(_t.default.Fragment,null,(()=>{switch(t){case"register":return _t.default.createElement(Uc,{...e});case"forgotPassword":return _t.default.createElement(Qc,{...e});case"updatePassword":return _t.default.createElement(Hc,{...e});default:return _t.default.createElement(Wc,{...e})}})())},Kt=z(f("react")),On=W(),yr=f("@mantine/core"),_c=f("@tabler/icons"),Cr=({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1})=>{let{breadcrumbs:n}=(0,On.useBreadcrumb)(),{Link:a}=(0,On.useRouterContext)(),{hasDashboard:o}=(0,On.useRefineContext)();return n.length===1?null:Kt.default.createElement(yr.Breadcrumbs,{"aria-label":"breadcrumb",styles:{separator:{marginRight:8,marginLeft:8,color:"dimgray"}},...e},t&&o&&Kt.default.createElement(yr.Anchor,{component:a,color:"dimmed",to:"/"},Kt.default.createElement(_c.IconHome,{size:18})),n.map(({label:l,icon:s,href:d})=>Kt.default.createElement(yr.Group,{key:l,spacing:4,align:"center",noWrap:!0},!r&&s,d?Kt.default.createElement(yr.Anchor,{component:a,color:"dimmed",to:d,size:"sm"},l):Kt.default.createElement(yr.Text,{color:"dimmed",size:"sm"},l))))},Nt=z(f("react")),zn=f("@mantine/core"),V=z(f("react")),nt=W(),Y=f("@mantine/core"),Yt=f("@tabler/icons"),Kc=V.default.createElement(Yt.IconList,{size:18}),ii=({render:e})=>{let[t,r]=(0,V.useState)(!1),[n,a]=(0,V.useState)(!1),{Link:o}=(0,nt.useRouterContext)(),{defaultOpenKeys:l,menuItems:s,selectedKey:d}=(0,nt.useMenu)(),c=(0,nt.useTitle)(),y=(0,nt.useIsExistAuthentication)(),h=(0,nt.useTranslate)(),{hasDashboard:u}=(0,nt.useRefineContext)(),{mutate:g}=(0,nt.useLogout)(),b=c!=null?c:si,p=()=>t?80:200,x={root:{display:"flex",color:"white",fontWeight:500,"&:hover":{backgroundColor:"unset"},"&[data-active]":{backgroundColor:"#ffffff1a",color:"white",fontWeight:700,"&:hover":{backgroundColor:"#ffffff1a"}},justifyContent:t&&!n?"center":"flex-start"},icon:{marginRight:t&&!n?0:12},body:{display:t&&!n?"none":"flex"}},C={disabled:!t||n,position:"right",withinPortal:!0,withArrow:!0,arrowSize:8,arrowOffset:12,offset:4},m=(v,S)=>v.map($=>{let{icon:N,label:w,route:F,name:M,children:T}=$,B=F===S,O=T.length>0,Q=O?{}:{component:o,to:F};return V.default.createElement(nt.CanAccess,{key:F,resource:M.toLowerCase(),action:"list",params:{resource:$}},V.default.createElement(Y.Tooltip,{label:w,...C},V.default.createElement(Y.NavLink,{key:F,label:t&&!n?null:w,icon:N!=null?N:Kc,active:B,childrenOffset:t&&!n?0:12,defaultOpened:l.includes(F||""),styles:x,...Q},O&&m(T,S))))}),E=m(s,d),I=u?V.default.createElement(nt.CanAccess,{resource:"dashboard",action:"list"},V.default.createElement(Y.Tooltip,{label:h("dashboard.title","Dashboard"),...C},V.default.createElement(Y.NavLink,{key:"dashboard",label:t&&!n?null:h("dashboard.title","Dashboard"),icon:V.default.createElement(Yt.IconDashboard,{size:18}),component:o,to:"/",active:d==="/",styles:x}))):null,i=y&&V.default.createElement(Y.Tooltip,{label:h("buttons.logout","Logout"),...C},V.default.createElement(Y.NavLink,{key:"logout",label:t&&!n?null:h("buttons.logout","Logout"),icon:V.default.createElement(Yt.IconLogout,{size:18}),onClick:()=>g(),styles:x})),k=()=>e?e({dashboard:I,logout:i,items:E,collapsed:t}):V.default.createElement(V.default.Fragment,null,I,E,i);return V.default.createElement(V.default.Fragment,null,V.default.createElement(Y.MediaQuery,{largerThan:"md",styles:{display:"none"}},V.default.createElement(Y.Box,{sx:{position:"fixed",top:64,left:0,zIndex:1199}},V.default.createElement(Y.ActionIcon,{color:"white",size:36,sx:{borderRadius:"0 6px 6px 0",backgroundColor:"#2A132E",color:"white","&:hover":{backgroundColor:"#2A132E"}},onClick:()=>a(v=>!v)},V.default.createElement(Yt.IconMenu2,null)))),V.default.createElement(Y.MediaQuery,{largerThan:"md",styles:{display:"none"}},V.default.createElement(Y.Drawer,{opened:n,onClose:()=>a(!1),size:200,zIndex:1200,withCloseButton:!1,styles:{drawer:{overflow:"hidden",backgroundColor:"#2A132E"}}},V.default.createElement(Y.Navbar.Section,{px:"xs"},V.default.createElement(b,{collapsed:!1})),V.default.createElement(Y.Navbar.Section,{grow:!0,component:Y.ScrollArea,mx:"-xs",px:"xs"},k()))),V.default.createElement(Y.MediaQuery,{smallerThan:"md",styles:{display:"none"}},V.default.createElement(Y.Box,{sx:{width:p(),transition:"width 200ms ease, min-width 200ms ease",flexShrink:0}})),V.default.createElement(Y.MediaQuery,{smallerThan:"md",styles:{display:"none"}},V.default.createElement(Y.Navbar,{width:{base:p()},sx:{overflow:"hidden",transition:"width 200ms ease, min-width 200ms ease",backgroundColor:"#2A132E",position:"fixed",top:0,height:"100vh"}},V.default.createElement(Y.Navbar.Section,{px:"xs"},V.default.createElement(b,{collapsed:t})),V.default.createElement(Y.Navbar.Section,{grow:!0,mt:"sm",component:Y.ScrollArea,mx:"-xs",px:"xs"},k()),V.default.createElement(Y.Navbar.Section,null,V.default.createElement(Y.Button,{sx:{background:"rgba(0,0,0,.5)",borderRadius:0,borderTop:"1px solid #ffffff1a"},size:"md",variant:"gradient",fullWidth:!0,onClick:()=>r(v=>!v)},t?V.default.createElement(Yt.IconChevronRight,null):V.default.createElement(Yt.IconChevronLeft,null))))))},Wr=z(f("react")),Zc=W(),Ur=f("@mantine/core"),li=()=>{let{data:e}=(0,Zc.useGetIdentity)();return e&&(e.name||e.avatar)?Wr.default.createElement(Ur.Header,{height:50,py:6,px:"sm"},Wr.default.createElement(Ur.Group,{position:"right"},Wr.default.createElement(Ur.Title,{order:6},e==null?void 0:e.name),Wr.default.createElement(Ur.Avatar,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name,radius:"xl"}))):null},Yc=({Sider:e,Header:t,Footer:r,OffLayoutArea:n,children:a})=>{let o=e!=null?e:ii,l=t!=null?t:li;return Nt.default.createElement(zn.Box,{sx:{display:"flex"}},Nt.default.createElement(o,null),Nt.default.createElement(zn.Box,{sx:{display:"flex",flexDirection:"column",flex:1,overflow:"auto"}},Nt.default.createElement(l,null),Nt.default.createElement(zn.Box,{component:"main",sx:s=>({padding:s.spacing.sm,backgroundColor:s.colorScheme==="dark"?s.colors.dark[8]:s.colors.gray[0],minHeight:"100vh"})},a),r&&Nt.default.createElement(r,null)),n&&Nt.default.createElement(n,null))},Qr=z(f("react")),Jc=W(),Xc=f("@mantine/core"),si=({collapsed:e})=>{let{Link:t}=(0,Jc.useRouterContext)();return Qr.default.createElement(t,{to:"/"},Qr.default.createElement(Xc.Center,{p:"xs"},e?Qr.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{maxHeight:"38px"}}):Qr.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",width:"140px"})))},pe=z(f("react")),Tt=f("@mantine/notifications"),pt=f("@mantine/core"),Zt=f("@tabler/icons"),ed=()=>{let e=[],t=a=>e.includes(a),r=a=>{a&&e.indexOf(a)===-1&&e.push(a)},n=a=>{if(a){let o=e.indexOf(a);o>-1&&e.splice(o,1)}};return{open:({message:a,type:o,undoableTimeout:l,key:s,cancelMutation:d})=>{o==="progress"?t(s)?(0,Tt.updateNotification)({id:s,message:pe.default.createElement(pt.Group,{position:"apart",noWrap:!0},pe.default.createElement(pt.Group,{spacing:"xs",position:"center"},pe.default.createElement(Vn,{undoableTimeout:l!=null?l:0}),pe.default.createElement(pt.Text,null,a)),pe.default.createElement(pt.ActionIcon,{variant:"default",onClick:()=>{d==null||d(),s&&(n(s),(0,Tt.hideNotification)(s))}},pe.default.createElement(Zt.IconRotate2,{size:18}))),styles:{root:{paddingLeft:"8px",paddingTop:"0px",paddingBottom:"0px","&::before":{display:"none"}}},disallowClose:!0,autoClose:!1}):(r(s),(0,Tt.showNotification)({id:s,message:pe.default.createElement(pt.Group,{position:"apart",noWrap:!0},pe.default.createElement(pt.Group,{spacing:"xs",position:"center"},pe.default.createElement(Vn,{undoableTimeout:l!=null?l:0}),pe.default.createElement(pt.Text,null,a)),pe.default.createElement(pt.ActionIcon,{variant:"default",onClick:()=>{d==null||d(),s&&(n(s),(0,Tt.hideNotification)(s))}},pe.default.createElement(Zt.IconRotate2,{size:18}))),styles:{root:{paddingLeft:"8px",paddingTop:"0px",paddingBottom:"0px","&::before":{display:"none"}}},disallowClose:!0,autoClose:!1})):t(s)?(0,Tt.updateNotification)({id:s,color:o==="success"?"primary":"red",icon:o==="success"?pe.default.createElement(Zt.IconCheck,{size:18}):pe.default.createElement(Zt.IconX,{size:18}),message:a,autoClose:5e3}):(r(s),(0,Tt.showNotification)({color:o==="success"?"primary":"red",icon:o==="success"?pe.default.createElement(Zt.IconCheck,{size:18}):pe.default.createElement(Zt.IconX,{size:18}),message:a,onClose:()=>{n(s)},autoClose:5e3}))},close:a=>{n(a),(0,Tt.hideNotification)(a)}}},ei=f("react"),td=f("@mantine/form"),ti=W(),jn=({refineCoreProps:e,...t}={})=>{let r=e==null?void 0:e.warnWhenUnsavedChanges,{warnWhenUnsavedChanges:n,setWarnWhen:a}=(0,ti.useWarnAboutChange)(),o=r!=null?r:n,l=(0,ti.useForm)({...e}),{queryResult:s,onFinish:d,formLoading:c}=l,y=(0,td.useForm)({...t}),{setValues:h,onSubmit:u,isDirty:g}=y;(0,ei.useEffect)(()=>{var x,C;if(typeof(s==null?void 0:s.data)<"u"){let m={},E=Object.keys((x=t.initialValues)!=null?x:{});Object.entries(((C=s==null?void 0:s.data)==null?void 0:C.data)||{}).forEach(([I,i])=>{E.includes(I)&&(m[I]=i)}),h(m)}},[s==null?void 0:s.data]);let b=g();(0,ei.useEffect)(()=>{o&&b&&a(!0)},[b]);let p=(x,C)=>async m=>(a(!1),await u(x,C)(m));return{...y,onSubmit:p,refineCore:l,saveButtonProps:{disabled:c,onClick:x=>{p(d,()=>!1)(x)}}}},ri=f("react"),hr=W(),rd=({modalProps:e,refineCoreProps:t,...r}={})=>{let n=(0,hr.useTranslate)(),{resource:a,action:o}=t!=null?t:{},{defaultVisible:l=!1,autoSubmitClose:s=!0,autoResetForm:d=!0}=e!=null?e:{},c=jn({refineCoreProps:t,...r}),{reset:y,refineCore:{onFinish:h,setId:u},saveButtonProps:g,onSubmit:b}=c,{visible:p,show:x,close:C}=(0,hr.useModal)({defaultVisible:l}),m=async $=>{await h($),s&&C(),d&&y()},{resourceName:E}=(0,hr.useResource)({resourceNameOrRouteName:a}),{warnWhen:I,setWarnWhen:i}=(0,hr.useWarnAboutChange)(),k=(0,ri.useCallback)(()=>{if(I)if(window.confirm(n("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))i(!1);else return;u==null||u(void 0),C()},[I]),v=(0,ri.useCallback)($=>{u==null||u($),x()},[]),S=n(`${E}.titles.${o}`,void 0,`${(0,hr.userFriendlyResourceName)(`${o} ${E}`,"singular")}`);return{modal:{submit:m,close:k,show:v,visible:p,title:S},...c,saveButtonProps:{...g,onClick:$=>b(m)($)}}},nd=f("react"),ad=({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:n=!1}=e!=null?e:{},[a,o]=(0,nd.useState)(r),l=jn({...t}),{validate:s}=l,d=c=>{let y=c;c<0&&(y=0),o(y)};return{...l,steps:{currentStep:a,gotoStep:c=>{if(c!==a){if(c<a&&!n){d(c);return}!s().hasErrors&&d(c)}}}}},od=W(),id=e=>{let{queryResult:t,defaultValueQueryResult:r,onSearch:n,options:a}=(0,od.useSelect)(e);return{selectProps:{data:a,onSearchChange:n,searchable:!0,filterDataOnExactSearchMatch:!0,clearable:!0},queryResult:t,defaultValueQueryResult:r}},ui={fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),colors:{primary:["#F1FBE9","#D8F4C3","#BFED9C","#A7E675","#8EDE4E","#75D728","#5DAC20","#468118","#2F5610","#172B08"]},black:"#626262",primaryColor:"primary",defaultRadius:6,headings:{fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},components:{Table:{styles:e=>e.colorScheme==="light"?{root:{"thead>tr>th":{backgroundColor:"#fafafa",padding:"16px 4px"},"thead>tr>th:first-of-type":{borderTopLeftRadius:e.defaultRadius},"thead>tr>th:last-of-type":{borderTopRightRadius:e.defaultRadius},"tbody>tr>td":{borderBottom:"1px solid #f0f0f0"}}}:{root:{}}}}},ld={colorScheme:"light",...ui},sd={colorScheme:"dark",...ui}});var Hi=Pr((df,Qi)=>{var ga=Object.defineProperty,kd=Object.getOwnPropertyDescriptor,Pd=Object.getOwnPropertyNames,Sd=Object.prototype.hasOwnProperty,$d=(e,t)=>{for(var r in t)ga(e,r,{get:t[r],enumerable:!0})},wd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Pd(t))!Sd.call(e,a)&&a!==r&&ga(e,a,{get:()=>t[a],enumerable:!(n=kd(t,a))||n.enumerable});return e},Fd=e=>wd(ga({},"__esModule",{value:!0}),e),Ui={};$d(Ui,{ColumnSizing:()=>R.ColumnSizing,Expanding:()=>R.Expanding,Filters:()=>R.Filters,Grouping:()=>R.Grouping,Headers:()=>R.Headers,Ordering:()=>R.Ordering,Pagination:()=>R.Pagination,Pinning:()=>R.Pinning,RowSelection:()=>R.RowSelection,Sorting:()=>R.Sorting,Visibility:()=>R.Visibility,aggregationFns:()=>R.aggregationFns,buildHeaderGroups:()=>R.buildHeaderGroups,createCell:()=>R.createCell,createColumn:()=>R.createColumn,createColumnHelper:()=>R.createColumnHelper,createRow:()=>R.createRow,createTable:()=>R.createTable,defaultColumnSizing:()=>R.defaultColumnSizing,expandRows:()=>R.expandRows,filterFns:()=>R.filterFns,flattenBy:()=>R.flattenBy,flexRender:()=>R.flexRender,functionalUpdate:()=>R.functionalUpdate,getCoreRowModel:()=>R.getCoreRowModel,getExpandedRowModel:()=>R.getExpandedRowModel,getFacetedMinMaxValues:()=>R.getFacetedMinMaxValues,getFacetedRowModel:()=>R.getFacetedRowModel,getFacetedUniqueValues:()=>R.getFacetedUniqueValues,getFilteredRowModel:()=>R.getFilteredRowModel,getGroupedRowModel:()=>R.getGroupedRowModel,getPaginationRowModel:()=>R.getPaginationRowModel,getSortedRowModel:()=>R.getSortedRowModel,isFunction:()=>R.isFunction,isRowSelected:()=>R.isRowSelected,isSubRowSelected:()=>R.isSubRowSelected,makeStateUpdater:()=>R.makeStateUpdater,memo:()=>R.memo,noop:()=>R.noop,orderColumns:()=>R.orderColumns,passiveEventSupported:()=>R.passiveEventSupported,reSplitAlphaNumeric:()=>R.reSplitAlphaNumeric,selectRowsFn:()=>R.selectRowsFn,shouldAutoRemoveFilter:()=>R.shouldAutoRemoveFilter,sortingFns:()=>R.sortingFns,useReactTable:()=>R.useReactTable,useTable:()=>Td});Qi.exports=Fd(Ui);var nn=f("react"),Nd=W(),Wi=f("@tanstack/react-table");function Td({refineCoreProps:{hasPagination:e=!0,...t}={},initialState:r={},...n}){var a;let o=(0,Nd.useTable)({...t,hasPagination:e}),{tableQueryResult:{data:l},current:s,setCurrent:d,pageSize:c,setPageSize:y,sorter:h,setSorter:u,filters:g,setFilters:b,pageCount:p}=o,x=[];g.map($=>{$.operator!=="or"&&$.operator!=="and"&&"field"in $&&x.push($)});let C=(0,Wi.useReactTable)({getCoreRowModel:(0,Wi.getCoreRowModel)(),data:(a=l==null?void 0:l.data)!=null?a:[],initialState:{...e?{pagination:{pageIndex:(s!=null?s:1)-1,pageSize:c}}:{},sorting:h.map($=>({id:$.field,desc:$.order==="desc"})),columnFilters:x.map($=>({id:$.field,value:$.value})),...r},pageCount:p,manualPagination:e,manualSorting:!0,manualFiltering:!0,...n}),{state:m,columns:E}=C.options,{pagination:I,sorting:i,columnFilters:k}=m,{pageIndex:v,pageSize:S}=I!=null?I:{};return(0,nn.useEffect)(()=>{e&&v!==void 0&&d(v+1)},[v]),(0,nn.useEffect)(()=>{e&&S!==void 0&&y(S)},[S]),(0,nn.useEffect)(()=>{i!==void 0&&(u(i==null?void 0:i.map($=>({field:$.id,order:$.desc?"desc":"asc"}))),i.length>0&&e&&d(1))},[i]),(0,nn.useEffect)(()=>{let $=[];k==null||k.map(w=>{var F,M;let T=(M=(F=E.find(B=>B.id===w.id))==null?void 0:F.meta)==null?void 0:M.filterOperator;$.push({field:w.id,operator:T!=null?T:Array.isArray(w.value)?"in":"eq",value:w.value})});let N=x.filter(w=>!$.some(F=>w.field===F.field&&w.operator===F.operator));N==null||N.map(w=>{$.push({field:w.field,operator:w.operator,value:void 0})}),b($),$.length>0&&e&&d(1)},[k]),e?{...C,refineCore:o}:{...C,refineCore:{...o,current:void 0,setCurrent:void 0,pageSize:void 0,setPageSize:void 0,pageCount:void 0}}}var R=f("@tanstack/react-table")});var kr=U(f("react")),ji=U(W());var Id=U(ft());var We=U(f("react")),pa=U(W());var ud=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,_n=(e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];ud.test(e)&&r.unshift("url");let n=r.find(a=>a in t&&!!t[a]);if(n)return n==="firstName"&&"lastName"in t?["firstName","lastName"]:n};function Kn(e,t,r){var a;if(t)return t;let n=r==null?void 0:r.find(o=>o.name===e);return(a=n==null?void 0:n.options)!=null&&a.dataProviderName?n.options.dataProviderName:"default"}var Er=e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName};var Zn=e=>{let t=[...e].filter(Boolean).sort((r,n)=>(n.priority||0)-(r.priority||0))[0];return t||null};var ci=U(f("prettier/standalone")),di=U(f("prettier/parser-typescript")),Yn=e=>{try{return ci.default.format(e,{parser:"typescript",plugins:[di.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}};var Jn=e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`);var Xn=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,mi=(e,t)=>{let r=Xn.test(e),n=typeof t=="string"||typeof t=="number",a=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&n||r&&a?{key:e,relation:!0,multiple:!!a,type:"relation",priority:1}:!1};var Se=e=>e.replace(Xn,"");var L=e=>Se(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ");var ea=e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(a=>!a.trim().startsWith("export default")).join(`
`);var pi=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,cd=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,dd=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,ta=(e,t={})=>{let r=e.matchAll(pi),n=new Set;for(let a of r){let[,o,l,s,d]=a;if(d in t){let c=t[d];if(d==="react")continue;o&&n.add(`const { default: ${o} } = ${c};`),l&&n.add(`const${l.replace(dd,"$1: $3$4")} = ${c};`),s&&n.add(`const ${s} = ${c};`)}}return Jn(`
    ${Array.from(n).join(`
`)}
    ${e.replace(pi,"").replace(cd,"")}
    `)};var xr=U(f("pluralize"));var ra=(e,t)=>e?t.find(n=>{let a=Se(e.key);return n.name===a||n.name===(xr.default.isPlural(a)?a:xr.default.plural(a))||n.name===(xr.default.isSingular(a)?a:xr.default.singular(a))}):void 0;var fi=U(f("pluralize"));var Ge=(e,t)=>{let r=e.replace(/[^a-zA-Z0-9]/g," "),n=fi.default.singular(r),a=L(n).replace(/ /g,""),o=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(e)?`${a}${o}`:`${o}${a}`};var md=e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"",D=(e,...t)=>e.reduce((n,a,o)=>`${n}${a}${md(t[o])}`,"").trim();var na=(e,t)=>`
    ${e!=null?e:""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `;var aa=e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,"");var pd=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,gi=e=>pd.test(e);function oa(e,t,r){let n=`${e}`;return t&&(n+="?.",gi(t)?n+=t:n+=`['${t}']`),r&&(n+="?.",gi(r)?n+=r:n+=`['${r}']`),n}function fd(e,t,r){return(r!=null?r:[]).map(a=>oa(e,t,a))}var A=(e,t,r,n=' + " " + ')=>Array.isArray(r)?n?fd(e,t,r).join(n):oa(e,t,r[0]):oa(e,t,r),ae=(e,t,r)=>{let n=e;return t&&(n+=`.${t}`),r&&(Array.isArray(r)?n+=`.${r[0]}`:n+=`.${r}`),n};var at=e=>{let t=e.reduce((n,[a,o,l])=>(n[o]||(n[o]=[]),n[o].includes(a)||(l?n[o].push([a,!0]):n[o].push(a)),n),{});return Object.entries(t).map(([n,a])=>{let o=a.find(c=>Array.isArray(c)&&c[1]),l=a.filter(c=>typeof c=="string"),s=o?`${o[0]}`:"",d=l.length?`{ ${l.join(", ")} }`:"";return`import ${s}${s&&d?", ":""}${d} from "${n}";`})};var ia=U(f("pluralize")),gt=(e="")=>ia.default.isSingular(e)?e:ia.default.singular(e);var la=U(f("pluralize")),er=(e="")=>la.default.isPlural(e)?e:la.default.plural(e);var gd=/^id$/i,qt=e=>gd.test(e);var Ir=e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"";var ot=e=>{};var _=(e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let n=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),a=L(n).replace(/ /g,"");return`${a.charAt(0).toLowerCase()+a.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`};var vi=e=>{let t=(r,n,a,o=t)=>{let l=e.map(d=>d(r,n,a,o));return Zn(l)};return t};var yi=e=>(r,n,a,o,l)=>e.reduce((s,d)=>d(s,n,a,o,l),r);var hi=(e,t,r,n)=>{let a=Array.isArray(t),o=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(a){if(!o){let s=n(e,t[0],r,n);return s?{...s,key:e,multiple:!0,priority:1}:!1}let l=n(e,t[0],r,n)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1};var bi=(e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1;var sa=U(f("dayjs")),vd=/(_at|_on|At|On|AT|ON)(\[\])?$/,Ci=(e,t)=>{let r=vd.test(e)&&(0,sa.default)(t).isValid(),n=typeof t=="string"&&(0,sa.default)(t).isValid();return r||n?{key:e,type:"date",priority:1}:!1};var yd=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ei=(e,t)=>typeof t=="string"&&yd.test(t)?{key:e,type:"email",priority:1}:!1;var hd=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,xi=(e,t)=>typeof t=="string"&&hd.test(t)?{key:e,type:"image",priority:2}:!1;var Ii=(e,t)=>typeof t>"u"||t===null?null:!1;var ki=(e,t)=>typeof t=="number"?{key:e,type:"number"}:!1;var bd=/id$/i,Pi=(e,t,r,n)=>{let a=t!==null,o=!Array.isArray(t);if(a&&o&&typeof t=="object"){if(Object.keys(t).length===1&&bd.test(Object.keys(t)[0]))return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let d=_n(e,t);if((d?d.length>0:!1)&&d){let y=d&&Array.isArray(d)?d[0]:d,h=n(y,t[y],t,n);if(h){let u=Array.isArray(d)?d.map(g=>h.accessor?`${g}.${Array.isArray(h.accessor)?h.accessor[0]:h.accessor}`:g):h.accessor?Array.isArray(h.accessor)?`${d}.${h.accessor[0]}`:`${d}.${h.accessor}`:d;return{...h,fieldable:!0,key:e,accessor:u,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1};var Si=(e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1;var $i=(e,t)=>typeof t=="string"?{key:e,type:"text"}:!1;var Cd=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,wi=(e,t)=>typeof t=="string"&&Cd.test(t)?{key:e,type:"url",priority:1}:!1;var Fi=[hi,bi,Ci,Ei,xi,Ii,ki,Pi,mi,Si,$i,wi];var Ni=(e,t,r,n)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let l=/^[a-z0-9-]+$/,s=u=>l.test(`${u}`),d=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!d?o:(o.multiple?n[o.key]:[n[o.key]]).every(u=>s(o.accessor?u[o.accessor]:u))?{...o,canRelation:!0}:o}return o});var Ed=/(image|photo|avatar|cover|thumbnail|icon)/i,Ti=e=>e.map(r=>r.type==="url"&&Ed.test(r.key)?{...r,type:"image"}:r);var qi=(e,t)=>e.map(n=>{let a=ra(n,t);return a?{...n,relation:!0,type:"relation",resource:a}:n});var Ai=(e,t,r,n,a)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let s=l.accessor?n[l.key][l.accessor]:n[l.key],d=a(l.key,s,n,a);if(d&&d.type!=="relation")return{...l,fieldable:!0,relation:!1,type:d.type,canRelation:!0}}return l});var Di=[Ti,qi,Ai,Ni];var vt=U(f("react")),Jr=U(f("prism-react-renderer")),Li=U(f("prism-react-renderer/themes/vsDark")),ua=({code:e,wrapperProps:t})=>((0,vt.useEffect)(()=>{var n;let r=document.createElement("style");r.appendChild(document.createTextNode(`
                #code-highlight::-webkit-scrollbar {-webkit-appearance: none; height: 7px; width: 7px;}
                #code-highlight::-webkit-scrollbar-thumb {background-color: #666b7a;}
                #code-highlight::-webkit-scrollbar-corner {background-color: rgb(30, 30, 30);}
                `)),(n=document.getElementById("code-highlight"))==null||n.appendChild(r)},[]),vt.default.createElement("div",{id:"code-highlight",style:{maxHeight:"75vh",height:"100%",overflow:"auto",backgroundColor:"rgb(30, 30, 30)"},...t!=null?t:{}},vt.default.createElement(Jr.default,{...Jr.defaultProps,theme:Li.default,code:e,language:"tsx"},({className:r,style:n,tokens:a,getLineProps:o,getTokenProps:l})=>vt.default.createElement("pre",{className:r,style:{...n,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},a.map((s,d)=>vt.default.createElement("div",{key:d,...o({line:s,key:d})},s.map((c,y)=>vt.default.createElement("span",{key:y,...l({token:c,key:y})}))))))));var Te=U(f("react")),xd=U(W()),Xr=f("@aliemir/react-live");var Ri=[["react","React",Te.default],["@pankod/refine-core","RefineCore",xd]],ca=Te.default.createContext({}),da=({fetchError:e,code:t,additionalScope:r,errorComponent:n})=>{var s;let a=(s=t&&ea(ta(t,[...Ri,...r!=null?r:[]].reduce((d,[c,y,h,u])=>u?d:{...d,[c]:y},{}))))!=null?s:"",o=Te.default.useMemo(()=>({React:Te.default,...Te.default,...[...Ri,...r!=null?r:[]].reduce((d,[c,y,h])=>({...d,[y]:h}),{})}),[r]),l=Te.default.useMemo(()=>()=>{let{error:c}=Te.default.useContext(ca);return n?Te.default.createElement(n,{error:c!=null?c:e?"Something went wrong while fetching the resource data.":void 0}):null},[n,e]);return Te.default.createElement(Xr.LiveProvider,{Context:ca,code:a,scope:o,noInline:!0},!e&&Te.default.createElement(Xr.LivePreview,{Context:ca}),Te.default.createElement(l,null))};var tr=U(f("react")),en=U(W());var Mi=(e,t,r)=>{let{resource:n,resourceName:a,id:o,resources:l}=(0,en.useResource)({resourceNameOrRouteName:t}),s=r!=null?r:o,d=(0,en.useDataProvider)(),[c,y]=tr.default.useState(void 0),[h,u]=tr.default.useState(!0),[g,b]=tr.default.useState(!1),p=tr.default.useCallback(async x=>{var E,I;let C=(E=Er(n))!=null?E:Kn(a,void 0,l),m=d(C);b(!0);try{if(e==="list"||e==="create"){let i=await m.getList({resource:a});y((I=i.data)==null?void 0:I[0]),setTimeout(()=>{b(!1)},500)}if(e==="edit"||e==="show"&&x){let i=await m.getOne({resource:a,id:x});y(i.data),setTimeout(()=>{b(!1)},500)}}catch{setTimeout(()=>{b(!1)},500)}},[e,d,n,a,l]);return tr.default.useEffect(()=>{u(!1),!g&&!c&&p(s)},[p,s]),{data:c,loading:g,initial:h}};var rr=U(f("react")),Bi=U(W());var ma=f("lodash"),Oi=({record:e,fields:t,infer:r})=>{let n=(0,Bi.useDataProvider)(),[a,o]=rr.default.useState([]),[l,s]=rr.default.useState(!0),[d,c]=rr.default.useState(!1),y=rr.default.useCallback(async h=>{console.groupCollapsed("@pankod/refine-inferencer is trying to detect relations");let u=[];c(!0);try{let g=h.map(async p=>{if(p&&(p.relation||p.canRelation)&&e){let x=Er(p.resource),C=n(x),m=Array.isArray(p.accessor)?void 0:p.multiple?e[p.key].map(E=>p.accessor?(0,ma.get)(E,p.accessor):E)[0]:p.accessor?(0,ma.get)(e[p.key],p.accessor):e[p.key];if(m&&p.resource)try{let{data:E}=await C.getOne({resource:p.resource.name,id:m});u.push({status:"success",resource:p.resource.name,field:p.key});let I=r("__",E,{},r);return{...p,relationInfer:I}}catch{return u.push({status:"error",resource:p.resource.name,field:p.key}),{...p,relationInfer:null}}if(m){let E,I;try{let{data:v}=await C.getOne({resource:er(Se(p.key)),id:m});u.push({status:"success",resource:er(Se(p.key)),field:p.key}),E=v,I=!0}catch{u.push({status:"error",resource:er(Se(p.key)),field:p.key});try{let{data:S}=await C.getOne({resource:gt(Se(p.key)),id:m});u.push({status:"success",resource:gt(Se(p.key)),field:p.key}),E=S,I=!1}catch{return u.push({status:"error",resource:gt(Se(p.key)),field:p.key}),{...p,relationInfer:null}}}let i=r("__",E,{},r),k=Se(p.key);return{...p,relation:!0,type:"relation",resource:{name:I?er(k):gt(k)},fieldable:!1,canRelation:void 0,relationInfer:i}}return{...p,relationInfer:null}}return p}),b=await Promise.all(g);o(b.filter(p=>p)),setTimeout(()=>{c(!1)},500)}catch{setTimeout(()=>{c(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${u.length} attempts and succeeded with ${u.filter(g=>g.status==="success").length} attempts.`),console.groupEnd()},500)},[n,e]);return rr.default.useEffect(()=>{s(!1),!d&&t&&t.length>0&&a.length===0&&y(t)},[y,d,t,y]),{fields:a,loading:d,initial:l}};var yt=({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:n=[],renderer:a,loadingComponent:o,errorComponent:l,codeViewerComponent:s})=>{let d=vi([...Fi,...r]),c=yi([...Di,...n]),y=({resourceName:u,fieldTransformer:g,id:b})=>{var $;let{resource:p,resources:x}=(0,pa.useResource)({resourceNameOrRouteName:u}),{resource:C}=(0,pa.useResource)(),{data:m,loading:E,initial:I}=Mi(e,u!=null?u:p==null?void 0:p.name,b),i=We.default.useMemo(()=>{if(m){let N=Object.keys(m).map(M=>{let T=m[M];return d(M,T,m,d)}).filter(Boolean),w=c(N,x,p,m,d);return g?w.flatMap(M=>{let T=g(M);return T?[T]:[]}):w}return[]},[m,x,p,g]),{fields:k,loading:v}=Oi({record:m,fields:i,infer:d}),S=We.default.useMemo(()=>!E&&!v&&!I?a({resource:p,resources:x,fields:k,infer:d,isCustomPage:p.name!==C.name,id:b}):"",[p,x,k,E,v]);return We.default.createElement(We.default.Fragment,null,o&&(E||v)&&We.default.createElement(o,null),!E&&!v&&We.default.createElement(We.default.Fragment,null,We.default.createElement(da,{fetchError:!E&&!I&&!m,code:na(S,Ge(($=p.label)!=null?$:p.name,e)),errorComponent:l,additionalScope:t}),s&&We.default.createElement(s,{code:aa(S),loading:E||v})))};return({name:u,resource:g,fieldTransformer:b,id:p})=>We.default.createElement(y,{fieldTransformer:b,resourceName:g!=null?g:u,key:g!=null?g:u,id:p})};var tn=U(f("react")),rn=U(ft()),zi=f("@tabler/icons"),ht=({error:e})=>e?tn.default.createElement(rn.Center,{style:{minHeight:300}},tn.default.createElement(rn.Alert,{title:"Error",color:"red",icon:tn.default.createElement(zi.IconAlertCircle,null)},e!=null?e:"")):null;var Vi=U(f("react")),Gi=U(ft()),bt=()=>Vi.default.createElement(Gi.LoadingOverlay,{visible:!0});var te=U(f("react")),qe=U(ft()),Ze=f("@tabler/icons");var Ct=({code:e,loading:t})=>{let r=te.default.useMemo(()=>Yn(e!=null?e:""),[e]),n=te.default.useRef(null),[a,o]=te.default.useState(!1),[l,s]=te.default.useState(!1);if(t)return null;let d=()=>{var c,y,h,u;(c=n==null?void 0:n.current)==null||c.select(),(y=n==null?void 0:n.current)==null||y.setSelectionRange(0,Number.MAX_SAFE_INTEGER),typeof navigator<"u"&&(navigator.clipboard.writeText((u=(h=n==null?void 0:n.current)==null?void 0:h.value)!=null?u:""),s(!0),setTimeout(()=>{s(!1)},1e3))};return r?te.default.createElement(te.default.Fragment,null,te.default.createElement(qe.Affix,{position:{bottom:12,right:60}},te.default.createElement(qe.Group,{spacing:"xs"},te.default.createElement(qe.Button,{leftIcon:te.default.createElement(Ze.IconCode,{size:18}),variant:"filled",color:"primary",onClick:()=>o(!0)},"Show Code"),te.default.createElement(qe.Button,{leftIcon:te.default.createElement(Ze.IconMessageCircle,{size:18}),variant:"default",component:"a",target:"_blank",href:"https://github.com/refinedev/refine/discussions/3046"},"Give Feedback"))),te.default.createElement("div",{style:{height:"50px"}}),te.default.createElement(qe.Modal,{size:800,opened:a,onClose:()=>o(!1),styles:{modal:{padding:"0px !important",borderRadius:0},header:{display:"none"}}},te.default.createElement(qe.ActionIcon,{onClick:()=>o(!1),variant:"transparent",sx:{position:"absolute",right:0,top:0,height:56,width:56}},te.default.createElement(Ze.IconX,{size:18,style:{color:"#666b7a"}})),te.default.createElement(ua,{code:r}),te.default.createElement("textarea",{ref:n,defaultValue:(r!=null?r:"").replace(/\\n/g,`\r
`),id:"code-input",style:{padding:0,margin:0,width:0,height:0,opacity:0,border:"none",display:"block"}}),te.default.createElement(qe.Button,{sx:{position:"absolute",bottom:12,right:12,width:115},key:"copy",variant:"default",leftIcon:l?te.default.createElement(Ze.IconCheck,{size:18,style:{color:"green"}}):te.default.createElement(Ze.IconCopy,{size:18}),onClick:d},l?"Copied":"Copy"))):null};var fa=yt({type:"show",additionalScope:[["@pankod/refine-mantine","RefineMantine",Id]],codeViewerComponent:Ct,loadingComponent:bt,errorComponent:ht,renderer:({resource:e,fields:t,isCustomPage:r,id:n})=>{var I;let a=Ge((I=e.label)!=null?I:e.name,"show"),o="record",l=[["useShow","@pankod/refine-core"],["Show","@pankod/refine-mantine"],["Title","@pankod/refine-mantine"]],d=t.filter(i=>(i==null?void 0:i.relation)&&!(i!=null&&i.fieldable)&&(i==null?void 0:i.resource)).filter(Boolean).map(i=>{if((i==null?void 0:i.relation)&&!i.fieldable&&i.resource){if(i.multiple){l.push(["useMany","@pankod/refine-core"]);let k=A(o,i.key);return i.accessor&&(k=`${A(o,i.key)}?.map((item: any) => ${A("item",void 0,i.accessor)})`),`
                    const { data: ${_(i.key,"Data")}, isLoading: ${_(i.key,"IsLoading")} } =
                    useMany({
                        resource: "${i.resource.name}",
                        ids: ${k} || [],
                        queryOptions: {
                            enabled: !!${o},
                        },
                    });
                    `}return l.push(["useOne","@pankod/refine-core"]),`
                    const { data: ${_(i.key,"Data")}, isLoading: ${_(i.key,"IsLoading")} } =
                    useOne({
                        resource: "${i.resource.name}",
                        id: ${A(o,i.key,i.accessor,!1)} || "",
                        queryOptions: {
                            enabled: !!${o},
                        },
                    });
                `}}).filter(Boolean),c=i=>{if(i.relation&&i.resource){let k=_(i.key,"Data"),v=_(i.key,"IsLoading");return i.multiple?(l.push(["TagField","@pankod/refine-mantine"],["Group","@pankod/refine-mantine"]),D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    {${v} ? <>Loading...</> : (
                        <>
                        ${(()=>{var S,$;if(i.relationInfer)if((S=i.relationInfer)!=null&&S.accessor){if(Array.isArray(i.relationInfer.accessor))return"Not Handled.";{let N=gt(($=i.resource)==null?void 0:$.name),w=A(N,void 0,i.relationInfer.accessor);return`
                                        <Group spacing="xs">
                                            {${k}?.data?.map((${N}: any) => <TagField key={${w}} value={${w}} />)}
                                        </Group>
                                        `}}else return"Not Handled.";else return"not-handled - relation with multiple but no resource"})()}
                        </>
                    )}
                    `):D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    {${v} ? <>Loading...</> : (
                        <>
                        ${(()=>{var S;return i.relationInfer?(S=i.relationInfer)!=null&&S.accessor?Array.isArray(i.relationInfer.accessor)?`{${A(`${k}?.data`,void 0,i.relationInfer.accessor,' + " " + ')}}`:`{${k}?.data?.${i.relationInfer.accessor}}`:`{${k}?.data}`:`{${k}?.data?.id}`})()}
                        </>
                    )}
                    
                    `}},y=i=>{if(i.type==="text"){if(l.push(["TextField","@pankod/refine-mantine"]),i.multiple){l.push(["TagField","@pankod/refine-mantine"],["Group","@pankod/refine-mantine"]);let k=A("item",void 0,i.accessor);return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any) => (
                            <TagField value={${k}} key={${k}} />
                        ))}
                    </Group>
                `}return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <TextField value={${A(o,i.key,i.accessor)}} />
                `}},h=i=>{if(i.type==="image"){if(l.push(["Image","@pankod/refine-mantine"]),i.multiple){l.push(["Group","@pankod/refine-mantine"]);let k=A("item",void 0,i.accessor);return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any) => (
                            <Image sx={{ maxWidth: 200 }} src={${k}} key={${k}} />
                        ))}
                    </Group>
                `}return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <Image sx={{ maxWidth: 200 }} src={${A(o,i.key,i.accessor," + ")}} />
                    `}},u=i=>{if(i.type==="email"){if(l.push(["EmailField","@pankod/refine-mantine"]),i.multiple){l.push(["TagField","@pankod/refine-mantine"],["Group","@pankod/refine-mantine"]);let k=A("item",void 0,i.accessor);return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any) => (
                            <TagField value={${k}} key={${k}} />
                        ))}
                    </Group>
                `}return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <EmailField value={${A(o,i.key,i.accessor," + ")}} />
                `}},g=i=>{if(i.type==="url"){if(l.push(["UrlField","@pankod/refine-mantine"]),i.multiple){l.push(["TagField","@pankod/refine-mantine"],["Group","@pankod/refine-mantine"]);let k=A("item",void 0,i.accessor);return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any) => (
                            <TagField value={${k}} key={${k}} />
                        ))}
                    </Group>
                `}return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <UrlField value={${A(o,i.key,i.accessor," + ")}} />
                `}},b=i=>{if(i.type==="boolean"){if(l.push(["BooleanField","@pankod/refine-mantine"]),i.multiple){l.push(["TagField","@pankod/refine-mantine"],["Group","@pankod/refine-mantine"]);let k=A("item",void 0,i.accessor);return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any, index: number) => (
                            <TagField value={${k}} key={index} />
                        ))}
                    </Group>
                `}return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <BooleanField value={${A(o,i.key,i.accessor," && ")}} />
                `}},p=i=>{if(i.type==="date"){if(l.push(["DateField","@pankod/refine-mantine"]),i.multiple){l.push(["Group","@pankod/refine-mantine"]);let k=A("item",void 0,i.accessor);return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any) => (
                            <DateField value={${k}} key={${k}} />
                        ))}
                    </Group>
                `}return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <DateField value={${A(o,i.key,i.accessor," + ' ' + ")}} />
                `}},x=i=>{if(i.type==="richtext")return l.push(["MarkdownField","@pankod/refine-mantine"]),D`
                    <Title mt="xs" order={5}>${L(i.key)}</Title>
                    <MarkdownField value={${A(o,i.key,i.accessor,' + " " + ')}} />
                `},C=i=>{if(i.type==="number"){if(l.push(["NumberField","@pankod/refine-mantine"]),i.multiple){l.push(["TagField","@pankod/refine-mantine"],["Group","@pankod/refine-mantine"]);let k=A("item",void 0,i.accessor);return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any) => (
                            <TagField value={${k}} key={${k}} />
                        ))}
                    </Group>
                `}return D`
                    <Title my="xs" order={5}>${L(i.key)}</Title>
                    <NumberField value={${A(o,i.key,i.accessor,' + " " + ')} ?? ""} />
                `}},m=i=>{if(i)return D`
                    ${i}
                `},E=t.map(i=>{switch(i==null?void 0:i.type){case"text":return m(y(i));case"number":return m(C(i));case"richtext":return m(x(i));case"email":return m(u(i));case"image":return m(h(i));case"date":return m(p(i));case"boolean":return m(b(i));case"url":return m(g(i));case"relation":return m(c(i));default:return}});return ot(l),D`
        ${at(l)}
        
        export const ${a} = () => {
            const { queryResult } = useShow(${r?`{ 
                        resource: "${e.name}", 
                        id: ${n}
                    }`:""});
            const { data, isLoading } = queryResult;
        
            const ${o} = data?.data;
        
            ${d}

            return (
                <Show isLoading={isLoading}>
                    ${E.join("")}
                </Show>
            );
        };
        `}});var qd=U(ft()),Ad=U(Hi());var Et=e=>Array.isArray(e.accessor)||e.multiple?`accessorKey: "${e.key}"`:e.accessor?`accessorKey: "${ae(e.key,void 0,e.accessor)}"`:`accessorKey: "${e.key}"`,va=yt({type:"list",additionalScope:[["@pankod/refine-mantine","RefineMantine",qd],["@pankod/refine-react-table","RefineReactTable",Ad]],codeViewerComponent:Ct,loadingComponent:bt,errorComponent:ht,renderer:({resource:e,fields:t,isCustomPage:r})=>{var k;let n=Ge((k=e.label)!=null?k:e.name,"list"),a="tableData?.data",o=[["IResourceComponentsProps","@pankod/refine-core"],["useTable","@pankod/refine-react-table"],["ColumnDef","@pankod/refine-react-table"],["flexRender","@pankod/refine-react-table"],["ScrollArea","@pankod/refine-mantine"],["List","@pankod/refine-mantine"],["Table","@pankod/refine-mantine"],["Pagination","@pankod/refine-mantine"],["Group","@pankod/refine-mantine"],["EditButton","@pankod/refine-mantine"],["ShowButton","@pankod/refine-mantine"],["DeleteButton","@pankod/refine-mantine"]],l=t.filter(v=>(v==null?void 0:v.relation)&&!(v!=null&&v.fieldable)&&(v==null?void 0:v.resource)),s=l.filter(Boolean).map(v=>{if((v==null?void 0:v.relation)&&!v.fieldable&&v.resource){o.push(["GetManyResponse","@pankod/refine-core"]),o.push(["useMany","@pankod/refine-core"]);let S="";return v.multiple?S=`[].concat(...(${a}?.map((item) => ${A("item",v.key,v.accessor,!1)}) ?? []))`:S=`${a}?.map((item) => ${A("item",v.key,v.accessor,!1)}) ?? []`,`
                    const { data: ${_(v.key,"Data")} } =
                    useMany({
                        resource: "${v.resource.name}",
                        ids: ${S},
                        queryOptions: {
                            enabled: !!${a},
                        },
                    });
                    `}}).filter(Boolean),d=l==null?void 0:l.map(v=>{if(v&&v.resource)return _(v.key,"Data")}).filter(Boolean),c=v=>{var S;if(v.relation&&v.resource){let $=`${_(v.key,"Data")}?.data`;if(Array.isArray(v.accessor))return;let N=`id: "${v.key}"`,w=`header: "${L(v.key)}"`,F=Et(v),M="";if(v.multiple){o.push(["TagField","@pankod/refine-mantine"]);let T="item";v!=null&&v.relationInfer&&(T=A("item",void 0,v.relationInfer.accessor)),M=`cell: function render({ getValue, table }) {
                        const meta = table.options.meta as {
                            ${_(v.key,"Data")}: GetManyResponse;
                        };

                        const ${_(v.key)} = getValue<any[]>()?.map((item) => {
                            return meta.${_(v.key,"Data")}?.data?.find(
                                (resourceItems) => resourceItems.id === ${A("item",void 0,v.accessor)}
                            );
                        })

                        return (
                            <Group spacing="xs">
                                {${_(v.key)}?.map((item, index) => (
                                    <TagField key={index} value={${T}} />
                                ))}
                            </Group>
                        )
                    }
                `}else v!=null&&v.relationInfer?M=`cell: function render({ getValue, table }) {
                            const meta = table.options.meta as {
                                ${_(v.key,"Data")}: GetManyResponse;
                            };

                            const ${_(v.key)} = meta.${$}?.find(
                                (item) => item.id === getValue<any>(),
                            );

                            return ${A(_(v.key),void 0,(S=v==null?void 0:v.relationInfer)==null?void 0:S.accessor)} ?? "Loading...";
                        },`:M="";return`
                    {
                        ${N},
                        ${w},
                        ${F},
                        ${M}
                    }
                `}},y=v=>{if(v.type==="image"){o.push(["Image","@pankod/refine-mantine"]);let S=`id: "${v.key}"`,$=Et(v),N=`header: "${L(v.key)}"`,w=D`
                    cell: function render({ getValue }) {
                        ${v!=null&&v.accessor?"try {":""}
                            return <Image sx={{ maxWidth: "100px" }} src={${A("getValue<any>()",void 0,Array.isArray(v.accessor)?v.accessor:void 0," + ")}} />
                        ${v!=null&&v.accessor?" } catch (error) { return null; }":""}
                       
                    }
                `;if(v.multiple){let F=A("item",void 0,v.accessor," + ");w=`
                        cell: function render({ getValue }) {
                            ${v!=null&&v.accessor?"try {":""}
                                return (
                                    <Group spacing="xs">
                                        {getValue<any[]>()?.map((item, index) => (
                                            <Image src={${F}} key={index} sx={{ maxWidth: "100px" }} />
                                        ))}
                                    </Group>
                                )
                            ${v!=null&&v.accessor?" } catch (error) { return null; }":""}
                        }
                    `}return`
                    {
                        ${S},
                        ${$},
                        ${N},
                        ${w}
                    }
                `}},h=v=>{if(v.type==="email"){o.push(["EmailField","@pankod/refine-mantine"]);let S=`id: "${v.key}"`,$=Et(v),N=`header: "${L(v.key)}"`,w=D`
                    cell: function render({ getValue }) {
                        return <EmailField value={${A("getValue<any>()",void 0,Array.isArray(v.accessor)?v.accessor:void 0,' + " " + ')}} />
                    }
                `;return v.multiple&&(o.push(["TagField","@pankod/refine-mantine"]),w=`
                        cell: function render({ getValue }) {
                            return (
                                <Group spacing="xs">
                                    {getValue<any>()?.map((item, index) => (
                                        <TagField value={${A("item",void 0,v.accessor," + ")}} key={index} />
                                    ))}
                                </Group>
                            )
                        }
                    `),`
                    {
                        ${S},
                        ${$},
                        ${N},
                        ${w}
                    }
                `}},u=v=>{if(v.type==="url"){o.push(["UrlField","@pankod/refine-mantine"]);let S=`id: "${v.key}"`,$=Et(v),N=`header: "${L(v.key)}"`,w=D`
                    cell: function render({ getValue }) {
                        return <UrlField value={${A("getValue<any>()",void 0,Array.isArray(v.accessor)?v.accessor:void 0," + ")}} />
                    }
                `;return v.multiple&&(o.push(["TagField","@pankod/refine-mantine"]),w=`
                        cell: function render({ getValue }) {
                            return (
                                <Group spacing="xs">
                                    {getValue<any[]>()?.map((item, index) => (
                                        <TagField value={${A("item",void 0,v.accessor," + ")}} key={index} />
                                    ))}
                                </Group>
                            )
                        }
                    `),`
                    {
                        ${S},
                        ${$},
                        ${N},
                        ${w}
                    }
                `}},g=v=>{if((v==null?void 0:v.type)==="boolean"){o.push(["BooleanField","@pankod/refine-mantine"]);let S=`id: "${v.key}"`,$=Et(v),N=`header: "${L(v.key)}"`,w=D`
                    cell: function render({ getValue }) {
                        return <BooleanField value={${A("getValue<any>()",void 0,Array.isArray(v.accessor)?v.accessor:void 0," + ")}} />
                    }
                `;return v.multiple&&(w=`
                        cell: function render({ getValue }) {
                            return (
                                <Group spacing="xs">
                                    {getValue<any[]>()?.map((item, index) => (
                                        <BooleanField value={${A("item",void 0,v.accessor," + ")}} key={index} />
                                    ))}
                                </Group>
                            )
                        }
                    `),`
                    {
                        ${S},
                        ${$},
                        ${N},
                        ${w}
                    }
                `}},b=v=>{if(v.type==="date"){o.push(["DateField","@pankod/refine-mantine"]);let S=`id: "${v.key}"`,$=Et(v),N=`header: "${L(v.key)}"`,w=D`
                    cell: function render({ getValue }) {
                        return <DateField value={${A("getValue<any>()",void 0,Array.isArray(v.accessor)?v.accessor:void 0,' + " " + ')}} />
                    }
                `;return v.multiple&&(w=`
                        cell: function render({ getValue }) {
                            return (
                                <Group spacing="xs">
                                    {getValue<any[]>()?.map((item, index) => (
                                        <DateField value={${A("item",void 0,v.accessor," + ")}} key={index} />
                                    ))}
                                </Group>
                            )
                        }
                    `),`
                    {
                        ${S},
                        ${$},
                        ${N},
                        ${w}
                    }
                `}},p=v=>{if((v==null?void 0:v.type)==="richtext"){o.push(["MarkdownField","@pankod/refine-mantine"]);let S=`id: "${v.key}"`,$=Et(v),N=`header: "${L(v.key)}"`,w=D`
                    cell: function render({ getValue }) {
                        return <MarkdownField value={(${A("getValue<string>()",void 0,Array.isArray(v.accessor)?v.accessor:void 0)})?.slice(0, 80) + "..." } />
                    }
                `;return v.multiple&&(w=`
                        cell: function render({ getValue }) {
                            return (
                                <Group spacing="xs">
                                    {getValue<string[]>()?.map((item, index) => (
                                        <MarkdownField value={${A("item",void 0,v.accessor," + ")}} key={index} />
                                    ))}
                                </Group>
                            )
                        }
                    `),`
                    {
                        ${S},
                        ${$},
                        ${N},
                        ${w}
                    }
                `}},x=v=>{if(v&&(v.type==="text"||v.type==="number")){let S=`id: "${v.key}"`,$=Et(v),N=`header: "${L(v.key)}"`,w="";return v.multiple&&(o.push(["TagField","@pankod/refine-mantine"]),w=`
                        cell: function render({ getValue }) {
                            return (
                                <Group spacing="xs">
                                    {getValue<any[]>()?.map((item, index) => (
                                        <TagField value={${A("item",void 0,v.accessor,' + " " + ')}} key={index} />
                                    ))}
                                </Group>
                            )
                        }
                    `),!v.multiple&&Array.isArray(v.accessor)&&(w=`
                        cell: function render({ getValue }) {
                            return (
                                <>{${A("getValue()",v.key,v.accessor)}}</>
                            );
                        }
                    `),`
                    {
                        ${S},
                        ${$},
                        ${N},
                        ${w}
                    }
                `}},{canEdit:C,canShow:m,canDelete:E}=e!=null?e:{};C&&o.push(["EditButton","@pankod/refine-mantine"]),m&&o.push(["ShowButton","@pankod/refine-mantine"]),E&&o.push(["DeleteButton","@pankod/refine-mantine"]);let I=C||m||E?D`
        {
            id: "actions",
            accessorKey: "id",
            header: "Actions",
            cell: function render({ getValue }) {
                return (
                    <Group spacing="xs" noWrap>
                        ${m?D`
                        <ShowButton
                            hideText
                            recordItemId={getValue() as string}
                        />
                        `:""}
                        ${C?D`<EditButton
                            hideText
                            recordItemId={getValue() as string}
                        />`:""}
                        ${E?D`
                        <DeleteButton
                            hideText
                            recordItemId={getValue() as string}
                        />
                        `:""}
                    </Group>
                );
            },
        },
            `:"",i=t.map(v=>{switch(v==null?void 0:v.type){case"text":case"number":return x(v);case"richtext":return p(v);case"email":return h(v);case"image":return y(v);case"date":return b(v);case"boolean":return g(v);case"url":return u(v);case"relation":return c(v);default:return}});return ot(o),D`
        import React from "react";
        ${at(o)}
        
        export const ${n}: React.FC<IResourceComponentsProps> = () => {
            const columns = React.useMemo<ColumnDef<any>[]>(() => [
                ${[...i,I].filter(Boolean).join(",")}
            ], []);

            const {
                getHeaderGroups,
                getRowModel,
                setOptions,
                refineCore: {
                    setCurrent,
                    pageCount,
                    current,
                    tableQueryResult: { data: tableData },
                },
            } = useTable({
                columns,
                ${r?`
                refineCoreProps: {
                    resource: "${e.name}",
                }
                `:""}
            });

            ${s}

            setOptions((prev) => ({
                ...prev,
                meta: {
                    ...prev.meta,
                    ${d.join(", ")}
                },
            }));

            return (
                <List>
                    <ScrollArea>
                        <Table highlightOnHover>
                            <thead>
                                {getHeaderGroups().map((headerGroup) => (
                                    <tr key={headerGroup.id}>
                                        {headerGroup.headers.map((header) => {
                                            return (
                                                <th key={header.id}>
                                                    {!header.isPlaceholder && (
                                                        flexRender(
                                                            header.column
                                                                .columnDef
                                                                .header,
                                                            header.getContext(),
                                                        )
                                                    )}
                                                </th>
                                            );
                                        })}
                                    </tr>
                                ))}
                            </thead>
                            <tbody>
                                {getRowModel().rows.map((row) => {
                                    return (
                                        <tr key={row.id}>
                                            {row.getVisibleCells().map((cell) => {
                                                return (
                                                    <td key={cell.id}>
                                                        {flexRender(
                                                            cell.column.columnDef.cell,
                                                            cell.getContext(),
                                                        )}
                                                    </td>
                                                );
                                            })}
                                        </tr>
                                    );
                                })}
                            </tbody>
                        </Table>
                    </ScrollArea>    
                    <br />
                    <Pagination
                        position="right"
                        total={pageCount}
                        page={current}
                        onChange={setCurrent}
                    />
                </List>
            );
        };
        `}});var Dd=U(ft());var ya=yt({type:"create",additionalScope:[["@pankod/refine-mantine","RefineMantine",Dd]],codeViewerComponent:Ct,loadingComponent:bt,errorComponent:ht,renderer:({resource:e,fields:t,isCustomPage:r})=>{var C;let n=Ge((C=e.label)!=null?C:e.name,"create"),a=[["Create","@pankod/refine-mantine"],["useForm","@pankod/refine-mantine"]],o={},s=t.filter(m=>(m==null?void 0:m.relation)&&!(m!=null&&m.fieldable)&&(m==null?void 0:m.resource)).filter(Boolean).map(m=>{if((m==null?void 0:m.relation)&&!m.fieldable&&m.resource)return a.push(["useSelect","@pankod/refine-mantine"]),`
                    const { selectProps: ${_(m.key,"SelectProps")} } =
                    useSelect({
                        resource: "${m.resource.name}",
                        ${Ir(m)}
                    });
                `}).filter(Boolean),d=m=>{if(m.relation&&m.resource){o={...o,[m.key]:m.multiple?[]:m.accessor?{[typeof m.accessor=="string"?m.accessor:m.accessor[0]]:""}:""};let E=_(m.key,"SelectProps");return m.multiple?(a.push(["MultiSelect","@pankod/refine-mantine"]),D`
                        <MultiSelect mt="sm" label="${L(m.key)}" {...getInputProps("${ae(m.key,void 0)}")} {...${E}} filterDataOnExactSearchMatch={undefined} />
                    `):(a.push(["Select","@pankod/refine-mantine"]),D`
                    <Select mt="sm" label="${L(m.key)}" {...getInputProps("${ae(m.key,void 0,m.accessor)}")} {...${E}} />
                `)}},c=m=>{if(m.type==="text"||m.type==="email"||m.type==="date"||m.type==="url")return qt(m.key)||(a.push(["TextInput","@pankod/refine-mantine"]),o={...o,[m.key]:m.multiple?[]:""},m.multiple)?void 0:D`
                    <TextInput mt="sm" label="${L(m.key)}" {...getInputProps("${ae(m.key,void 0,m.accessor)}")} />
                `},y=m=>{if(m.type==="image")return D`
                {/* 
                    Dropzone component is not included in "@pankod/refine-mantine" package.
                    To use a <Dropzone> component, you can follow the official documentation for Mantine.
                    
                    Docs: https://mantine.dev/others/dropzone/
                */}
                `},h=m=>{if(m.type==="boolean")return a.push(["Checkbox","@pankod/refine-mantine"]),o={...o,[m.key]:m.multiple?[]:""},m.multiple?void 0:D`
                    <Checkbox mt="sm" label="${L(m.key)}" {...getInputProps("${ae(m.key,void 0,m.accessor)}", { type: 'checkbox' })} />
                `},u=m=>{if(m.type==="date"){let E=c(m);return`
                    {/* 
                        DatePicker component is not included in "@pankod/refine-mantine" package.
                        To use a <DatePicker> component, you can follow the official documentation for Mantine.
                        
                        Docs: https://mantine.dev/dates/date-picker/
                    */}
                    ${E!=null?E:""}
                `}},g=m=>{if(m.type==="richtext")return a.push(["Textarea","@pankod/refine-mantine"]),o={...o,[m.key]:m.multiple?[]:""},m.multiple?void 0:D`
                    <Textarea mt="sm" label="${L(m.key)}" autosize {...getInputProps("${ae(m.key,void 0,m.accessor)}")} />
                `},b=m=>{if(m.type==="number")return qt(m.key)||(a.push(["NumberInput","@pankod/refine-mantine"]),o={...o,[m.key]:m.multiple?[]:""},m.multiple)?void 0:D`
                    <NumberInput mt="sm" label="${L(m.key)}" {...getInputProps("${ae(m.key,void 0,m.accessor)}")}/>
                `},p=m=>{if(m)return D`
                    ${m}
            `},x=t.map(m=>{switch(m==null?void 0:m.type){case"url":case"text":case"email":return p(c(m));case"number":return p(b(m));case"richtext":return p(g(m));case"image":return p(y(m));case"date":return p(u(m));case"boolean":return p(h(m));case"relation":return p(d(m));default:return}});return ot(a),D`
        ${at(a)}
        
        export const ${n} = () => {
            const { getInputProps, saveButtonProps, setFieldValue, refineCore: { formLoading } } = useForm({
                initialValues: ${JSON.stringify(o)},
                ${r?`refineCoreProps: {
                            resource: "${e.name}",
                            action: "create",  
                        }`:""}
            });
        
            ${s}

            return (
                <Create isLoading={formLoading} saveButtonProps={saveButtonProps}>
                    ${x.join("")}
                </Create>
            );
        };
        `}});var Ld=U(ft());var ha=yt({type:"edit",additionalScope:[["@pankod/refine-mantine","RefineMantine",Ld]],codeViewerComponent:Ct,loadingComponent:bt,errorComponent:ht,renderer:({resource:e,fields:t,isCustomPage:r,id:n})=>{var E,I;let a=Ge((E=e.label)!=null?E:e.name,"edit"),o=_((I=e.label)!=null?I:e.name,"Data"),l=[["Edit","@pankod/refine-mantine"],["useForm","@pankod/refine-mantine"]],s={},c=t.filter(i=>(i==null?void 0:i.relation)&&!(i!=null&&i.fieldable)&&(i==null?void 0:i.resource)).filter(Boolean).map(i=>{if((i==null?void 0:i.relation)&&!i.fieldable&&i.resource){l.push(["useSelect","@pankod/refine-mantine"]);let k=A(o,i.key,i.accessor,!1);i.multiple&&i.accessor&&(k=`${A(o,i.key)}?.map((item: any) => ${A("item",void 0,i.accessor)})`);let v="";return i.multiple&&i.accessor&&(v=`React.useEffect(() => {
                            setFieldValue("${i.key}", ${k});
                        }, [${o}]);`),`
                    const { selectProps: ${_(i.key,"SelectProps")} } =
                    useSelect({
                        resource: "${i.resource.name}",
                        defaultValue: ${k},
                        ${Ir(i)}
                    });

                    ${v}
                `}}).filter(Boolean),y=i=>{if(i.relation&&i.resource){s={...s,[i.key]:i.multiple?[]:i.accessor?{[typeof i.accessor=="string"?i.accessor:i.accessor[0]]:""}:""};let k=_(i.key,"SelectProps");return i.multiple?(l.push(["MultiSelect","@pankod/refine-mantine"]),D`
                        <MultiSelect mt="sm" label="${L(i.key)}" {...getInputProps("${ae(i.key,void 0)}")} {...${k}} filterDataOnExactSearchMatch={undefined} />
                    `):(l.push(["Select","@pankod/refine-mantine"]),D`
                    <Select mt="sm" label="${L(i.key)}" {...getInputProps("${ae(i.key,void 0,i.accessor)}")} {...${k}} />
                `)}},h=i=>{if(i.type==="text"||i.type==="email"||i.type==="date"||i.type==="url"){if(l.push(["TextInput","@pankod/refine-mantine"]),s={...s,[i.key]:i.multiple?[]:""},i.multiple){l.push(["Group","@pankod/refine-mantine"]);let k=ae(i.key,"${index}",i.accessor);return`
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any, index: number) => (
                            <TextInput mt="sm" key={index} label={\`${L(i.key)} \${index + 1} \`} {...getInputProps(\`${k}\`)} />
                        ))}
                    </Group>
                    `}return D`
                    <TextInput mt="sm" ${qt(i.key)?"disabled":""} label="${L(i.key)}" {...getInputProps("${ae(i.key,void 0,i.accessor)}")} />
                `}},u=i=>{if(i.type==="image")return D`
                {/* 
                    Dropzone component is not included in "@pankod/refine-mantine" package.
                    To use a <Dropzone> component, you can follow the official documentation for Mantine.
                    
                    Docs: https://mantine.dev/others/dropzone/
                */}
                `},g=i=>{if(i.type==="boolean"){if(l.push(["Checkbox","@pankod/refine-mantine"]),s={...s,[i.key]:i.multiple?[]:""},i.multiple){l.push(["Group","@pankod/refine-mantine"]);let k=ae(i.key,"${index}",i.accessor);return`
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any, index: number) => (
                            <Checkbox mt="sm" key={index} label={\`${L(i.key)} \${index + 1} \`} {...getInputProps(\`${k}\`, { type: 'checkbox' })} />
                        ))}
                    </Group>
                    `}return D`
                    <Checkbox mt="sm" label="${L(i.key)}" {...getInputProps("${ae(i.key,void 0,i.accessor)}", { type: 'checkbox' })} />
                `}},b=i=>{if(i.type==="date")return`
                    {/* 
                        DatePicker component is not included in "@pankod/refine-mantine" package.
                        To use a <DatePicker> component, you can follow the official documentation for Mantine.
                        
                        Docs: https://mantine.dev/dates/date-picker/
                    */}
                    ${h(i)}
                `},p=i=>{if(i.type==="richtext"){if(l.push(["Textarea","@pankod/refine-mantine"]),s={...s,[i.key]:i.multiple?[]:""},i.multiple){l.push(["Group","@pankod/refine-mantine"]);let k=ae(i.key,"${index}",i.accessor);return`
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any, index: number) => (
                            <Textarea mt="sm" key={index} label={\`${L(i.key)} \${index + 1} \`} {...getInputProps(\`${k}\`)} />
                        ))}
                    </Group>
                    `}return D`
                    <Textarea mt="sm" label="${L(i.key)}" autosize {...getInputProps("${ae(i.key,void 0,i.accessor)}")} />
                `}},x=i=>{if(i.type==="number"){if(l.push(["NumberInput","@pankod/refine-mantine"]),s={...s,[i.key]:i.multiple?[]:""},i.multiple){l.push(["Group","@pankod/refine-mantine"]);let k=ae(i.key,"${index}",i.accessor);return`
                    <Group spacing="xs">
                        {${A(o,i.key)}?.map((item: any, index: number) => (
                            <NumberInput mt="sm" key={index} label={\`${L(i.key)} \${index + 1} \`} {...getInputProps(\`${k}\`)} />
                        ))}
                    </Group>
                    `}return D`
                    <NumberInput mt="sm" ${qt(i.key)?"disabled":""} label="${L(i.key)}" {...getInputProps("${ae(i.key,void 0,i.accessor)}")}/>
                `}},C=i=>{if(i)return D`
                    ${i}
            `},m=t.map(i=>{switch(i==null?void 0:i.type){case"url":case"text":case"email":return C(h(i));case"number":return C(x(i));case"richtext":return C(p(i));case"image":return C(u(i));case"date":return C(b(i));case"boolean":return C(g(i));case"relation":return C(y(i));default:return}});return ot(l),D`
        ${at(l)}
        
        export const ${a} = () => {
            const { getInputProps, saveButtonProps, setFieldValue, refineCore: { queryResult } } = useForm({
                initialValues: ${JSON.stringify(s)},
                ${r?`refineCoreProps: {
                            resource: "${e.name}",
                            id: ${n},
                            action: "edit",  
                        }`:""}
            });
        
            const ${o} = queryResult?.data?.data;
        
            ${c}

            return (
                <Edit saveButtonProps={saveButtonProps}>
                    ${m.join("")}
                </Edit>
            );
        };
        `}});var Lf=({action:e,id:t,...r})=>{let{useParams:n}=(0,ji.useRouterContext)(),{action:a,id:o}=n();switch(e!=null?e:a){case"show":return kr.default.createElement(fa,{...r,id:t!=null?t:o});case"create":return kr.default.createElement(ya,{...r,id:t!=null?t:o});case"edit":return kr.default.createElement(ha,{...r,id:t!=null?t:o});default:return kr.default.createElement(va,{...r,id:t!=null?t:o})}};})();
//# sourceMappingURL=mantine.js.map