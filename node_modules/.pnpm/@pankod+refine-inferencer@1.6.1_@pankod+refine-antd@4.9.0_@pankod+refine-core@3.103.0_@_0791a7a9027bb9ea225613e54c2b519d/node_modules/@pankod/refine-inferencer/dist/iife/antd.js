(()=>{var zl=Object.create;var hn=Object.defineProperty;var Ql=Object.getOwnPropertyDescriptor;var Vl=Object.getOwnPropertyNames;var Hl=Object.getPrototypeOf,Kl=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Qr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _l=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Vl(t))!Kl.call(e,n)&&n!==r&&hn(e,n,{get:()=>t[n],enumerable:!(a=Ql(t,n))||a.enumerable});return e};var Q=(e,t,r)=>(r=e!=null?zl(Hl(e)):{},_l(t||!e||!e.__esModule?hn(r,"default",{value:e,enumerable:!0}):r,e));var W=Qr((jm,qo)=>{var Gl=Object.create,hr=Object.defineProperty,Yl=Object.getOwnPropertyDescriptor,Zl=Object.getOwnPropertyNames,Xl=Object.getPrototypeOf,Jl=Object.prototype.hasOwnProperty,ei=(e,t)=>{for(var r in t)hr(e,r,{get:t[r],enumerable:!0})},Vn=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Zl(t))!Jl.call(e,n)&&n!==r&&hr(e,n,{get:()=>t[n],enumerable:!(a=Yl(t,n))||a.enumerable});return e},N=(e,t,r)=>(r=e!=null?Gl(Xl(e)):{},Vn(t||!e||!e.__esModule?hr(r,"default",{value:e,enumerable:!0}):r,e)),ti=e=>Vn(hr({},"__esModule",{value:!0}),e),Hn={};ei(Hn,{AuthPage:()=>mu,Authenticated:()=>xu,CanAccess:()=>$u,ErrorComponent:()=>iu,LayoutWrapper:()=>Fu,LoginPage:()=>xo,ReadyPage:()=>$o,Refine:()=>ku,RouteChangeHandler:()=>wo,UndoableQueue:()=>So,createTreeView:()=>oo,file2Base64:()=>Di,getDefaultFilter:()=>Li,getDefaultSortOrder:()=>Ti,handleUseParams:()=>Ai,importCSVMapper:()=>eo,parseTableParams:()=>na,parseTableParamsFromQuery:()=>Ni,routeGenerator:()=>la,setInitialFilters:()=>Jr,setInitialSorters:()=>ea,stringifyTableParams:()=>Zr,unionFilters:()=>Gt,unionSorters:()=>Xr,useApiUrl:()=>es,useAuthenticated:()=>Jn,useBreadcrumb:()=>ou,useCan:()=>Fo,useCanWithoutCache:()=>Qs,useCancelNotification:()=>St,useCheckError:()=>ze,useCreate:()=>ua,useCreateMany:()=>mo,useCustom:()=>rs,useCustomMutation:()=>ns,useDataProvider:()=>Ce,useDelete:()=>_i,useDeleteMany:()=>Ji,useExport:()=>ws,useForgotPassword:()=>Zn,useForm:()=>qs,useGetIdentity:()=>_n,useGetLocale:()=>Cs,useHandleNotification:()=>Ne,useImport:()=>As,useInvalidate:()=>yt,useIsExistAuthentication:()=>xi,useList:()=>ia,useLiveMode:()=>vo,useLog:()=>Ir,useLogList:()=>eu,useLogin:()=>ra,useLogout:()=>Gn,useMany:()=>so,useMenu:()=>lu,useModal:()=>Rs,useMutationMode:()=>qt,useNavigation:()=>Me,useNotification:()=>at,useOne:()=>sa,usePermissions:()=>li,usePublish:()=>gt,useRedirectionAfterSubmission:()=>Eo,useRefineContext:()=>Pr,useRegister:()=>Yn,useResource:()=>ge,useResourceSubscription:()=>Cr,useResourceWithRoute:()=>_e,useRouterContext:()=>se,useSelect:()=>Ks,useSetLocale:()=>bs,useShow:()=>Ts,useSubscription:()=>cs,useSyncWithLocation:()=>Co,useTable:()=>Ys,useTitle:()=>Is,useTranslate:()=>ee,useUpdate:()=>co,useUpdateMany:()=>Zi,useUpdatePassword:()=>Xn,useWarnAboutChange:()=>ma,userFriendlyResourceName:()=>oa});qo.exports=ti(Hn);var ft=N(f("react")),ri=f("react"),Kn=N(f("react")),ai=f("@tanstack/react-query"),xe=Kn.default.createContext({}),ni=({children:e,isProvided:t,...r})=>{let{replace:a}=Me(),n=(0,ai.useQueryClient)(),o=()=>{n.invalidateQueries(["useAuthenticated"]),n.invalidateQueries(["getUserIdentity"]),n.invalidateQueries(["usePermissions"])},l=async b=>{var h;try{let u=await((h=r.login)==null?void 0:h.call(r,b));return o(),Promise.resolve(u)}catch(u){return Promise.reject(u)}},m=async b=>{var h;try{let u=await((h=r.register)==null?void 0:h.call(r,b));return o(),Promise.resolve(u)}catch(u){return Promise.reject(u)}},p=async b=>{var h;try{let u=await((h=r.logout)==null?void 0:h.call(r,b));return o(),Promise.resolve(u)}catch(u){return Promise.reject(u)}},c=async b=>{var h;try{return await((h=r.checkAuth)==null?void 0:h.call(r,b)),Promise.resolve()}catch(u){return u!=null&&u.redirectPath&&a(u.redirectPath),Promise.reject(u)}};return Kn.default.createElement(xe.Provider,{value:{...r,login:l,logout:p,checkAuth:c,register:m,isProvided:t}},e)},oi=f("@tanstack/react-query"),li=e=>{let{getPermissions:t}=(0,ri.useContext)(xe);return(0,oi.useQuery)(["usePermissions"],t!=null?t:()=>Promise.resolve(void 0),{enabled:!!t,...e})},ii=N(f("react")),si=f("@tanstack/react-query"),_n=({queryOptions:e}={})=>{let{getUserIdentity:t}=ii.default.useContext(xe);return(0,si.useQuery)(["getUserIdentity"],t!=null?t:()=>Promise.resolve({}),{enabled:!!t,retry:!1,...e})},ui=N(f("react")),ci=f("@tanstack/react-query"),Gn=()=>{let{push:e}=Me(),{logout:t}=ui.default.useContext(xe),{open:r}=at();return(0,ci.useMutation)(["useLogout"],t,{onSuccess:(a,n)=>{var o;let l=(o=n==null?void 0:n.redirectPath)!=null?o:a;if(l!==!1){if(l){e(l);return}e("/login")}},onError:a=>{r==null||r({key:"useLogout-error",type:"error",message:(a==null?void 0:a.name)||"Logout Error",description:(a==null?void 0:a.message)||"Something went wrong during logout"})}})},di=N(f("react")),mi=f("@tanstack/react-query"),pi=N(f("qs")),ra=()=>{let{replace:e}=Me(),{login:t}=di.default.useContext(xe),{useLocation:r}=se(),{search:a}=r(),{close:n,open:o}=at(),{to:l}=pi.default.parse(a,{ignoreQueryPrefix:!0});return(0,mi.useMutation)(["useLogin"],t,{onSuccess:m=>{if(l)return e(l);m!==!1&&e(typeof m=="string"?m:"/"),n==null||n("login-error")},onError:m=>{o==null||o({message:(m==null?void 0:m.name)||"Login Error",description:(m==null?void 0:m.message)||"Invalid credentials",key:"login-error",type:"error"})}})},fi=N(f("react")),vi=f("@tanstack/react-query"),Yn=()=>{let{replace:e}=Me(),{register:t}=fi.default.useContext(xe),{close:r,open:a}=at();return(0,vi.useMutation)(["useRegister"],t,{onSuccess:n=>{n!==!1&&e(n||"/"),r==null||r("register-error")},onError:n=>{a==null||a({message:(n==null?void 0:n.name)||"Register Error",description:(n==null?void 0:n.message)||"Error while registering",key:"register-error",type:"error"})}})},gi=N(f("react")),yi=f("@tanstack/react-query"),Zn=()=>{let{replace:e}=Me(),{forgotPassword:t}=gi.default.useContext(xe),{close:r,open:a}=at();return(0,yi.useMutation)(["useForgotPassword"],t,{onSuccess:n=>{n!==!1&&n&&e(n),r==null||r("forgot-password-error")},onError:n=>{a==null||a({message:(n==null?void 0:n.name)||"Forgot Password Error",description:(n==null?void 0:n.message)||"Error while resetting password",key:"forgot-password-error",type:"error"})}})},hi=N(f("react")),bi=f("@tanstack/react-query"),Ci=N(f("qs")),Xn=()=>{let{replace:e}=Me(),{updatePassword:t}=hi.default.useContext(xe),{close:r,open:a}=at(),{useLocation:n}=se(),{search:o}=n(),l=Ci.default.parse(o,{ignoreQueryPrefix:!0});return(0,bi.useMutation)(["useUpdatePassword"],async m=>t==null?void 0:t({...l,...m}),{onSuccess:m=>{m!==!1&&m&&e(m),r==null||r("update-password-error")},onError:m=>{a==null||a({message:(m==null?void 0:m.name)||"Update Password Error",description:(m==null?void 0:m.message)||"Error while updating password",key:"update-password-error",type:"error"})}})},Ei=f("react"),Pi=f("@tanstack/react-query"),Jn=e=>{let{checkAuth:t}=(0,Ei.useContext)(xe);return(0,Pi.useQuery)(["useAuthenticated",e],async()=>{var r;return(r=await(t==null?void 0:t(e)))!=null?r:{}},{retry:!1})},ki=N(f("react")),Fi=f("@tanstack/react-query"),ze=()=>{let{checkError:e}=ki.default.useContext(xe),{mutate:t}=Gn();return(0,Fi.useMutation)(["useCheckError"],e,{onError:r=>{t({redirectPath:r})}})},Ii=f("react"),xi=()=>{let{isProvided:e}=(0,Ii.useContext)(xe);return e||!1},$i=f("@tanstack/react-query"),Vr=e=>e/1e3,Si=N(f("lodash/zip")),wi=N(f("lodash/fromPairs")),eo=(e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,wi.default)((0,Si.default)(r,n))).map((n,o,l)=>t.call(void 0,n,o,l))},bn=N(f("pluralize")),aa=N(f("qs")),to=N(f("lodash/unionWith")),ro=N(f("lodash/differenceWith")),qi=N(f("warn-once")),na=e=>{let{current:t,pageSize:r,sorter:a,filters:n}=aa.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:a!=null?a:[],parsedFilters:n!=null?n:[]}},Ni=e=>{let t=aa.default.stringify(e);return na(`/${t}`)},Zr=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,filters:n,...o}=e;return aa.default.stringify({...o,...r||{},sorter:a,filters:n},t)},ao=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,no=(e,t)=>e.field==t.field,Gt=(e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,qi.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,to.default)(e,t,r,ao).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),Xr=(e,t)=>(0,to.default)(e,t,no).filter(r=>r.order!==void 0&&r.order!==null),Jr=(e,t)=>[...(0,ro.default)(t,e,ao),...e],ea=(e,t)=>[...(0,ro.default)(t,e,no),...e],Ti=(e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},Li=(e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:l}=n;return l===e&&o===r}});if(a)return a.value||[]},Di=e=>new Promise((t,r)=>{let a=new FileReader,n=()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))};a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),oa=(e="",t)=>{let r=Yt(e);return t==="singular"?bn.default.singular(r):bn.default.plural(r)},Ai=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,Re=(e,t,r)=>{let a=t||"default",n={all:[a],resourceAll:[a,e||""],list:o=>[...n.resourceAll,"list",{...o,...r}],many:o=>[...n.resourceAll,"getMany",o&&o.map(String),{...r}].filter(l=>l!==void 0),detail:o=>[...n.resourceAll,"detail",o==null?void 0:o.toString(),{...r}],logList:o=>["logList",e,o,r].filter(l=>l!==void 0)};return n},Ri=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),Mi=e=>t=>e.parentName?t.name===e.parentName:!1,la=(e,t)=>{var r,a,n,o,l;let m,p=(a=(r=e.options)==null?void 0:r.route)!=null?a:e.name;if(e.parentName){let c=t.find(Mi(e));c!=null&&c.parentName?m=`${la(c,t)}/${p}`:e.parentName&&(m=`${(l=(o=(n=c==null?void 0:c.options)==null?void 0:n.route)!=null?o:c==null?void 0:c.name)!=null?l:e.parentName}/${p}`)}else m=p;return m},oo=e=>{var t,r,a;let n=[],o={},l={},m,p;for(let c=0;c<e.length;c++){m=e[c];let b=(a=(r=m.route)!=null?r:(t=m.options)==null?void 0:t.route)!=null?a:"";o[b]=m,o[b].children=[],l[m.name]=m,l[m.name].children=[]}for(let c in o)o.hasOwnProperty(c)&&(p=o[c],p.parentName&&l[p.parentName]?l[p.parentName].children.push(p):n.push(p));return n},Yt=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),lo=N(f("react")),Oi=N(f("react")),io=({children:e})=>Oi.default.createElement("div",null,e),Ke={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},rt=lo.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:io,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ke}),Bi=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:l,Title:m,Layout:p=io,Header:c,Sider:b,Footer:h,OffLayoutArea:u,LoginPage:g=xo,catchAll:y,liveMode:i="off",onLiveEvent:P,options:C})=>lo.default.createElement(rt.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:m,undoableTimeout:n,Layout:p,Header:c,Sider:b,Footer:h,OffLayoutArea:u,DashboardPage:l,LoginPage:g,catchAll:y,liveMode:i,onLiveEvent:P,options:C}},o),Wi=({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:l,undoableTimeout:m,warnWhenUnsavedChanges:p}={})=>{var c,b,h,u,g,y,i,P,C,d,E,s,k,v,F,I,x,$,T,B,D,A,R,O;let U={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(b=(c=e==null?void 0:e.mutationMode)!=null?c:a)!=null?b:Ke.mutationMode,undoableTimeout:(u=(h=e==null?void 0:e.undoableTimeout)!=null?h:m)!=null?u:Ke.undoableTimeout,syncWithLocation:(y=(g=e==null?void 0:e.syncWithLocation)!=null?g:l)!=null?y:Ke.syncWithLocation,warnWhenUnsavedChanges:(P=(i=e==null?void 0:e.warnWhenUnsavedChanges)!=null?i:p)!=null?P:Ke.warnWhenUnsavedChanges,liveMode:(d=(C=e==null?void 0:e.liveMode)!=null?C:r)!=null?d:Ke.liveMode,redirect:{afterCreate:(s=(E=e==null?void 0:e.redirect)==null?void 0:E.afterCreate)!=null?s:Ke.redirect.afterCreate,afterClone:(v=(k=e==null?void 0:e.redirect)==null?void 0:k.afterClone)!=null?v:Ke.redirect.afterClone,afterEdit:(I=(F=e==null?void 0:e.redirect)==null?void 0:F.afterEdit)!=null?I:Ke.redirect.afterEdit}},Y=($=(x=e==null?void 0:e.disableTelemetry)!=null?x:t)!=null?$:!1,H={clientConfig:(D=(B=(T=e==null?void 0:e.reactQuery)==null?void 0:T.clientConfig)!=null?B:n)!=null?D:{},devtoolConfig:(O=(R=(A=e==null?void 0:e.reactQuery)==null?void 0:A.devtoolConfig)!=null?R:o)!=null?O:{}};return{optionsWithDefaults:U,disableTelemetryWithDefault:Y,reactQueryWithDefaults:H}},Ui=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit}},Cn=async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let l=await o();a.push(t(l,n))}catch(l){a.push(r(l,n))}return a},_=(e,t,r)=>{var a;if(t)return t;let n=r==null?void 0:r.find(o=>o.name===e);return(a=n==null?void 0:n.options)!=null&&a.dataProviderName?n.options.dataProviderName:"default"},br=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),ia=({resource:e,config:t,queryOptions:r,successNotification:a,errorNotification:n,metaData:o,liveMode:l,onLiveEvent:m,liveParams:p,dataProviderName:c})=>{let{resources:b}=ge(),h=Ce(),u=Re(e,_(e,c,b),o),{getList:g}=h(_(e,c,b)),y=ee(),{mutate:i}=ze(),P=Ne(),C=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return Cr({resource:e,types:["*"],params:{metaData:o,pagination:t==null?void 0:t.pagination,hasPagination:t==null?void 0:t.hasPagination,sort:t==null?void 0:t.sort,filters:t==null?void 0:t.filters,subscriptionType:"useList",...p},channel:`resources/${e}`,enabled:C,liveMode:l,onLiveEvent:m}),(0,$i.useQuery)(u.list(t),({queryKey:d,pageParam:E,signal:s})=>{let{hasPagination:k,...v}=t||{};return g({resource:e,...v,hasPagination:k,metaData:{...o,queryContext:{queryKey:d,pageParam:E,signal:s}}})},{...r,onSuccess:d=>{var E;(E=r==null?void 0:r.onSuccess)==null||E.call(r,d);let s=typeof a=="function"?a(d,{metaData:o,config:t},e):a;P(s)},onError:d=>{var E;i(d),(E=r==null?void 0:r.onError)==null||E.call(r,d);let s=typeof n=="function"?n(d,{metaData:o,config:t},e):n;P(s,{key:`${e}-useList-notification`,message:y("common:notifications.error",{statusCode:d.statusCode},`Error (status code: ${d.statusCode})`),description:d.message,type:"error"})}})},ji=f("@tanstack/react-query"),sa=({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,metaData:o,liveMode:l,onLiveEvent:m,liveParams:p,dataProviderName:c})=>{let{resources:b}=ge(),h=Ce(),u=Re(e,_(e,c,b),o),{getOne:g}=h(_(e,c,b)),y=ee(),{mutate:i}=ze(),P=Ne();return Cr({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,metaData:o,subscriptionType:"useOne",...p},enabled:r==null?void 0:r.enabled,liveMode:l,onLiveEvent:m}),(0,ji.useQuery)(u.detail(t),({queryKey:C,pageParam:d,signal:E})=>g({resource:e,id:t,metaData:{...o,queryContext:{queryKey:C,pageParam:d,signal:E}}}),{...r,onSuccess:C=>{var d;(d=r==null?void 0:r.onSuccess)==null||d.call(r,C);let E=typeof a=="function"?a(C,{id:t,metaData:o},e):a;P(E)},onError:C=>{var d;i(C),(d=r==null?void 0:r.onError)==null||d.call(r,C);let E=typeof n=="function"?n(C,{id:t,metaData:o},e):n;P(E,{key:`${t}-${e}-getOne-notification`,message:y("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})}})},zi=f("@tanstack/react-query"),so=({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,metaData:o,liveMode:l,onLiveEvent:m,liveParams:p,dataProviderName:c})=>{let{resources:b}=ge(),h=Ce(),u=Re(e,_(e,c,b),o),{getMany:g,getOne:y}=h(_(e,c,b)),i=ee(),{mutate:P}=ze(),C=Ne(),d=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return Cr({resource:e,types:["*"],params:{ids:t!=null?t:[],metaData:o,subscriptionType:"useMany",...p},channel:`resources/${e}`,enabled:d,liveMode:l,onLiveEvent:m}),(0,zi.useQuery)(u.many(t),({queryKey:E,pageParam:s,signal:k})=>g?g({resource:e,ids:t,metaData:{...o,queryContext:{queryKey:E,pageParam:s,signal:k}}}):br(t.map(v=>y({resource:e,id:v,metaData:{...o,queryContext:{queryKey:E,pageParam:s,signal:k}}}))),{...r,onSuccess:E=>{var s;(s=r==null?void 0:r.onSuccess)==null||s.call(r,E);let k=typeof a=="function"?a(E,t,e):a;C(k)},onError:E=>{var s;P(E),(s=r==null?void 0:r.onError)==null||s.call(r,E);let k=typeof n=="function"?n(E,t,e):n;C(k,{key:`${t[0]}-${e}-getMany-notification`,message:i("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})}})},En=f("@tanstack/react-query"),gr=N(f("react")),Hr=N(f("lodash/isEqual")),uo=gr.default.createContext({notifications:[],notificationDispatch:()=>!1}),Qi=[],Vi=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Hr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Hr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Hr.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},Hi=({children:e})=>{let[t,r]=(0,gr.useReducer)(Vi,Qi),a={notifications:t,notificationDispatch:r};return gr.default.createElement(uo.Provider,{value:a},e,typeof window<"u"&&t.map(n=>gr.default.createElement(So,{key:`${n.id}-${n.resource}-queue`,notification:n})))},Pn=N(f("pluralize")),co=()=>{let{resources:e}=ge(),t=(0,En.useQueryClient)(),r=Ce(),{mutationMode:a,undoableTimeout:n}=qt(),o=ee(),{mutate:l}=ze(),m=gt(),{log:p}=Ir(),{notificationDispatch:c}=St(),b=Ne(),h=yt();return(0,En.useMutation)(({id:u,values:g,resource:y,mutationMode:i,undoableTimeout:P,onCancel:C,metaData:d,dataProviderName:E})=>{let s=i!=null?i:a,k=P!=null?P:n;return s!=="undoable"?r(_(y,E,e)).update({resource:y,id:u,variables:g,metaData:d}):new Promise((v,F)=>{let I=()=>{r(_(y,E,e)).update({resource:y,id:u,variables:g,metaData:d}).then($=>v($)).catch($=>F($))},x=()=>{F({message:"mutationCancelled"})};C&&C(x),c({type:"ADD",payload:{id:u,resource:y,cancelMutation:x,doMutation:I,seconds:k,isSilent:!!C}})})},{onMutate:async({resource:u,id:g,mutationMode:y,values:i,dataProviderName:P})=>{let C=Re(u,_(u,P,e)),d=t.getQueriesData(C.resourceAll),E=y!=null?y:a;return await t.cancelQueries(C.resourceAll,void 0,{silent:!0}),E!=="pessimistic"&&(t.setQueriesData(C.list(),s=>{if(!s)return null;let k=s.data.map(v=>{var F;return((F=v.id)==null?void 0:F.toString())===(g==null?void 0:g.toString())?{id:g,...i}:v});return{...s,data:k}}),t.setQueriesData(C.many(),s=>{if(!s)return null;let k=s.data.map(v=>{var F;return((F=v.id)==null?void 0:F.toString())===(g==null?void 0:g.toString())&&(v={id:g,...i}),v});return{...s,data:k}}),t.setQueriesData(C.detail(g),s=>s?{...s,data:{...s.data,...i}}:null)),{previousQueries:d,queryKey:C}},onSettled:(u,g,{id:y,resource:i,dataProviderName:P,invalidates:C=["list","many","detail"]})=>{h({resource:i,dataProviderName:_(i,P,e),invalidates:C,id:y}),c({type:"REMOVE",payload:{id:y,resource:i}})},onSuccess:(u,{id:g,resource:y,successNotification:i,dataProviderName:P,values:C,metaData:d},E)=>{var s;let k=Pn.default.singular(y),v=typeof i=="function"?i(u,{id:g,values:C},y):i;b(v,{key:`${g}-${y}-notification`,description:o("notifications.success","Successful"),message:o("notifications.editSuccess",{resource:o(`${y}.${y}`,k)},`Successfully updated ${k}`),type:"success"}),m==null||m({channel:`resources/${y}`,type:"updated",payload:{ids:(s=u.data)!=null&&s.id?[u.data.id]:void 0},date:new Date});let F;if(E){let B=t.getQueryData(E.queryKey.detail(g));F=Object.keys(C).reduce((D,A)=>{var R;return D[A]=(R=B==null?void 0:B.data)==null?void 0:R[A],D},{})}let{fields:I,operation:x,variables:$,...T}=d||{};p==null||p.mutate({action:"update",resource:y,data:C,previousData:F,meta:{id:g,dataProviderName:_(y,P,e),...T}})},onError:(u,{id:g,resource:y,errorNotification:i,values:P},C)=>{if(C)for(let d of C.previousQueries)t.setQueryData(d[0],d[1]);if(u.message!=="mutationCancelled"){l==null||l(u);let d=Pn.default.singular(y),E=typeof i=="function"?i(u,{id:g,values:P},y):i;b(E,{key:`${g}-${y}-notification`,message:o("notifications.editError",{resource:o(`${y}.${y}`,d),statusCode:u.statusCode},`Error when updating ${d} (status code: ${u.statusCode})`),description:u.message,type:"error"})}}})},Ki=f("@tanstack/react-query"),kn=N(f("pluralize")),ua=()=>{let{mutate:e}=ze(),t=Ce(),r=yt(),{resources:a}=ge(),n=ee(),o=gt(),{log:l}=Ir(),m=Ne();return(0,Ki.useMutation)(({resource:p,values:c,metaData:b,dataProviderName:h})=>t(_(p,h,a)).create({resource:p,variables:c,metaData:b}),{onSuccess:(p,{resource:c,successNotification:b,dataProviderName:h,invalidates:u=["list","many"],values:g,metaData:y})=>{var i,P,C;let d=kn.default.singular(c),E=typeof b=="function"?b(p,g,c):b;m(E,{key:`create-${c}-notification`,message:n("notifications.createSuccess",{resource:n(`${c}.${c}`,d)},`Successfully created ${d}`),description:n("notifications.success","Success"),type:"success"}),r({resource:c,dataProviderName:_(c,h,a),invalidates:u}),o==null||o({channel:`resources/${c}`,type:"created",payload:{ids:(i=p==null?void 0:p.data)!=null&&i.id?[p.data.id]:void 0},date:new Date});let{fields:s,operation:k,variables:v,...F}=y||{};l==null||l.mutate({action:"create",resource:c,data:g,meta:{dataProviderName:_(c,h,a),id:(C=(P=p==null?void 0:p.data)==null?void 0:P.id)!=null?C:void 0,...F}})},onError:(p,{resource:c,errorNotification:b,values:h})=>{e(p);let u=kn.default.singular(c),g=typeof b=="function"?b(p,h,c):b;m(g,{key:`create-${c}-notification`,description:p.message,message:n("notifications.createError",{resource:n(`${c}.${c}`,u),statusCode:p.statusCode},`There was an error creating ${u} (status code: ${p.statusCode})`),type:"error"})}})},Fn=f("@tanstack/react-query"),In=N(f("pluralize")),_i=()=>{let{mutate:e}=ze(),t=Ce(),{resources:r}=ge(),a=(0,Fn.useQueryClient)(),{mutationMode:n,undoableTimeout:o}=qt(),{notificationDispatch:l}=St(),m=ee(),p=gt(),{log:c}=Ir(),b=Ne(),h=yt();return(0,Fn.useMutation)(({id:u,mutationMode:g,undoableTimeout:y,resource:i,onCancel:P,metaData:C,dataProviderName:d,values:E})=>{let s=g!=null?g:n,k=y!=null?y:o;return s!=="undoable"?t(_(i,d,r)).deleteOne({resource:i,id:u,metaData:C,variables:E}):new Promise((v,F)=>{let I=()=>{t(_(i,d,r)).deleteOne({resource:i,id:u,metaData:C,variables:E}).then($=>v($)).catch($=>F($))},x=()=>{F({message:"mutationCancelled"})};P&&P(x),l({type:"ADD",payload:{id:u,resource:i,cancelMutation:x,doMutation:I,seconds:k,isSilent:!!P}})})},{onMutate:async({id:u,resource:g,mutationMode:y,dataProviderName:i})=>{let P=Re(g,_(g,i,r)),C=y!=null?y:n;await a.cancelQueries(P.resourceAll,void 0,{silent:!0});let d=a.getQueriesData(P.resourceAll);return C!=="pessimistic"&&(a.setQueriesData(P.list(),E=>E?{data:E.data.filter(s=>{var k;return((k=s.id)==null?void 0:k.toString())!==u.toString()}),total:E.total-1}:null),a.setQueriesData(P.many(),E=>{if(!E)return null;let s=E.data.filter(k=>{var v;return((v=k.id)==null?void 0:v.toString())!==(u==null?void 0:u.toString())});return{...E,data:s}})),{previousQueries:d,queryKey:P}},onSettled:(u,g,{id:y,resource:i,dataProviderName:P,invalidates:C=["list","many"]})=>{h({resource:i,dataProviderName:_(i,P,r),invalidates:C}),l({type:"REMOVE",payload:{id:y,resource:i}})},onSuccess:(u,{id:g,resource:y,successNotification:i,dataProviderName:P,metaData:C},d)=>{let E=In.default.singular(y!=null?y:"");a.removeQueries(d==null?void 0:d.queryKey.detail(g));let s=typeof i=="function"?i(u,g,y):i;b(s,{key:`${g}-${y}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${y}.${y}`,E)},`Successfully deleted a ${E}`),type:"success"}),p==null||p({channel:`resources/${y}`,type:"deleted",payload:{ids:g?[g]:[]},date:new Date});let{fields:k,operation:v,variables:F,...I}=C||{};c==null||c.mutate({action:"delete",resource:y,meta:{id:g,dataProviderName:_(y,P,r),...I}}),a.removeQueries(d==null?void 0:d.queryKey.detail(g))},onError:(u,{id:g,resource:y,errorNotification:i},P)=>{if(P)for(let C of P.previousQueries)a.setQueryData(C[0],C[1]);if(u.message!=="mutationCancelled"){e(u);let C=In.default.singular(y!=null?y:""),d=typeof i=="function"?i(u,g,y):i;b(d,{key:`${g}-${y}-notification`,message:m("notifications.deleteError",{resource:C,statusCode:u.statusCode},`Error (status code: ${u.statusCode})`),description:u.message,type:"error"})}}})},Gi=f("@tanstack/react-query"),Yi=N(f("pluralize")),mo=()=>{let e=Ce(),{resources:t}=ge(),r=ee(),a=gt(),n=Ne(),o=yt();return(0,Gi.useMutation)(({resource:l,values:m,metaData:p,dataProviderName:c})=>{let b=e(_(l,c,t));return b.createMany?b.createMany({resource:l,variables:m,metaData:p}):br(m.map(h=>b.create({resource:l,variables:h,metaData:p})))},{onSuccess:(l,{resource:m,successNotification:p,dataProviderName:c,invalidates:b=["list","many"],values:h})=>{let u=Yi.default.plural(m),g=typeof p=="function"?p(l,h,m):p;n(g,{key:`createMany-${m}-notification`,message:r("notifications.createSuccess",{resource:r(`${m}.${m}`,m)},`Successfully created ${u}`),description:r("notifications.success","Success"),type:"success"}),o({resource:m,dataProviderName:_(m,c,t),invalidates:b});let y=l==null?void 0:l.data.filter(i=>(i==null?void 0:i.id)!==void 0).map(i=>i.id);a==null||a({channel:`resources/${m}`,type:"created",payload:{ids:y},date:new Date})},onError:(l,{resource:m,errorNotification:p,values:c})=>{let b=typeof p=="function"?p(l,c,m):p;n(b,{key:`createMany-${m}-notification`,description:l.message,message:r("notifications.createError",{resource:r(`${m}.${m}`,m),statusCode:l.statusCode},`There was an error creating ${m} (status code: ${l.statusCode}`),type:"error"})}})},xn=f("@tanstack/react-query"),$n=N(f("pluralize")),Zi=()=>{let{resources:e}=ge(),t=(0,xn.useQueryClient)(),r=Ce(),a=ee(),{mutationMode:n,undoableTimeout:o}=qt(),{mutate:l}=ze(),{notificationDispatch:m}=St(),p=gt(),c=Ne(),b=yt();return(0,xn.useMutation)(({ids:h,values:u,resource:g,onCancel:y,mutationMode:i,undoableTimeout:P,metaData:C,dataProviderName:d})=>{let E=i!=null?i:n,s=P!=null?P:o,k=r(_(g,d,e)),v=()=>k.updateMany?k.updateMany({resource:g,ids:h,variables:u,metaData:C}):br(h.map(F=>k.update({resource:g,id:F,variables:u,metaData:C})));return E!=="undoable"?v():new Promise((F,I)=>{let x=()=>{v().then(T=>F(T)).catch(T=>I(T))},$=()=>{I({message:"mutationCancelled"})};y&&y($),m({type:"ADD",payload:{id:h,resource:g,cancelMutation:$,doMutation:x,seconds:s,isSilent:!!y}})})},{onMutate:async({resource:h,ids:u,values:g,mutationMode:y,dataProviderName:i,metaData:P})=>{let C=Re(h,_(h,i,e),P),d=y!=null?y:n;await t.cancelQueries(C.resourceAll,void 0,{silent:!0});let E=t.getQueriesData(C.resourceAll);if(d!=="pessimistic"){t.setQueriesData(C.list(),s=>{if(!s)return null;let k=s.data.map(v=>v.id!==void 0&&u.filter(F=>F!==void 0).map(String).includes(v.id.toString())?{...v,...g}:v);return{...s,data:k}}),t.setQueriesData(C.many(),s=>{if(!s)return null;let k=s.data.map(v=>v.id!==void 0&&u.filter(F=>F!==void 0).map(String).includes(v.id.toString())?{...v,...g}:v);return{...s,data:k}});for(let s of u)t.setQueriesData(C.detail(s),k=>{if(!k)return null;let v={...k.data,...g};return{...k,data:v}})}return{previousQueries:E,queryKey:C}},onSettled:(h,u,{ids:g,resource:y,dataProviderName:i})=>{b({resource:y,invalidates:["list","many"],dataProviderName:_(y,i,e)}),g.forEach(P=>b({resource:y,invalidates:["detail"],dataProviderName:_(y,i,e),id:P})),m({type:"REMOVE",payload:{id:g,resource:y}})},onSuccess:(h,{ids:u,resource:g,successNotification:y,values:i})=>{let P=$n.default.singular(g),C=typeof y=="function"?y(h,{ids:u,values:i},g):y;c(C,{key:`${u}-${g}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${g}.${g}`,g)},`Successfully updated ${P}`),type:"success"}),p==null||p({channel:`resources/${g}`,type:"updated",payload:{ids:u.map(String)},date:new Date})},onError:(h,{ids:u,resource:g,errorNotification:y,values:i},P)=>{if(P)for(let C of P.previousQueries)t.setQueryData(C[0],C[1]);if(h.message!=="mutationCancelled"){l==null||l(h);let C=$n.default.singular(g),d=typeof y=="function"?y(h,{ids:u,values:i},g):y;c(d,{key:`${u}-${g}-updateMany-error-notification`,message:a("notifications.editError",{resource:C,statusCode:h.statusCode},`Error when updating ${C} (status code: ${h.statusCode})`),description:h.message,type:"error"})}}})},Sn=f("@tanstack/react-query"),Xi=N(f("pluralize")),Ji=()=>{let{mutate:e}=ze(),{mutationMode:t,undoableTimeout:r}=qt(),a=Ce(),{notificationDispatch:n}=St(),o=ee(),l=gt(),m=Ne(),p=yt(),{resources:c}=ge(),b=(0,Sn.useQueryClient)();return(0,Sn.useMutation)(({resource:h,ids:u,mutationMode:g,undoableTimeout:y,onCancel:i,metaData:P,dataProviderName:C,values:d})=>{let E=g!=null?g:t,s=y!=null?y:r,k=a(_(h,C,c)),v=()=>k.deleteMany?k.deleteMany({resource:h,ids:u,metaData:P,variables:d}):br(u.map(F=>k.deleteOne({resource:h,id:F,metaData:P,variables:d})));return E!=="undoable"?v():new Promise((F,I)=>{let x=()=>{v().then(T=>F(T)).catch(T=>I(T))},$=()=>{I({message:"mutationCancelled"})};i&&i($),n({type:"ADD",payload:{id:u,resource:h,cancelMutation:$,doMutation:x,seconds:s,isSilent:!!i}})})},{onMutate:async({ids:h,resource:u,mutationMode:g,dataProviderName:y})=>{let i=Re(u,_(u,y,c)),P=g!=null?g:t;await b.cancelQueries(i.resourceAll,void 0,{silent:!0});let C=b.getQueriesData(i.resourceAll);if(P!=="pessimistic"){b.setQueriesData(i.list(),d=>d?{data:d.data.filter(E=>E.id&&!h.map(String).includes(E.id.toString())),total:d.total-1}:null),b.setQueriesData(i.many(),d=>{if(!d)return null;let E=d.data.filter(s=>s.id?!h.map(String).includes(s.id.toString()):!1);return{...d,data:E}});for(let d of h)b.setQueriesData(i.detail(d),E=>!E||E.data.id==d?null:{...E})}return{previousQueries:C,queryKey:i}},onSettled:(h,u,{resource:g,ids:y,dataProviderName:i,invalidates:P=["list","many"]})=>{p({resource:g,dataProviderName:_(g,i,c),invalidates:P}),n({type:"REMOVE",payload:{id:y,resource:g}})},onSuccess:(h,{ids:u,resource:g,successNotification:y},i)=>{u.forEach(C=>b.removeQueries(i==null?void 0:i.queryKey.detail(C)));let P=typeof y=="function"?y(h,u,g):y;m(P,{key:`${u}-${g}-notification`,description:o("notifications.success","Success"),message:o("notifications.deleteSuccess",{resource:o(`${g}.${g}`,g)},`Successfully deleted ${g}`),type:"success"}),l==null||l({channel:`resources/${g}`,type:"deleted",payload:{ids:u},date:new Date}),u.forEach(C=>b.removeQueries(i==null?void 0:i.queryKey.detail(C)))},onError:(h,{ids:u,resource:g,errorNotification:y},i)=>{if(i)for(let P of i.previousQueries)b.setQueryData(P[0],P[1]);if(h.message!=="mutationCancelled"){e(h);let P=Xi.default.singular(g),C=typeof y=="function"?y(h,u,g):y;m(C,{key:`${u}-${g}-notification`,message:o("notifications.deleteError",{resource:P,statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})}}})},es=e=>{let t=Ce(),{getApiUrl:r}=t(e);return r()},ts=f("@tanstack/react-query"),rs=({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,metaData:l,dataProviderName:m})=>{let p=Ce(),{custom:c}=p(m),{mutate:b}=ze(),h=ee(),u=Ne();if(c)return(0,ts.useQuery)([m,"custom",t,e,{...r,...l}],({queryKey:g,pageParam:y,signal:i})=>c({url:e,method:t,...r,metaData:{...l,queryContext:{queryKey:g,pageParam:y,signal:i}}}),{...a,onSuccess:g=>{var y;(y=a==null?void 0:a.onSuccess)==null||y.call(a,g);let i=typeof n=="function"?n(g,{...r,...l}):n;u(i)},onError:g=>{var y;b(g),(y=a==null?void 0:a.onError)==null||y.call(a,g);let i=typeof o=="function"?o(g,{...r,...l}):o;u(i,{key:`${t}-notification`,message:h("common:notifications.error",{statusCode:g.statusCode},`Error (status code: ${g.statusCode})`),description:g.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},as=f("@tanstack/react-query"),ns=()=>{let e=Ne(),t=Ce(),r=ee();return(0,as.useMutation)(({url:a,method:n,values:o,metaData:l,dataProviderName:m,config:p})=>{let{custom:c}=t(m);if(c)return c({url:a,method:n,payload:o,metaData:l,headers:{...p==null?void 0:p.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(a,{successNotification:n,config:o,metaData:l})=>{let m=typeof n=="function"?n(a,{...o,...l}):n;e(m)},onError:(a,{errorNotification:n,method:o,config:l,metaData:m})=>{let p=typeof n=="function"?n(a,{...l,...m}):n;e(p,{key:`${o}-notification`,message:r("common:notifications.error",{statusCode:a.statusCode},`Error (status code: ${a.statusCode})`),description:a.message,type:"error"})}})},wn=f("react"),po=N(f("react")),os=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),ca=po.default.createContext(os()),ls=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},po.default.createElement(ca.Provider,{value:r},e)},Ce=()=>{let e=(0,wn.useContext)(ca);return(0,wn.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},Kr=f("react"),is=f("@tanstack/react-query"),fo=N(f("react")),Zt=fo.default.createContext(void 0),ss=({liveProvider:e,children:t})=>fo.default.createElement(Zt.Provider,{value:e},t),Cr=({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:l})=>{let m=(0,is.useQueryClient)(),p=Re(e),c=(0,Kr.useContext)(Zt),{liveMode:b,onLiveEvent:h}=(0,Kr.useContext)(rt),u=o!=null?o:b;(0,Kr.useEffect)(()=>{let g;return u&&u!=="off"&&n&&(g=c==null?void 0:c.subscribe({channel:r,params:{resource:e,...t},types:a,callback:y=>{u==="auto"&&m.invalidateQueries(p.resourceAll),l==null||l(y),h==null||h(y)}})),()=>{g&&(c==null||c.unsubscribe(g))}},[n])},us=f("react"),vo=e=>{let{liveMode:t}=(0,us.useContext)(rt);return e!=null?e:t},qn=f("react"),cs=({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n})=>{let o=(0,qn.useContext)(Zt);(0,qn.useEffect)(()=>{let l;return a&&(l=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:n})),()=>{l&&(o==null||o.unsubscribe(l))}},[a])},ds=f("react"),gt=()=>{let e=(0,ds.useContext)(Zt);return e==null?void 0:e.publish},ms=f("react"),go=N(f("react")),Er=go.default.createContext({resources:[]}),ps=({resources:e,children:t})=>go.default.createElement(Er.Provider,{value:{resources:e}},t),ge=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}={})=>{let{resources:a}=(0,ms.useContext)(Er),n=_e(),{useParams:o}=se(),l=o(),m=n(t!=null?t:l.resource),p=e!=null?e:m.name,c=r!=null?r:l.id;return{resources:a,resource:m,resourceName:p,id:c}},Nn=f("react"),_e=()=>{let{resources:e}=(0,Nn.useContext)(Er);return(0,Nn.useCallback)(t=>{let r=e.find(a=>a.route===t);if(!r){let a=e.find(n=>n.name===t);return a!=null?a:{name:t,route:t}}return r},[e])},fs=f("react"),St=()=>{let{notifications:e,notificationDispatch:t}=(0,fs.useContext)(uo);return{notifications:e,notificationDispatch:t}},vs=f("react"),yo=N(f("react")),da=(0,yo.createContext)({}),gs=({open:e,close:t,children:r})=>yo.default.createElement(da.Provider,{value:{open:e,close:t}},r),at=()=>{let{open:e,close:t}=(0,vs.useContext)(da);return{open:e,close:t}},ys=f("react"),Ne=()=>{let{open:e}=at();return(0,ys.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},Tn=f("react"),ho=N(f("react")),wt=ho.default.createContext({}),hs=({children:e,i18nProvider:t})=>ho.default.createElement(wt.Provider,{value:{i18nProvider:t}},e),bs=()=>{let{i18nProvider:e}=(0,Tn.useContext)(wt);return(0,Tn.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},Ln=f("react"),ee=()=>{let{i18nProvider:e}=(0,Ln.useContext)(wt);return(0,Ln.useMemo)(()=>{function t(r,a,n){var o,l;return(l=(o=e==null?void 0:e.translate(r,a,n))!=null?o:n)!=null?l:typeof a=="string"&&typeof n>"u"?a:r}return t},[e])},Dn=f("react"),Cs=()=>{let{i18nProvider:e}=(0,Dn.useContext)(wt);return(0,Dn.useCallback)(()=>e==null?void 0:e.getLocale(),[])},Es=f("react"),qt=()=>{let{mutationMode:e,undoableTimeout:t}=(0,Es.useContext)(rt);return{mutationMode:e,undoableTimeout:t}},An=f("react"),ta=N(f("react")),bo=ta.default.createContext({}),Ps=({children:e})=>{let[t,r]=(0,ta.useState)(!1);return ta.default.createElement(bo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},ma=()=>{let{warnWhenUnsavedChanges:e}=(0,An.useContext)(rt),{warnWhen:t,setWarnWhen:r}=(0,An.useContext)(bo);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},ks=f("react"),Co=()=>{let{syncWithLocation:e}=(0,ks.useContext)(rt);return{syncWithLocation:e}},Fs=f("react"),Is=()=>{let{Title:e}=(0,Fs.useContext)(rt);return e},xs=f("react"),Pr=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:m,syncWithLocation:p,undoableTimeout:c,warnWhenUnsavedChanges:b,DashboardPage:h,LoginPage:u,catchAll:g,options:y}=(0,xs.useContext)(rt);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:m,syncWithLocation:p,undoableTimeout:c,warnWhenUnsavedChanges:b,DashboardPage:h,LoginPage:u,catchAll:g,options:y}},$s=f("react"),Ss=f("export-to-csv-fix-source-map"),ws=({resourceName:e,sorter:t,filters:r,maxItemCount:a,pageSize:n=20,mapData:o=b=>b,exportOptions:l,metaData:m,dataProviderName:p,onError:c}={})=>{let[b,h]=(0,$s.useState)(!1),{resources:u}=ge(),g=_e(),y=Ce(),{useParams:i}=se(),{resource:P}=i(),{name:C}=g(P);e&&(C=e);let d=`${oa(C,"plural")}-${new Date().toLocaleString()}`,{getList:E}=y(_(C,p,u));return{isLoading:b,triggerExport:async()=>{h(!0);let s=[],k=1,v=!0;for(;v;)try{let{data:F,total:I}=await E({resource:C,filters:r,sort:t,pagination:{current:k,pageSize:n},metaData:m});k++,s.push(...F),a&&s.length>=a&&(s=s.slice(0,a),v=!1),I===s.length&&(v=!1)}catch(F){h(!1),v=!1,c==null||c(F);return}new Ss.ExportToCsv({filename:d,useKeysAsHeaders:!0,...l}).generateCsv(s.map(o)),h(!1)}}},Rn=N(f("react")),qs=({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:l,errorNotification:m,metaData:p,mutationMode:c,liveMode:b,onLiveEvent:h,liveParams:u,undoableTimeout:g,dataProviderName:y,invalidates:i,queryOptions:P}={})=>{var C;let{options:d}=Pr(),{useParams:E}=se(),{resource:s,action:k,id:v}=E(),F=!e||e===s?r!=null?r:v:r,[I,x]=Rn.default.useState(F);Rn.default.useEffect(()=>{F!==I&&x(r)},[r]);let $=e!=null?e:s,T=(C=t!=null?t:k==="show"?"create":k)!=null?C:"create",B=_e()($),{mutationMode:D}=qt(),A=c!=null?c:D,R=T==="create",O=T==="edit",U=T==="clone",Y=Ui({redirectFromProps:o,action:T,redirectOptions:d.redirect}),H=I!==void 0&&(O||U),z=sa({resource:B.name,id:I!=null?I:"",queryOptions:{enabled:H,...P},liveMode:b,onLiveEvent:h,liveParams:u,metaData:p,dataProviderName:y}),{isFetching:V}=z,j=ua(),{mutate:K,isLoading:G}=j,ne=co(),{mutate:ve,isLoading:me}=ne,{setWarnWhen:Ve}=ma(),_t=Eo();return{...R||U?{formLoading:V||G,mutationResult:j,onFinish:async qe=>{Ve(!1);let Ae=He=>{_t({redirect:Y,resource:B,id:He})};return A!=="pessimistic"&&setTimeout(()=>{Ae()}),new Promise((He,Pt)=>(A!=="pessimistic"&&He(),K({values:qe,resource:B.name,successNotification:l,errorNotification:m,metaData:p,dataProviderName:y,invalidates:i},{onSuccess:(je,Je,pt)=>{var et;a&&a(je,qe,pt);let J=(et=je==null?void 0:je.data)==null?void 0:et.id;Ae(J),He(je)},onError:(je,Je,pt)=>{if(n)return n(je,qe,pt);Pt()}})))}}:{formLoading:V||me,mutationResult:ne,onFinish:async qe=>{Ve(!1);let Ae={id:I!=null?I:"",values:qe,resource:B.name,mutationMode:A,undoableTimeout:g,successNotification:l,errorNotification:m,metaData:p,dataProviderName:y,invalidates:i},He=()=>{x(F),_t({redirect:Y,resource:B,id:I})};return A!=="pessimistic"&&setTimeout(()=>{He()}),new Promise((Pt,je)=>(A!=="pessimistic"&&Pt(),setTimeout(()=>{ve(Ae,{onSuccess:(Je,pt,et)=>{a&&a(Je,qe,et),A==="pessimistic"&&He(),Pt(Je)},onError:(Je,pt,et)=>{if(n)return n(Je,qe,et);je()}})})))}},queryResult:z,id:I,setId:x,redirect:(qe,Ae)=>{_t({redirect:qe!==void 0?qe:O?"list":"edit",resource:B,id:Ae!=null?Ae:I})}}},Ns=f("react"),Eo=()=>{let{show:e,edit:t,list:r,create:a}=Me();return(0,Ns.useCallback)(({redirect:n,resource:o,id:l})=>{if(n&&o.route)return o.canShow&&n==="show"&&l?e(o.route,l):o.canEdit&&n==="edit"&&l?t(o.route,l):o.canCreate&&n==="create"?a(o.route):r(o.route,"push")},[])},Me=()=>{let{useHistory:e}=se(),t=e(),r=_e(),a=(c,b="push")=>{b==="push"?t.push(c):t.replace(c)},n=c=>`/${r(c).route}/create`,o=(c,b)=>{let h=r(c),u=encodeURIComponent(b);return`/${h.route}/edit/${u}`},l=(c,b)=>{let h=r(c),u=encodeURIComponent(b);return`/${h.route}/clone/${u}`},m=(c,b)=>{let h=r(c),u=encodeURIComponent(b);return`/${h.route}/show/${u}`},p=c=>`/${r(c).route}`;return{create:(c,b="push")=>{a(n(c),b)},createUrl:n,edit:(c,b,h="push")=>{a(o(c,b),h)},editUrl:o,clone:(c,b,h="push")=>{a(l(c,b),h)},cloneUrl:l,show:(c,b,h="push")=>{a(m(c,b),h)},showUrl:m,list:(c,b="push")=>{a(p(c),b)},listUrl:p,push:(c,...b)=>{t.push(c,...b)},replace:(c,...b)=>{t.replace(c,...b)},goBack:()=>{t.goBack()}}},Mn=N(f("react")),Ts=({resource:e,id:t,successNotification:r,errorNotification:a,metaData:n,liveMode:o,onLiveEvent:l,dataProviderName:m,queryOptions:p}={})=>{let{useParams:c}=se(),{resource:b,id:h}=c(),u=!e||e===b?t!=null?t:h:t,[g,y]=(0,Mn.useState)(u);Mn.default.useEffect(()=>{u!==g&&y(u)},[u]);let i=_e()(e!=null?e:b);return{queryResult:sa({resource:i.name,id:g!=null?g:"",queryOptions:{enabled:g!==void 0,...p},successNotification:r,errorNotification:a,metaData:n,liveMode:o,onLiveEvent:l,dataProviderName:m}),showId:g,setShowId:y}},fr=f("react"),Ls=f("papaparse"),Ds=N(f("lodash/chunk")),As=({resourceName:e,mapData:t=p=>p,paparseOptions:r,batchSize:a=Number.MAX_SAFE_INTEGER,onFinish:n,metaData:o,onProgress:l,dataProviderName:m}={})=>{let[p,c]=(0,fr.useState)(0),[b,h]=(0,fr.useState)(0),[u,g]=(0,fr.useState)(!1),y=_e(),{useParams:i}=se(),{resource:P}=i(),{name:C}=y(e!=null?e:P),d=mo(),E=ua(),s;a===1?s=E:s=d;let k=()=>{h(0),c(0),g(!1)},v=I=>{let x={succeeded:I.filter($=>$.type==="success"),errored:I.filter($=>$.type==="error")};n==null||n(x),g(!1)};(0,fr.useEffect)(()=>{l==null||l({totalAmount:b,processedAmount:p})},[b,p]);let F=({file:I})=>(k(),new Promise(x=>{g(!0),(0,Ls.parse)(I,{complete:async({data:$})=>{let T=eo($,t);if(h(T.length),a===1){let B=T.map(A=>async()=>({response:await E.mutateAsync({resource:C,values:A,successNotification:!1,errorNotification:!1,dataProviderName:m,metaData:o}),value:A})),D=await Cn(B,({response:A,value:R})=>(c(O=>O+1),{response:[A.data],type:"success",request:[R]}),(A,R)=>({response:[A],type:"error",request:[T[R]]}));x(D)}else{let B=(0,Ds.default)(T,a),D=B.map(R=>async()=>({response:await d.mutateAsync({resource:C,values:R,successNotification:!1,errorNotification:!1,dataProviderName:m,metaData:o}),value:R,currentBatchLength:R.length})),A=await Cn(D,({response:R,currentBatchLength:O,value:U})=>(c(Y=>Y+O),{response:R.data,type:"success",request:U}),(R,O)=>({response:[R],type:"error",request:B[O]}));x(A)}},...r})}).then(x=>(v(x),x)));return{inputProps:{type:"file",accept:".csv",onChange:I=>{I.target.files&&I.target.files.length>0&&F({file:I.target.files[0]})}},mutationResult:s,isLoading:u,handleChange:F}},_r=f("react"),Rs=({defaultVisible:e=!1}={})=>{let[t,r]=(0,_r.useState)(e),a=(0,_r.useCallback)(()=>r(!0),[t]),n=(0,_r.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},Ms=f("react"),Po=N(f("react")),Os={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},pa=Po.default.createContext(Os),Bs=({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l})=>Po.default.createElement(pa.Provider,{value:{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}},e),se=()=>{let{useHistory:e,useLocation:t,useParams:r,Prompt:a,Link:n,routes:o}=(0,Ms.useContext)(pa);return{useHistory:e,useLocation:t,useParams:r,Prompt:a,Link:n,routes:o}},Ws=f("react"),Us=f("@tanstack/react-query"),ko=N(f("react")),kr=ko.default.createContext({}),js=({can:e,children:t})=>ko.default.createElement(kr.Provider,{value:{can:e}},t),Fo=({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,Ws.useContext)(kr),{resource:o,...l}=r!=null?r:{},{icon:m,list:p,edit:c,create:b,show:h,children:u,...g}=o!=null?o:{},y=(0,Us.useQuery)(["useCan",{action:e,resource:t,params:{...l,resource:g},enabled:a==null?void 0:a.enabled}],()=>{var i;return(i=n==null?void 0:n({action:e,resource:t,params:r}))!=null?i:Promise.resolve({can:!0})},{enabled:typeof n<"u",...a,retry:!1});return typeof n>"u"?{data:{can:!0}}:y},zs=f("react"),Qs=()=>{let{can:e}=(0,zs.useContext)(kr);return{can:e}},kt=f("react"),Vs=N(f("lodash/uniqBy")),Hs=N(f("lodash/debounce")),vr=N(f("lodash/get")),Ks=e=>{var t,r;let[a,n]=(0,kt.useState)([]),[o,l]=(0,kt.useState)([]),[m,p]=(0,kt.useState)([]),{resource:c,sort:b,filters:h=[],optionLabel:u="title",optionValue:g="id",debounce:y=300,successNotification:i,errorNotification:P,defaultValueQueryOptions:C,queryOptions:d,fetchSize:E,pagination:s,hasPagination:k,liveMode:v,defaultValue:F=[],onLiveEvent:I,onSearch:x,liveParams:$,metaData:T,dataProviderName:B}=e,D=Array.isArray(F)?F:[F],A=(0,kt.useCallback)(z=>{p(z.data.map(V=>({label:(0,vr.default)(V,u),value:(0,vr.default)(V,g)})))},[u,g]),R=C!=null?C:d,O=so({resource:c,ids:D,queryOptions:{...R,enabled:D.length>0&&((t=C==null?void 0:C.enabled)!=null?t:!0),onSuccess:z=>{var V;A(z),(V=R==null?void 0:R.onSuccess)==null||V.call(R,z)}},metaData:T,liveMode:"off",dataProviderName:B}),U=(0,kt.useCallback)(z=>{l(z.data.map(V=>({label:(0,vr.default)(V,u),value:(0,vr.default)(V,g)})))},[u,g]),Y=ia({resource:c,config:{sort:b,filters:h.concat(a),pagination:{current:s==null?void 0:s.current,pageSize:(r=s==null?void 0:s.pageSize)!=null?r:E},hasPagination:k},queryOptions:{...d,onSuccess:z=>{var V;U(z),(V=d==null?void 0:d.onSuccess)==null||V.call(d,z)}},successNotification:i,errorNotification:P,metaData:T,liveMode:v,liveParams:$,onLiveEvent:I,dataProviderName:B}),H=z=>{if(x){n(x(z));return}if(z)n([{field:u,operator:"contains",value:z}]);else{n([]);return}};return{queryResult:Y,defaultValueQueryResult:O,options:(0,kt.useMemo)(()=>(0,Vs.default)([...o,...m],"value"),[o,m]),onSearch:(0,Hs.default)(H,y)}},vt=f("react"),On=N(f("qs")),Bn=N(f("lodash/differenceWith")),Wn=N(f("lodash/isEqual")),_s=[],Gs=[];function Ys({initialCurrent:e=1,initialPageSize:t=10,hasPagination:r=!0,initialSorter:a,permanentSorter:n=Gs,defaultSetFilterBehavior:o="merge",initialFilter:l,permanentFilter:m=_s,syncWithLocation:p,resource:c,successNotification:b,errorNotification:h,queryOptions:u,liveMode:g,onLiveEvent:y,liveParams:i,metaData:P,dataProviderName:C}={}){var d;let{syncWithLocation:E}=Co(),s=p!=null?p:E,{useLocation:k,useParams:v}=se(),{search:F,pathname:I}=k(),x=vo(g),{parsedCurrent:$,parsedPageSize:T,parsedSorter:B,parsedFilters:D}=na(F),A=$||e,R=T||t,O=B.length?B:a,U=D.length?D:l,{resource:Y}=v(),{replace:H}=Me(),z=_e()(c!=null?c:Y),[V,j]=(0,vt.useState)(ea(n,O!=null?O:[])),[K,G]=(0,vt.useState)(Jr(m,U!=null?U:[])),[ne,ve]=(0,vt.useState)(A),[me,Ve]=(0,vt.useState)(R),_t=({pagination:{current:J,pageSize:ke},sorter:gn,filters:yn})=>{let zr=On.default.parse(F==null?void 0:F.substring(1)),jl=Zr({pagination:{pageSize:ke,current:J},sorter:gn,filters:yn,...zr});return`${I}?${jl}`};(0,vt.useEffect)(()=>{F===""&&(ve(A),Ve(R),j(ea(n,O!=null?O:[])),G(Jr(m,U!=null?U:[])))},[F]);let qe=()=>{let{sorter:J,filters:ke,pageSize:gn,current:yn,...zr}=On.default.parse(F,{ignoreQueryPrefix:!0});return zr};(0,vt.useEffect)(()=>{if(s){let J=qe(),ke=Zr({...r?{pagination:{pageSize:me,current:ne}}:{},sorter:(0,Bn.default)(V,n,Wn.default),filters:(0,Bn.default)(K,m,Wn.default),...J});return H(`${I}?${ke}`,void 0,{shallow:!0})}},[s,ne,me,V,K]);let Ae=ia({resource:z.name,config:{hasPagination:r,pagination:{current:ne,pageSize:me},filters:Gt(m,K),sort:Xr(n,V)},queryOptions:u,successNotification:b,errorNotification:h,metaData:P,liveMode:x,liveParams:i,onLiveEvent:y,dataProviderName:C}),He=J=>{G(ke=>Gt(m,J,ke))},Pt=J=>{G(Gt(m,J))},je=J=>{G(ke=>Gt(m,J(ke)))},Je=(J,ke=o)=>{typeof J=="function"?je(J):ke==="replace"?Pt(J):He(J)},pt=J=>{j(()=>Xr(n,J))},et=(0,vt.useMemo)(()=>{var J,ke;return r?{current:ne,setCurrent:ve,pageSize:me,setPageSize:Ve,pageCount:me?Math.ceil(((ke=(J=Ae.data)==null?void 0:J.total)!=null?ke:0)/me):1}:{current:void 0,setCurrent:void 0,pageSize:void 0,setPageSize:void 0,pageCount:void 0}},[r,ne,me,(d=Ae.data)==null?void 0:d.total]);return{tableQueryResult:Ae,sorter:V,setSorter:pt,filters:K,setFilters:Je,...et,createLinkForSyncWithLocation:_t}}var Un=f("react"),Gr=f("@tanstack/react-query"),Io=N(f("react")),Fr=Io.default.createContext({}),Zs=({create:e,get:t,update:r,children:a})=>Io.default.createElement(Fr.Provider,{value:{create:e,get:t,update:r}},a),Ir=()=>{let e=(0,Gr.useQueryClient)(),t=(0,Un.useContext)(Fr),{resources:r}=(0,Un.useContext)(Er),{data:a,refetch:n,isLoading:o}=_n({queryOptions:{enabled:!!t}}),l=(0,Gr.useMutation)(async p=>{var c,b,h;let u=r.find(i=>i.name===p.resource),g=(b=(c=u==null?void 0:u.options)==null?void 0:c.auditLog)==null?void 0:b.permissions;if(g&&!Ri(g,p.action))return;let y;return o&&(y=await n()),await((h=t.create)==null?void 0:h.call(t,{...p,author:a!=null?a:y==null?void 0:y.data}))}),m=(0,Gr.useMutation)(async p=>{var c;return await((c=t.update)==null?void 0:c.call(t,p))},{onSuccess:p=>{if(p!=null&&p.resource){let c=Re(p==null?void 0:p.resource);e.invalidateQueries(c.logList())}}});return{log:l,rename:m}},Xs=f("react"),Js=f("@tanstack/react-query"),eu=({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:l}=(0,Xs.useContext)(Fr),m=Re(e,void 0,n);return(0,Js.useQuery)(m.logList(r),()=>{var p;return(p=l==null?void 0:l({resource:e,action:t,author:a,meta:r,metaData:n}))!=null?p:Promise.resolve([])},{enabled:typeof l<"u",...o,retry:!1})},tu=f("react"),ru=f("@tanstack/react-query"),yt=()=>{let{resources:e}=ge(),t=(0,ru.useQueryClient)();return(0,tu.useCallback)(({resource:r,dataProviderName:a,invalidates:n,id:o})=>{if(n===!1)return;let l=Re(r,_(r,a,e));n.forEach(m=>{switch(m){case"all":t.invalidateQueries(l.all);break;case"list":t.invalidateQueries(l.list());break;case"many":t.invalidateQueries(l.many());break;case"resourceAll":t.invalidateQueries(l.resourceAll);break;case"detail":t.invalidateQueries(l.detail(o||""));break;default:break}})},[])},au=f("react"),nu=N(f("warn-once")),ou=()=>{var e;let{useParams:t}=se(),{i18nProvider:r}=(0,au.useContext)(wt),a=ee(),{resources:n,resource:o}=ge(),{action:l}=t(),m=[];if(!(o!=null&&o.name))return{breadcrumbs:m};let p=c=>{var b;let h=n.find(u=>u.name===c);h&&(h.parentName&&p(h.parentName),m.push({label:(b=h.label)!=null?b:a(`${h.name}.${h.name}`,Yt(h.name)),href:h.list?`/${h.route}`:void 0,icon:h.icon}))};if(o.parentName&&p(o.parentName),m.push({label:(e=o.label)!=null?e:a(`${o.name}.${o.name}`,Yt(o.name)),href:o.list?`/${o.route}`:void 0,icon:o.icon}),l){let c=`actions.${l}`,b=a(c);typeof r<"u"&&b===c?((0,nu.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${l}" action. Please add "actions.${l}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),m.push({label:a(`buttons.${l}`,Yt(l))})):m.push({label:a(c,Yt(l))})}return{breadcrumbs:m}},Ft=N(f("react")),lu=()=>{let{resources:e}=ge(),t=ee(),{useLocation:r,useParams:a}=se(),n=r(),o=a(),{hasDashboard:l}=Pr(),m=Ft.default.useMemo(()=>{let u=e.find(y=>(n==null?void 0:n.pathname)===`/${y.route}`);u||(u=e.find(y=>(o==null?void 0:o.resource)===y.route));let g;return u!=null&&u.route?g=`/${u==null?void 0:u.route}`:n.pathname==="/"?g="/":g=n==null?void 0:n.pathname,g},[e,n,o]),p=Ft.default.useMemo(()=>e.map(u=>{var g,y;let i=`/${u.route}`;return{...u,icon:u.icon,route:i,key:(g=u.key)!=null?g:i,label:(y=u.label)!=null?y:t(`${u.name}.${u.name}`,oa(u.name,"plural"))}}),[e,l,t]),c=Ft.default.useMemo(()=>oo(p),[p]),b=Ft.default.useCallback((u,g,y=!1)=>{let i=g.find(P=>y?P.name===u:P.route===u);if(i){let P=[];return y&&i.route&&P.unshift(i.route),i.parentName&&P.unshift(...b(i.parentName,g,!0)),P}return[]},[]),h=Ft.default.useMemo(()=>b(m,p),[m,p]);return Ft.default.useMemo(()=>{let u=g=>g.reduce((y,i)=>{var P,C;return i.children.length>0&&((P=i.options)==null?void 0:P.hide)!==!0?[...y,{...i,children:u(i.children)}]:typeof i.list<"u"&&((C=i.options)==null?void 0:C.hide)!==!0?[...y,i]:y},[]);return{defaultOpenKeys:h,selectedKey:m,menuItems:u(c)}},[h,m,c])},iu=()=>{let[e,t]=(0,ft.useState)(),{push:r}=Me(),a=ee(),n=["edit","create","show"],{useParams:o}=se(),l=o(),m=_e();return(0,ft.useEffect)(()=>{if(l.resource){let p=m(l.resource);l.action&&n.includes(l.action)&&!p[l.action]&&t(a("pages.error.info",{action:l.action,resource:l.resource},`You may have forgotten to add the "${l.action}" component to "${l.resource}" resource.`))}},[l]),ft.default.createElement(ft.default.Fragment,null,ft.default.createElement("h1",null,a("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&ft.default.createElement("p",null,e),ft.default.createElement("button",{onClick:()=>r("/")},a("pages.error.backHome",void 0,"Back Home")))},ce=N(f("react")),xo=()=>{let[e,t]=(0,ce.useState)(""),[r,a]=(0,ce.useState)(""),n=ee(),{mutate:o}=ra();return ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("h1",null,n("pages.login.title","Sign in your account")),ce.default.createElement("form",{onSubmit:l=>{l.preventDefault(),o({username:e,password:r})}},ce.default.createElement("table",null,ce.default.createElement("tbody",null,ce.default.createElement("tr",null,ce.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),ce.default.createElement("td",null,ce.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:l=>t(l.target.value)}))),ce.default.createElement("tr",null,ce.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),ce.default.createElement("td",null,ce.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:l=>a(l.target.value)}))))),ce.default.createElement("br",null),ce.default.createElement("input",{type:"submit",value:"login"})))},It=N(f("react")),Z=N(f("react")),su=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:m})=>{let{Link:p}=se(),[c,b]=(0,Z.useState)(""),[h,u]=(0,Z.useState)(""),[g,y]=(0,Z.useState)(!1),i=ee(),{mutate:P}=ra(),C=(s,k)=>s?typeof s=="string"?Z.default.createElement(p,{to:s},k):s:null,d=()=>e?e.map(s=>{var k;return Z.default.createElement("div",{key:s.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Z.default.createElement("button",{onClick:()=>P({providerName:s.name}),style:{display:"flex",alignItems:"center"}},s==null?void 0:s.icon,(k=s.label)!=null?k:Z.default.createElement("label",null,s.label)))}):null,E=Z.default.createElement("div",{...n},Z.default.createElement("h1",{style:{textAlign:"center"}},i("pages.login.title","Sign in to your account")),d(),Z.default.createElement("hr",null),Z.default.createElement("form",{onSubmit:s=>{s.preventDefault(),P({email:c,password:h,remember:g})},...m},Z.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Z.default.createElement("label",null,i("pages.login.fields.email","Email")),Z.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:s=>b(s.target.value)}),Z.default.createElement("label",null,i("pages.login.fields.password","Password")),Z.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:h,onChange:s=>u(s.target.value)}),a!=null?a:Z.default.createElement(Z.default.Fragment,null,Z.default.createElement("label",null,i("pages.login.buttons.rememberMe","Remember me"),Z.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:g,value:g.toString(),onChange:()=>{y(!g)}}))),Z.default.createElement("br",null),r!=null?r:C("/forgot-password",i("pages.login.buttons.forgotPassword","Forgot password?")),Z.default.createElement("input",{type:"submit",value:i("pages.login.signin","Sign in")}),t!=null?t:Z.default.createElement("span",null,i("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",C("/register",i("pages.login.register","Sign up"))))));return Z.default.createElement("div",{...o},l?l(E):E)},oe=N(f("react")),uu=({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o})=>{let{Link:l}=se(),[m,p]=(0,oe.useState)(""),[c,b]=(0,oe.useState)(""),h=ee(),{mutate:u,isLoading:g}=Yn(),y=(C,d)=>C?typeof C=="string"?oe.default.createElement(l,{to:C},d):C:null,i=()=>e?e.map(C=>{var d;return oe.default.createElement("div",{key:C.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},oe.default.createElement("button",{onClick:()=>u({providerName:C.name}),style:{display:"flex",alignItems:"center"}},C==null?void 0:C.icon,(d=C.label)!=null?d:oe.default.createElement("label",null,C.label)))}):null,P=oe.default.createElement("div",{...a},oe.default.createElement("h1",{style:{textAlign:"center"}},h("pages.register.title","Sign up for your account")),i(),oe.default.createElement("hr",null),oe.default.createElement("form",{onSubmit:C=>{C.preventDefault(),u({email:m,password:c})},...o},oe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},oe.default.createElement("label",null,h("pages.register.fields.email","Email")),oe.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:C=>p(C.target.value)}),oe.default.createElement("label",null,h("pages.register.fields.password","Password")),oe.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:c,onChange:C=>b(C.target.value)}),oe.default.createElement("input",{type:"submit",value:h("pages.register.buttons.submit","Sign up"),disabled:g}),t!=null?t:oe.default.createElement(oe.default.Fragment,null,oe.default.createElement("span",null,h("pages.login.buttons.haveAccount","Have an account?")," ",y("login",h("pages.login.signin","Sign in")))))));return oe.default.createElement("div",{...r},n?n(P):P)},Fe=N(f("react")),cu=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n})=>{let o=ee(),{Link:l}=se(),[m,p]=(0,Fe.useState)(""),{mutate:c,isLoading:b}=Zn(),h=(g,y)=>g?typeof g=="string"?Fe.default.createElement(l,{to:g},y):g:null,u=Fe.default.createElement("div",{...r},Fe.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),Fe.default.createElement("hr",null),Fe.default.createElement("form",{onSubmit:g=>{g.preventDefault(),c({email:m})},...n},Fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Fe.default.createElement("label",null,o("pages.forgotPassword.fields.email","Email")),Fe.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:m,onChange:g=>p(g.target.value)}),Fe.default.createElement("input",{type:"submit",disabled:b,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),Fe.default.createElement("br",null),e!=null?e:Fe.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",h("/login",o("pages.login.signin","Sign in"))))));return Fe.default.createElement("div",{...t},a?a(u):u)},Ie=N(f("react")),du=({wrapperProps:e,contentProps:t,renderContent:r,formProps:a})=>{let n=ee(),{mutate:o,isLoading:l}=Xn(),[m,p]=(0,Ie.useState)(""),[c,b]=(0,Ie.useState)(""),h=Ie.default.createElement("div",{...t},Ie.default.createElement("h1",{style:{textAlign:"center"}},n("pages.updatePassword.title","Update Password")),Ie.default.createElement("hr",null),Ie.default.createElement("form",{onSubmit:u=>{u.preventDefault(),o({password:m,confirmPassword:c})},...a},Ie.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ie.default.createElement("label",null,n("pages.updatePassword.fields.password","New Password")),Ie.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:m,onChange:u=>p(u.target.value)}),Ie.default.createElement("label",null,n("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ie.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:c,onChange:u=>b(u.target.value)}),Ie.default.createElement("input",{type:"submit",disabled:l,value:n("pages.updatePassword.buttons.submit","Update")}))));return Ie.default.createElement("div",{...e},r?r(h):h)},mu=e=>{let{type:t}=e;return It.default.createElement(It.default.Fragment,null,(()=>{switch(t){case"register":return It.default.createElement(uu,{...e});case"forgotPassword":return It.default.createElement(cu,{...e});case"updatePassword":return It.default.createElement(du,{...e});default:return It.default.createElement(su,{...e})}})())},be=N(f("react")),$o=()=>be.default.createElement(be.default.Fragment,null,be.default.createElement("h1",null,"Welcome on board"),be.default.createElement("p",null,"Your configuration is completed."),be.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",be.default.createElement("code",null,"`resources`")," property of ",be.default.createElement("code",null,"`<Refine>`")),be.default.createElement("div",{style:{display:"flex",gap:8}},be.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Documentation")),be.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Examples")),be.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},be.default.createElement("button",null,"Community")))),te=N(f("react")),Yr=f("@tanstack/react-query"),pu=f("@tanstack/react-query-devtools"),fu=f("react"),tt=f("react"),vu="3.90.4",gu=()=>{let e=(0,tt.useContext)(xe),t=(0,tt.useContext)(Fr),r=(0,tt.useContext)(Zt),a=(0,tt.useContext)(pa),n=(0,tt.useContext)(ca),{i18nProvider:o}=(0,tt.useContext)(wt),l=(0,tt.useContext)(da),m=(0,tt.useContext)(kr),{resources:p}=ge(),c=e.isProvided,b=!!t.create||!!t.get||!!t.update,h=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),u=!!a.useHistory||!!a.Link||!!a.Prompt||!!a.useLocation||!!a.useParams,g=!!n,y=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),i=!!l.close||!!l.open,P=!!m.can;return{providers:{auth:c,auditLog:b,live:h,router:u,data:g,i18n:y,notification:i,accessControl:P},version:vu,resourceCount:p.length}},yu=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},hu=()=>{let e=gu();return(0,fu.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${yu(e)}`},[]),null},bu=f("react"),Cu=f("react"),Eu=N(f("lodash/isEqual")),Pu=e=>{let t=(0,Cu.useRef)(e);return(0,Eu.default)(t.current,e)||(t.current=e),t.current},jn=(e,t)=>{let r=Pu(t);return(0,bu.useMemo)(e,r)},ku=({authProvider:e,dataProvider:t,routerProvider:r,notificationProvider:a,accessControlProvider:n,auditLogProvider:o,resources:l,DashboardPage:m,ReadyPage:p,LoginPage:c,catchAll:b,children:h,liveProvider:u,i18nProvider:g,mutationMode:y,syncWithLocation:i,warnWhenUnsavedChanges:P,undoableTimeout:C,Title:d,Layout:E,Sider:s,Header:k,Footer:v,OffLayoutArea:F,reactQueryClientConfig:I,reactQueryDevtoolConfig:x,liveMode:$,onLiveEvent:T,disableTelemetry:B,options:D})=>{let{optionsWithDefaults:A,disableTelemetryWithDefault:R,reactQueryWithDefaults:O}=Wi({options:D,disableTelemetry:B,liveMode:$,mutationMode:y,reactQueryClientConfig:I,reactQueryDevtoolConfig:x,syncWithLocation:i,warnWhenUnsavedChanges:P,undoableTimeout:C}),U=jn(()=>{var V;return O.clientConfig instanceof Yr.QueryClient?O.clientConfig:new Yr.QueryClient({...O.clientConfig,defaultOptions:{...O.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(V=O.clientConfig.defaultOptions)==null?void 0:V.queries}}})},[O.clientConfig]),Y=te.default.useMemo(()=>typeof a=="function"?a:()=>a!=null?a:{},[a])(),H=jn(()=>{let V=[];return l==null||l.forEach(j=>{var K;V.push({key:j.key,name:j.name,label:(K=j.options)==null?void 0:K.label,icon:j.icon,route:la(j,l),canCreate:!!j.create,canEdit:!!j.edit,canShow:!!j.show,canDelete:j.canDelete,create:j.create,show:j.show,list:j.list,edit:j.edit,options:j.options,parentName:j.parentName})}),V},[l]);if(H.length===0)return p?te.default.createElement(p,null):te.default.createElement($o,null);let{RouterComponent:z=te.default.Fragment}=r;return te.default.createElement(Yr.QueryClientProvider,{client:U},te.default.createElement(gs,{...Y},te.default.createElement(ni,{...e!=null?e:{},isProvided:Boolean(e)},te.default.createElement(ls,{...t},te.default.createElement(ss,{liveProvider:u},te.default.createElement(Bs,{...r},te.default.createElement(ps,{resources:H},te.default.createElement(hs,{i18nProvider:g},te.default.createElement(js,{...n!=null?n:{}},te.default.createElement(Zs,{...o!=null?o:{}},te.default.createElement(Hi,null,te.default.createElement(Bi,{mutationMode:A.mutationMode,warnWhenUnsavedChanges:A.warnWhenUnsavedChanges,syncWithLocation:A.syncWithLocation,Title:d,undoableTimeout:A.undoableTimeout,catchAll:b,DashboardPage:m,LoginPage:c,Layout:E,Sider:s,Footer:v,Header:k,OffLayoutArea:F,hasDashboard:!!m,liveMode:A.liveMode,onLiveEvent:T,options:A},te.default.createElement(Ps,null,te.default.createElement(z,null,h,!R&&te.default.createElement(hu,null),te.default.createElement(wo,null)))))))))))))),O.devtoolConfig===!1?null:te.default.createElement(pu.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...O.devtoolConfig}))},zn=f("react"),So=({notification:e})=>{let t=ee(),{notificationDispatch:r}=St(),{open:a}=at(),[n,o]=(0,zn.useState)(),l=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Vr(e.seconds)},`You have ${Vr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Vr(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let m=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(m)}};return(0,zn.useEffect)(()=>{l()},[e]),null},yr=N(f("react")),Fu=({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:l})=>{let{Layout:m,Footer:p,Header:c,Sider:b,Title:h,OffLayoutArea:u}=Pr(),g=t!=null?t:m;return yr.default.createElement(g,{Sider:r!=null?r:b,Header:a!=null?a:c,Footer:o!=null?o:p,Title:n!=null?n:h,OffLayoutArea:l!=null?l:u},e,yr.default.createElement(Iu,null))},Iu=()=>{let{Prompt:e}=se(),t=ee(),{warnWhen:r,setWarnWhen:a}=ma(),n=o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue);return(0,yr.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),yr.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},xt=N(f("react")),xu=({children:e,fallback:t,loading:r})=>{let{isSuccess:a,isLoading:n,isError:o}=Jn(),{replace:l}=Me(),{useLocation:m}=se(),{pathname:p,search:c}=m();if(n)return xt.default.createElement(xt.default.Fragment,null,r)||null;if(o){if(!t){let b=`${p}${c}`;return p.includes("/login")||l(`/login?to=${encodeURIComponent(b)}`),null}return xt.default.createElement(xt.default.Fragment,null,t)}return a?xt.default.createElement(xt.default.Fragment,null,e):null},Qn=f("react"),wo=()=>{let{useLocation:e}=se(),{checkAuth:t}=(0,Qn.useContext)(xe),r=e();return(0,Qn.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},$t=N(f("react")),$u=({resource:e,action:t,params:r,fallback:a,children:n,...o})=>{let{data:l}=Fo({resource:e,action:t,params:r});return l!=null&&l.can?$t.default.isValidElement(n)?$t.default.cloneElement(n,o):$t.default.createElement($t.default.Fragment,null,n):(l==null?void 0:l.can)===!1?$t.default.createElement($t.default.Fragment,null,a!=null?a:null):null}});var Oe=Qr((zm,To)=>{var fa=Object.defineProperty,Su=Object.getOwnPropertyDescriptor,wu=Object.getOwnPropertyNames,qu=Object.prototype.hasOwnProperty,Nu=(e,t)=>{for(var r in t)fa(e,r,{get:t[r],enumerable:!0})},Tu=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of wu(t))!qu.call(e,n)&&n!==r&&fa(e,n,{get:()=>t[n],enumerable:!(a=Su(t,n))||a.enumerable});return e},Lu=e=>Tu(fa({},"__esModule",{value:!0}),e),No={};Nu(No,{RefineButtonTestIds:()=>Du});To.exports=Lu(No);var Du={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var lt=Qr((ep,ul)=>{var Au=Object.create,Dr=Object.defineProperty,Ru=Object.getOwnPropertyDescriptor,Mu=Object.getOwnPropertyNames,Ou=Object.getPrototypeOf,Bu=Object.prototype.hasOwnProperty,Wu=(e,t)=>{for(var r in t)Dr(e,r,{get:t[r],enumerable:!0})},Go=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Mu(t))!Bu.call(e,n)&&n!==r&&Dr(e,n,{get:()=>t[n],enumerable:!(a=Ru(t,n))||a.enumerable});return e},L=(e,t,r)=>(r=e!=null?Au(Ou(e)):{},Go(t||!e||!e.__esModule?Dr(r,"default",{value:e,enumerable:!0}):r,e)),Uu=e=>Go(Dr({},"__esModule",{value:!0}),e),Yo={};Wu(Yo,{Affix:()=>w.Affix,Alert:()=>w.Alert,Anchor:()=>w.Anchor,AntdBreadcrumb:()=>w.Breadcrumb,AntdLayout:()=>w.Layout,AntdList:()=>w.List,AuthPage:()=>Cm,AutoComplete:()=>w.AutoComplete,Avatar:()=>w.Avatar,BackTop:()=>w.BackTop,Badge:()=>w.Badge,BooleanField:()=>Sd,Breadcrumb:()=>cr,Button:()=>w.Button,Calendar:()=>$c,Card:()=>w.Card,Carousel:()=>w.Carousel,Cascader:()=>w.Cascader,Checkbox:()=>w.Checkbox,CloneButton:()=>od,Col:()=>w.Col,Collapse:()=>w.Collapse,Comment:()=>w.Comment,ConfigProvider:()=>w.ConfigProvider,Create:()=>cd,CreateButton:()=>ll,DateField:()=>Ld,DatePicker:()=>tl,DeleteButton:()=>Ba,Descriptions:()=>w.Descriptions,Divider:()=>w.Divider,Drawer:()=>w.Drawer,Dropdown:()=>w.Dropdown,Edit:()=>dd,EditButton:()=>il,EmailField:()=>kd,Empty:()=>w.Empty,ErrorComponent:()=>Jd,ExportButton:()=>Jc,FileField:()=>Ad,FilterDropdown:()=>Yd,Form:()=>w.Form,Grid:()=>w.Grid,Header:()=>nl,Icon:()=>qc.default,Icons:()=>wc,Image:()=>w.Image,ImageField:()=>xd,ImportButton:()=>sd,Input:()=>w.Input,InputNumber:()=>w.InputNumber,Layout:()=>Rc,List:()=>ud,ListButton:()=>Ua,LoginPage:()=>lm,MarkdownField:()=>Kd,Mentions:()=>w.Mentions,Menu:()=>w.Menu,Modal:()=>w.Modal,NumberField:()=>zd,PageHeader:()=>w.PageHeader,Pagination:()=>w.Pagination,Popconfirm:()=>w.Popconfirm,Popover:()=>w.Popover,Progress:()=>w.Progress,Radio:()=>w.Radio,Rate:()=>w.Rate,ReadyPage:()=>sm,RefreshButton:()=>Wa,Result:()=>w.Result,Row:()=>w.Row,SaveButton:()=>ja,Select:()=>w.Select,Show:()=>md,ShowButton:()=>Kc,Sider:()=>al,Skeleton:()=>w.Skeleton,Slider:()=>w.Slider,Space:()=>w.Space,Spin:()=>w.Spin,Statistic:()=>w.Statistic,Steps:()=>w.Steps,Switch:()=>w.Switch,Table:()=>w.Table,Tabs:()=>w.Tabs,Tag:()=>w.Tag,TagField:()=>bd,TextField:()=>gd,TimePicker:()=>Sc,Timeline:()=>w.Timeline,Title:()=>ol,Tooltip:()=>w.Tooltip,Transfer:()=>w.Transfer,Tree:()=>w.Tree,TreeSelect:()=>w.TreeSelect,Typography:()=>w.Typography,Upload:()=>w.Upload,UrlField:()=>sl,getDefaultFilter:()=>Xu,getDefaultSortOrder:()=>Zu,getValueFromEvent:()=>Pm,mapAntdFilterToCrudFilter:()=>Jo,mapAntdSorterToCrudSorting:()=>Xo,message:()=>w.message,notification:()=>w.notification,notificationProvider:()=>Cc,useCheckboxGroup:()=>oc,useDrawerForm:()=>Ku,useEditableTable:()=>tc,useFileUploadState:()=>fc,useForm:()=>ur,useImport:()=>sc,useMenu:()=>pc,useModal:()=>yc,useModalForm:()=>Hu,useRadioGroup:()=>ic,useSelect:()=>ac,useSimpleList:()=>dc,useStepsForm:()=>Gu,useTable:()=>el,version:()=>w.version});ul.exports=Uu(Yo);var ju=L(f("react")),zu=f("antd"),Qu=f("sunflower-antd"),Lo=W(),ur=({action:e,resource:t,onMutationSuccess:r,onMutationError:a,submitOnEnter:n=!1,warnWhenUnsavedChanges:o,redirect:l,successNotification:m,errorNotification:p,metaData:c,liveMode:b,liveParams:h,mutationMode:u,dataProviderName:g,onLiveEvent:y,invalidates:i,undoableTimeout:P,queryOptions:C,id:d}={})=>{var E,s;let[k]=zu.Form.useForm(),v=(0,Qu.useForm)({form:k}),{form:F}=v,I=(0,Lo.useForm)({onMutationSuccess:r||void 0,onMutationError:a,redirect:l,action:e,resource:t,successNotification:m,errorNotification:p,metaData:c,liveMode:b,liveParams:h,mutationMode:u,dataProviderName:g,onLiveEvent:y,invalidates:i,undoableTimeout:P,queryOptions:C,id:d}),{formLoading:x,onFinish:$,queryResult:T,id:B}=I,{warnWhenUnsavedChanges:D,setWarnWhen:A}=(0,Lo.useWarnAboutChange)(),R=o!=null?o:D;ju.default.useEffect(()=>{F.resetFields()},[(E=T==null?void 0:T.data)==null?void 0:E.data,B]);let O=H=>{n&&H.key==="Enter"&&F.submit()},U=H=>(H&&R&&A(!0),H),Y={disabled:x,onClick:()=>{F.submit()}};return{form:v.form,formProps:{...v.formProps,onFinish:H=>$==null?void 0:$(H).catch(z=>z),onKeyUp:O,onValuesChange:U,initialValues:(s=T==null?void 0:T.data)==null?void 0:s.data},saveButtonProps:Y,...I,onFinish:async H=>await($==null?void 0:$(H!=null?H:v.form.getFieldsValue(!0)))}},va=f("react"),Vu=f("sunflower-antd"),Nt=W(),Hu=({mutationMode:e,...t})=>{var r;let a=ur({...t,mutationMode:e}),{form:n,formProps:o,setId:l,formLoading:m,mutationResult:p}=a,c=(0,Nt.useTranslate)(),{warnWhen:b,setWarnWhen:h}=(0,Nt.useWarnAboutChange)(),u=(0,Vu.useModalForm)({...t,form:n}),{visible:g,close:y,form:i,formProps:P,modalProps:C}=u,{mutationMode:d}=(0,Nt.useMutationMode)(),E=e!=null?e:d,{isLoading:s,isSuccess:k,reset:v}=p!=null?p:{};(0,va.useEffect)(()=>{g&&E==="pessimistic"&&k&&!s&&(y(),v==null||v(),setTimeout(()=>{n.resetFields()}))},[k,s]);let F={disabled:m,onClick:()=>{i.submit(),E!=="pessimistic"&&(y(),setTimeout(()=>{n.resetFields()}))},loading:m},{useParams:I}=(0,Nt.useRouterContext)(),{resource:x}=I(),$=(0,Nt.useResourceWithRoute)()((r=t.resource)!=null?r:x),T=(0,va.useCallback)(()=>{if(b)if(window.confirm(c("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))h(!1);else return;l==null||l(void 0),u.close()},[b]),B=(0,va.useCallback)(D=>{l==null||l(D),u.show()},[]);return{...a,...u,show:B,close:T,formProps:{...P,...a.formProps,onValuesChange:o==null?void 0:o.onValuesChange,onKeyUp:o==null?void 0:o.onKeyUp,onFinish:o==null?void 0:o.onFinish},modalProps:{...C,width:"1000px",okButtonProps:F,title:c(`${$.name}.titles.${t.action}`,`${(0,Nt.userFriendlyResourceName)(`${t.action} ${$.name}`,"singular")}`),okText:c("buttons.save","Save"),cancelText:c("buttons.cancel","Cancel"),onCancel:T,getContainer:!1,forceRender:!0},formLoading:m}},xr=f("react"),ga=W(),Ku=({mutationMode:e,...t})=>{let r=ur({...t,mutationMode:e}),{form:a,formProps:n,formLoading:o,mutationResult:l,id:m,setId:p}=r,c=(0,ga.useTranslate)(),{warnWhen:b,setWarnWhen:h}=(0,ga.useWarnAboutChange)(),[u,g]=(0,xr.useState)(!1),{mutationMode:y}=(0,ga.useMutationMode)(),i=e!=null?e:y,{isLoading:P,isSuccess:C,reset:d}=l!=null?l:{};(0,xr.useEffect)(()=>{u&&i==="pessimistic"&&C&&!P&&(g(!1),d==null||d())},[C,P]);let E={disabled:o,onClick:()=>{a==null||a.submit(),i!=="pessimistic"&&g(!1)},loading:o},s={recordItemId:m,onSuccess:()=>{p==null||p(void 0),g(!1)}},k=(0,xr.useCallback)(()=>{if(b)if(window.confirm(c("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))h(!1);else return;g(!1),p==null||p(void 0)},[b]),v=(0,xr.useCallback)(F=>{p==null||p(F),g(!0)},[]);return{...r,show:v,close:k,formProps:{form:a,...r.formProps,onValuesChange:n==null?void 0:n.onValuesChange,onKeyUp:n==null?void 0:n.onKeyUp,onFinish:n==null?void 0:n.onFinish},drawerProps:{width:"500px",onClose:k,visible:u,getContainer:!1,forceRender:!0},saveButtonProps:E,deleteButtonProps:s,formLoading:o}},_u=f("sunflower-antd"),Gu=(e={})=>{let t=ur({...e}),{form:r,formProps:a}=t,n=(0,_u.useStepsForm)({isBackValidate:!1,form:r,submit:o=>{var l;(l=a==null?void 0:a.onFinish)==null||l.call(a,o)},...e});return{...t,...n,formProps:{...n.formProps,...t.formProps,onValuesChange:a==null?void 0:a.onValuesChange,onKeyUp:a==null?void 0:a.onKeyUp},saveButtonProps:{...t.saveButtonProps,onClick:()=>n.submit()}}},Tt=f("react"),Do=f("antd"),Yu=f("sunflower-antd"),Ao=W(),Zo=W(),Zu=(e,t)=>{let r=(0,Zo.getDefaultSortOrder)(e,t);if(r)return`${r}end`},Xu=(e,t,r="eq")=>(0,Zo.getDefaultFilter)(e,t,r),Xo=e=>{var t;let r=[];if(Array.isArray(e))e.sort((a,n)=>{var o,l,m,p;return((l=((o=a.column)==null?void 0:o.sorter).multiple)!=null?l:0)<((p=((m=n.column)==null?void 0:m.sorter).multiple)!=null?p:0)?-1:0}).map(a=>{var n;if(a.field&&a.order){let o=Array.isArray(a.field)?a.field.join("."):`${a.field}`;r.push({field:`${(n=a.columnKey)!=null?n:o}`,order:a.order.replace("end","")})}});else if(e.field&&e.order){let a=Array.isArray(e.field)?e.field.join("."):`${e.field}`;r.push({field:`${(t=e.columnKey)!=null?t:a}`,order:e.order.replace("end","")})}return r},Jo=(e,t)=>{let r=[];return Object.keys(e).map(a=>{var n;let o=e[a],l=(n=t.filter(m=>m.operator!=="or").find(m=>m.field===a))==null?void 0:n.operator;l!=="or"&&l!=="and"&&r.push({field:a,operator:l!=null?l:Array.isArray(o)?"in":"eq",value:o})}),r},Ju=W(),ec=L(f("react")),Wt=({to:e,element:t})=>{let{Link:r}=(0,Ju.useRouterContext)();return ec.default.createElement(r,{to:e,replace:!1,onClick:a=>{a.preventDefault()}},t)},el=({onSearch:e,initialCurrent:t,initialPageSize:r,hasPagination:a=!0,initialSorter:n,permanentSorter:o,initialFilter:l,permanentFilter:m,defaultSetFilterBehavior:p,syncWithLocation:c,resource:b,successNotification:h,errorNotification:u,queryOptions:g,liveMode:y,onLiveEvent:i,liveParams:P,metaData:C,dataProviderName:d}={hasPagination:!0})=>{let{tableQueryResult:E,current:s,setCurrent:k,pageSize:v,setPageSize:F,filters:I,setFilters:x,sorter:$,setSorter:T,createLinkForSyncWithLocation:B}=(0,Ao.useTable)({permanentSorter:o,permanentFilter:m,initialCurrent:t,initialPageSize:r,hasPagination:a,initialSorter:n,initialFilter:l,syncWithLocation:c,resource:b,defaultSetFilterBehavior:p,successNotification:h,errorNotification:u,queryOptions:g,liveMode:y,onLiveEvent:i,liveParams:P,metaData:C,dataProviderName:d}),D=Do.Grid.useBreakpoint(),[A]=Do.Form.useForm(),R=(0,Yu.useForm)({form:A}),O=(0,Ao.useLiveMode)(y),{data:U,isFetched:Y,isLoading:H}=E,z=(K,G,ne)=>{if(G&&Object.keys(G).length>0){let ve=Jo(G,I);x(ve)}if(ne&&Object.keys(ne).length>0){let ve=Xo(ne);T(ve)}a&&(k==null||k(K.current||1),F==null||F(K.pageSize||10))},V=async K=>{if(e){let G=await e(K);x(G),a&&(k==null||k(1))}},j=()=>a?{itemRender:(K,G,ne)=>{var ve;let me=B({pagination:{pageSize:v,current:K},sorter:$,filters:I});if(G==="page")return(0,Tt.createElement)(Wt,{to:me,element:`${K}`});if(G==="next"||G==="prev")return(0,Tt.createElement)(Wt,{to:me,element:ne});if(G==="jump-next"||G==="jump-prev"){let Ve=(ve=ne==null?void 0:ne.props)==null?void 0:ve.children;return(0,Tt.createElement)(Wt,{to:me,element:Tt.Children.count(Ve)>1?(0,Tt.createElement)(Tt.Fragment,{},Ve):Ve})}return ne},pageSize:v,current:s,simple:!D.sm,position:D.sm?["bottomRight"]:["bottomCenter"],total:U==null?void 0:U.total}:!1;return{searchFormProps:{...R.formProps,onFinish:V},tableProps:{dataSource:U==null?void 0:U.data,loading:O==="auto"?H:!Y,onChange:z,pagination:j(),scroll:{x:!0}},tableQueryResult:E,sorter:$,filters:I,setSorter:T,setFilters:x}},tc=(e={})=>{let t=el({...e}),r=ur({...e,action:"edit",redirect:!1}),{id:a,setId:n,saveButtonProps:o}=r;return{...t,...r,saveButtonProps:o,cancelButtonProps:{onClick:()=>{n(void 0)}},editButtonProps:l=>({onClick:()=>n(l)}),isEditing:l=>l===a}},rc=W(),ac=e=>{let{queryResult:t,defaultValueQueryResult:r,onSearch:a,options:n}=(0,rc.useSelect)(e);return{selectProps:{options:n,onSearch:a,loading:r.isFetching,showSearch:!0,filterOption:!1},queryResult:t,defaultValueQueryResult:r}},nc=W(),oc=({resource:e,sort:t,filters:r,optionLabel:a,optionValue:n,queryOptions:o,fetchSize:l,pagination:m,liveMode:p,defaultValue:c,onLiveEvent:b,liveParams:h,metaData:u,dataProviderName:g})=>{let{queryResult:y,options:i}=(0,nc.useSelect)({resource:e,sort:t,filters:r,optionLabel:a,optionValue:n,queryOptions:o,fetchSize:l,pagination:m,liveMode:p,defaultValue:c,onLiveEvent:b,liveParams:h,metaData:u,dataProviderName:g});return{checkboxGroupProps:{options:i,defaultValue:c},queryResult:y}},lc=W(),ic=({resource:e,sort:t,filters:r,optionLabel:a,optionValue:n,queryOptions:o,fetchSize:l,pagination:m,liveMode:p,defaultValue:c,onLiveEvent:b,liveParams:h,metaData:u,dataProviderName:g})=>{let{queryResult:y,options:i}=(0,lc.useSelect)({resource:e,sort:t,filters:r,optionLabel:a,optionValue:n,queryOptions:o,fetchSize:l,pagination:m,liveMode:p,defaultValue:c,onLiveEvent:b,liveParams:h,metaData:u,dataProviderName:g});return{radioGroupProps:{options:i,defaultValue:c},queryResult:y}},ya=L(f("react")),ha=f("antd"),$r=W(),sc=({resourceName:e,mapData:t=p=>p,paparseOptions:r,batchSize:a=Number.MAX_SAFE_INTEGER,onFinish:n,metaData:o,dataProviderName:l,onProgress:m}={})=>{let p=(0,$r.useTranslate)(),c=(0,$r.useResourceWithRoute)(),{useParams:b}=(0,$r.useRouterContext)(),{resource:h}=b(),{name:u}=c(e!=null?e:h),{mutationResult:g,isLoading:y,handleChange:i}=(0,$r.useImport)({resourceName:e,mapData:t,paparseOptions:r,batchSize:a,metaData:o,dataProviderName:l,onFinish:n,onProgress:m!=null?m:({totalAmount:P,processedAmount:C})=>{if(P>0&&C>0){let d=ya.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},ya.default.createElement(ha.Progress,{type:"circle",percent:Math.floor(C/P*100),width:50,strokeColor:"#1890ff",status:"normal"}),ya.default.createElement("span",{style:{marginLeft:8,width:"100%"}},p("notifications.importProgress",{processed:C,total:P},`Importing: ${C}/${P}`)));ha.notification.open({description:d,message:null,key:`${u}-import`,duration:0}),C>=P,C===P&&setTimeout(()=>{ha.notification.close(`${u}-import`)},4500)}}});return{uploadProps:{onChange:i,beforeUpload:()=>!1,showUploadList:!1,accept:".csv"},buttonProps:{type:"default",loading:y},mutationResult:g,isLoading:y}},Lt=f("react"),Ro=f("antd"),uc=W(),cc=W(),dc=({resource:e,initialCurrent:t,initialPageSize:r,hasPagination:a=!0,initialSorter:n,permanentSorter:o,initialFilter:l,permanentFilter:m,defaultSetFilterBehavior:p,onSearch:c,queryOptions:b,syncWithLocation:h,successNotification:u,errorNotification:g,liveMode:y,onLiveEvent:i,liveParams:P,metaData:C,dataProviderName:d,...E}={hasPagination:!0})=>{let{sorter:s,filters:k,current:v,pageSize:F,setFilters:I,setCurrent:x,setPageSize:$,createLinkForSyncWithLocation:T,tableQueryResult:B}=(0,uc.useTable)({resource:e,initialSorter:n,permanentSorter:o,initialFilter:l,permanentFilter:m,defaultSetFilterBehavior:p,initialCurrent:E.pagination?E.pagination.current:t,initialPageSize:E.pagination?E.pagination.pageSize:r,queryOptions:b,successNotification:u,errorNotification:g,liveMode:y,onLiveEvent:i,liveParams:P,metaData:C,syncWithLocation:h,dataProviderName:d,hasPagination:a}),D=Ro.Grid.useBreakpoint(),A=(0,cc.useLiveMode)(y),[R]=Ro.Form.useForm(),{data:O,isFetched:U,isLoading:Y}=B,H=(j,K)=>{a&&(x(j),$(K||10))},z=async j=>{if(c){let K=await c(j);return a&&(x==null||x(1)),I(K)}},V=()=>a?{itemRender:(j,K,G)=>{var ne;let ve=T({pagination:{pageSize:F,current:j},sorter:s,filters:k});if(K==="page")return(0,Lt.createElement)(Wt,{to:ve,element:`${j}`});if(K==="next"||K==="prev")return(0,Lt.createElement)(Wt,{to:ve,element:G});if(K==="jump-next"||K==="jump-prev"){let me=(ne=G==null?void 0:G.props)==null?void 0:ne.children;return(0,Lt.createElement)(Wt,{to:ve,element:Lt.Children.count(me)>1?(0,Lt.createElement)(Lt.Fragment,{},me):me})}return G},pageSize:F,current:v,simple:!D.sm,total:O==null?void 0:O.total,onChange:H,...E.pagination}:!1;return{searchFormProps:{form:R,onFinish:z},listProps:{...E,dataSource:O==null?void 0:O.data,loading:A==="auto"?Y:!U,pagination:V()},queryResult:B,filters:k,setFilters:I}},Mo=L(f("react")),ba=W(),mc=f("@ant-design/icons"),pc=()=>{let e=(0,ba.useMenu)(),t=(0,ba.useTranslate)(),{hasDashboard:r}=(0,ba.useRefineContext)();return Mo.default.useMemo(()=>({...e,menuItems:[...r?[{name:"Dashboard",icon:Mo.default.createElement(mc.DashboardOutlined,null),route:"/",key:"dashboard",label:t("dashboard.title","Dashboard"),children:[]}]:[],...e.menuItems],defaultOpenKeys:e.selectedKey.split("/").filter(a=>a!=="")}),[e])},Ca=f("react"),fc=()=>{let[e,t]=(0,Ca.useState)(!1),r=(0,Ca.useCallback)(a=>{vc(a.fileList).includes(!0)?t(!0):t(!1)},[]);return(0,Ca.useMemo)(()=>({isLoading:e,onChange:r}),[e])},vc=e=>e.map(t=>{switch(t.status){case"uploading":return!0;default:return!1}}),gc=W(),yc=({modalProps:e={}}={})=>{let{show:t,close:r,visible:a}=(0,gc.useModal)({defaultVisible:e.visible});return{modalProps:{...e,onCancel:n=>{var o;(o=e.onCancel)==null||o.call(e,n),r()},visible:a},show:t,close:r}},Ea=L(f("react")),Pa=f("antd"),Xt=L(f("react")),ka=f("antd"),hc=f("@ant-design/icons"),bc=({notificationKey:e,message:t,cancelMutation:r,undoableTimeout:a})=>Xt.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},Xt.default.createElement(ka.Progress,{type:"circle",percent:(a!=null?a:0)*20,format:n=>n&&n/20,width:50,strokeColor:"#1890ff",status:"normal"}),Xt.default.createElement("span",{style:{marginLeft:8,width:"100%"}},t),Xt.default.createElement(ka.Button,{style:{flexShrink:0},onClick:()=>{r==null||r(),ka.notification.close(e!=null?e:"")},disabled:a===0,icon:Xt.default.createElement(hc.UndoOutlined,null)})),Cc={open:({key:e,message:t,description:r,type:a,cancelMutation:n,undoableTimeout:o})=>{a==="progress"?Pa.notification.open({key:e,description:Ea.default.createElement(bc,{notificationKey:e,message:t,cancelMutation:n,undoableTimeout:o}),message:null,duration:0,closeIcon:Ea.default.createElement(Ea.default.Fragment,null)}):Pa.notification.open({key:e,description:t,message:r!=null?r:null,type:a})},close:e=>Pa.notification.close(e)},w=f("antd"),Ec=L(f("rc-picker/lib/generate/dayjs")),Pc=L(f("antd/lib/date-picker/generatePicker")),kc=(0,Pc.default)(Ec.default),tl=kc,Fc=L(f("rc-picker/lib/generate/dayjs")),Ic=L(f("antd/lib/calendar/generateCalendar")),xc=(0,Ic.default)(Fc.default),$c=xc,Oo=L(f("react")),rl=Oo.forwardRef((e,t)=>Oo.createElement(tl,{...e,picker:"time",mode:void 0,ref:t}));rl.displayName="TimePicker";var Sc=rl,wc=L(f("@ant-design/icons")),qc=L(f("@ant-design/icons")),nt=L(f("react")),Sr=f("antd"),le=L(f("react")),Ct=f("antd"),wr=f("@ant-design/icons"),Ge=W(),Nc={position:"relative"},Tc={position:"fixed",height:"100vh",zIndex:999},{SubMenu:Lc}=Ct.Menu,al=({render:e})=>{let[t,r]=(0,le.useState)(!1),a=(0,Ge.useIsExistAuthentication)(),{Link:n}=(0,Ge.useRouterContext)(),{mutate:o}=(0,Ge.useLogout)(),l=(0,Ge.useTitle)(),m=(0,Ge.useTranslate)(),{menuItems:p,selectedKey:c,defaultOpenKeys:b}=(0,Ge.useMenu)(),h=Ct.Grid.useBreakpoint(),{hasDashboard:u}=(0,Ge.useRefineContext)(),g=typeof h.lg>"u"?!1:!h.lg,y=l!=null?l:ol,i=(s,k)=>s.map(v=>{let{icon:F,label:I,route:x,name:$,children:T,parentName:B}=v;if(T.length>0)return le.default.createElement(Ge.CanAccess,{key:x,resource:$.toLowerCase(),action:"list",params:{resource:v}},le.default.createElement(Lc,{key:x,icon:F!=null?F:le.default.createElement(wr.UnorderedListOutlined,null),title:I},i(T,k)));let D=x===k,A=!(B!==void 0&&T.length===0);return le.default.createElement(Ge.CanAccess,{key:x,resource:$.toLowerCase(),action:"list",params:{resource:v}},le.default.createElement(Ct.Menu.Item,{key:x,style:{fontWeight:D?"bold":"normal"},icon:F!=null?F:A&&le.default.createElement(wr.UnorderedListOutlined,null)},le.default.createElement(n,{to:x},I),!t&&D&&le.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),P=a&&le.default.createElement(Ct.Menu.Item,{key:"logout",onClick:()=>o(),icon:le.default.createElement(wr.LogoutOutlined,null)},m("buttons.logout","Logout")),C=u?le.default.createElement(Ct.Menu.Item,{key:"dashboard",style:{fontWeight:c==="/"?"bold":"normal"},icon:le.default.createElement(wr.DashboardOutlined,null)},le.default.createElement(n,{to:"/"},m("dashboard.title","Dashboard")),!t&&c==="/"&&le.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,d=i(p,c),E=()=>e?e({dashboard:C,items:d,logout:P,collapsed:t}):le.default.createElement(le.default.Fragment,null,C,d,P);return le.default.createElement(Ct.Layout.Sider,{collapsible:!0,collapsed:t,onCollapse:s=>r(s),collapsedWidth:g?0:80,breakpoint:"lg",style:g?Tc:Nc},le.default.createElement(y,{collapsed:t}),le.default.createElement(Ct.Menu,{selectedKeys:[c],defaultOpenKeys:b,mode:"inline",onClick:()=>{h.lg||r(!0)}},E()))},qr=L(f("react")),Lr=f("antd"),Dc=W(),{Text:Ac}=Lr.Typography,nl=()=>{let{data:e}=(0,Dc.useGetIdentity)();return e&&(e.name||e.avatar)?qr.default.createElement(Lr.Layout.Header,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px",backgroundColor:"#FFF"}},qr.default.createElement(Lr.Space,null,e.name&&qr.default.createElement(Ac,{ellipsis:!0,strong:!0},e.name),e.avatar&&qr.default.createElement(Lr.Avatar,{size:"large",src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}))):null},Rc=({children:e,Header:t,Sider:r,Footer:a,OffLayoutArea:n})=>{let o=Sr.Grid.useBreakpoint(),l=r!=null?r:al,m=t!=null?t:nl,p=typeof o.sm>"u"?!0:o.sm;return nt.default.createElement(Sr.Layout,{style:{minHeight:"100vh",flexDirection:"row"}},nt.default.createElement(l,null),nt.default.createElement(Sr.Layout,null,nt.default.createElement(m,null),nt.default.createElement(Sr.Layout.Content,null,nt.default.createElement("div",{style:{padding:p?24:12,minHeight:360}},e),n&&nt.default.createElement(n,null)),a&&nt.default.createElement(a,null)))},Nr=L(f("react")),Mc=W(),ol=({collapsed:e})=>{let{Link:t}=(0,Mc.useRouterContext)();return Nr.default.createElement(t,{to:"/"},e?Nr.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},Nr.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{margin:"0 auto",padding:"12px 0",maxHeight:"65.5px"}})):Nr.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",style:{width:"200px",padding:"12px 24px"}}))},Fa=L(f("react")),Oc=f("antd"),Bc=f("@ant-design/icons"),Jt=W(),Qm=Oe(),ll=({resourceName:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,ignoreAccessControlProvider:n=!1,children:o,onClick:l,...m})=>{var p,c;let b=(p=a==null?void 0:a.enabled)!=null?p:!n,h=(c=a==null?void 0:a.hideIfUnauthorized)!=null?c:!1,u=(0,Jt.useTranslate)(),{Link:g}=(0,Jt.useRouterContext)(),{createUrl:y}=(0,Jt.useNavigation)(),{resourceName:i,resource:P}=(0,Jt.useResource)({resourceName:e,resourceNameOrRouteName:t}),{data:C}=(0,Jt.useCan)({resource:i,action:"create",queryOptions:{enabled:b},params:{resource:P}}),d=()=>C!=null&&C.can?"":C!=null&&C.reason?C.reason:u("buttons.notAccessTitle","You don't have permission to access"),E=y(e!=null?e:P.route);return b&&h&&!(C!=null&&C.can)?null:Fa.default.createElement(g,{to:E,replace:!1,onClick:s=>{if((C==null?void 0:C.can)===!1){s.preventDefault();return}l&&(s.preventDefault(),l(s))}},Fa.default.createElement(Oc.Button,{icon:Fa.default.createElement(Bc.PlusSquareOutlined,null),disabled:(C==null?void 0:C.can)===!1,title:d(),...m},!r&&(o!=null?o:u("buttons.create","Create"))))},Ia=L(f("react")),Wc=f("antd"),Uc=f("@ant-design/icons"),er=W(),Vm=Oe(),il=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,ignoreAccessControlProvider:o=!1,children:l,onClick:m,...p})=>{var c,b;let h=(c=n==null?void 0:n.enabled)!=null?c:!o,u=(b=n==null?void 0:n.hideIfUnauthorized)!=null?b:!1,g=(0,er.useTranslate)(),{editUrl:y}=(0,er.useNavigation)(),{Link:i}=(0,er.useRouterContext)(),{resourceName:P,id:C,resource:d}=(0,er.useResource)({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}),{data:E}=(0,er.useCan)({resource:P,action:"edit",params:{id:C,resource:d},queryOptions:{enabled:h}}),s=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:g("buttons.notAccessTitle","You don't have permission to access"),k=y(e!=null?e:d.route,C);return h&&u&&!(E!=null&&E.can)?null:Ia.default.createElement(i,{to:k,replace:!1,onClick:v=>{if((E==null?void 0:E.can)===!1){v.preventDefault();return}m&&(v.preventDefault(),m(v))}},Ia.default.createElement(Wc.Button,{icon:Ia.default.createElement(Uc.EditOutlined,null),disabled:(E==null?void 0:E.can)===!1,title:s(),...p},!a&&(l!=null?l:g("buttons.edit","Edit"))))},xa=L(f("react")),Bo=f("antd"),jc=f("@ant-design/icons"),tr=W(),Hm=Oe(),Ba=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:a,mutationMode:n,children:o,successNotification:l,errorNotification:m,hideText:p=!1,accessControl:c,ignoreAccessControlProvider:b=!1,metaData:h,dataProviderName:u,confirmTitle:g,confirmOkText:y,confirmCancelText:i,invalidates:P,...C})=>{var d,E;let s=(d=c==null?void 0:c.enabled)!=null?d:!b,k=(E=c==null?void 0:c.hideIfUnauthorized)!=null?E:!1,v=(0,tr.useTranslate)(),{resourceName:F,id:I,resource:x}=(0,tr.useResource)({resourceNameOrRouteName:t,resourceName:e,recordItemId:r}),{mutationMode:$}=(0,tr.useMutationMode)(),T=n!=null?n:$,{mutate:B,isLoading:D,variables:A}=(0,tr.useDelete)(),{data:R}=(0,tr.useCan)({resource:F,action:"delete",params:{id:I,resource:x},queryOptions:{enabled:s}});return s&&k&&!(R!=null&&R.can)?null:xa.default.createElement(Bo.Popconfirm,{key:"delete",okText:y!=null?y:v("buttons.delete","Delete"),cancelText:i!=null?i:v("buttons.cancel","Cancel"),okType:"danger",title:g!=null?g:v("buttons.confirm","Are you sure?"),okButtonProps:{disabled:D},onConfirm:()=>{B({id:I||"",resource:F,mutationMode:T,successNotification:l,errorNotification:m,metaData:h,dataProviderName:u,invalidates:P},{onSuccess:O=>{a&&a(O)}})},disabled:(R==null?void 0:R.can)===!1},xa.default.createElement(Bo.Button,{danger:!0,loading:I===(A==null?void 0:A.id)&&D,icon:xa.default.createElement(jc.DeleteOutlined,null),disabled:(R==null?void 0:R.can)===!1,...C},!p&&(o!=null?o:v("buttons.delete","Delete"))))},Wo=L(f("react")),zc=f("antd"),Qc=f("@ant-design/icons"),$a=W(),Km=Oe(),Wa=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,metaData:n,dataProviderName:o,children:l,onClick:m,...p})=>{let c=(0,$a.useTranslate)(),{resourceName:b,id:h}=(0,$a.useResource)({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}),{refetch:u,isFetching:g}=(0,$a.useOne)({resource:b,id:h!=null?h:"",queryOptions:{enabled:!1},metaData:n,liveMode:"off",dataProviderName:o});return Wo.default.createElement(zc.Button,{onClick:y=>m?m(y):u(),icon:Wo.default.createElement(Qc.RedoOutlined,{spin:g}),...p},!a&&(l!=null?l:c("buttons.refresh","Refresh")))},Sa=L(f("react")),Vc=f("antd"),Hc=f("@ant-design/icons"),rr=W(),_m=Oe(),Kc=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,ignoreAccessControlProvider:o=!1,children:l,onClick:m,...p})=>{var c,b;let h=(c=n==null?void 0:n.enabled)!=null?c:!o,u=(b=n==null?void 0:n.hideIfUnauthorized)!=null?b:!1,{showUrl:g}=(0,rr.useNavigation)(),{Link:y}=(0,rr.useRouterContext)(),i=(0,rr.useTranslate)(),{resourceName:P,id:C,resource:d}=(0,rr.useResource)({resourceName:e,resourceNameOrRouteName:t,recordItemId:r}),{data:E}=(0,rr.useCan)({resource:P,action:"show",params:{id:C,resource:d},queryOptions:{enabled:h}}),s=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:i("buttons.notAccessTitle","You don't have permission to access"),k=g(e!=null?e:d.route,C);return h&&u&&!(E!=null&&E.can)?null:Sa.default.createElement(y,{to:k,replace:!1,onClick:v=>{if((E==null?void 0:E.can)===!1){v.preventDefault();return}m&&(v.preventDefault(),m(v))}},Sa.default.createElement(Vc.Button,{icon:Sa.default.createElement(Hc.EyeOutlined,null),disabled:(E==null?void 0:E.can)===!1,title:s(),...p},!a&&(l!=null?l:i("buttons.show","Show"))))},wa=L(f("react")),_c=f("antd"),Gc=f("@ant-design/icons"),Dt=W(),Gm=Oe(),Ua=({resourceName:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,ignoreAccessControlProvider:n=!1,children:o,onClick:l,...m})=>{var p,c,b;let h=(p=a==null?void 0:a.enabled)!=null?p:!n,u=(c=a==null?void 0:a.hideIfUnauthorized)!=null?c:!1,{listUrl:g}=(0,Dt.useNavigation)(),{Link:y}=(0,Dt.useRouterContext)(),i=(0,Dt.useTranslate)(),{resourceName:P,resource:C}=(0,Dt.useResource)({resourceName:e,resourceNameOrRouteName:t}),{data:d}=(0,Dt.useCan)({resource:P,action:"list",queryOptions:{enabled:h},params:{resource:C}}),E=()=>d!=null&&d.can?"":d!=null&&d.reason?d.reason:i("buttons.notAccessTitle","You don't have permission to access"),s=g(e!=null?e:C.route);return h&&u&&!(d!=null&&d.can)?null:wa.default.createElement(y,{to:s,replace:!1,onClick:k=>{if((d==null?void 0:d.can)===!1){k.preventDefault();return}l&&(k.preventDefault(),l(k))}},wa.default.createElement(_c.Button,{icon:wa.default.createElement(Gc.BarsOutlined,null),disabled:(d==null?void 0:d.can)===!1,title:E(),...m},!r&&(o!=null?o:i(`${P}.titles.list`,(0,Dt.userFriendlyResourceName)((b=C.label)!=null?b:P,"plural")))))},Uo=L(f("react")),Yc=f("antd"),Zc=f("@ant-design/icons"),Xc=W(),Ym=Oe(),Jc=({hideText:e=!1,children:t,...r})=>{let a=(0,Xc.useTranslate)();return Uo.default.createElement(Yc.Button,{type:"default",icon:Uo.default.createElement(Zc.ExportOutlined,null),...r},!e&&(t!=null?t:a("buttons.export","Export")))},jo=L(f("react")),ed=f("antd"),td=f("@ant-design/icons"),rd=W(),Zm=Oe(),ja=({hideText:e=!1,children:t,...r})=>{let a=(0,rd.useTranslate)();return jo.default.createElement(ed.Button,{type:"primary",icon:jo.default.createElement(td.SaveOutlined,null),...r},!e&&(t!=null?t:a("buttons.save","Save")))},qa=L(f("react")),ad=f("antd"),nd=f("@ant-design/icons"),ar=W(),Xm=Oe(),od=({resourceName:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,ignoreAccessControlProvider:o=!1,children:l,onClick:m,...p})=>{var c,b;let h=(c=n==null?void 0:n.enabled)!=null?c:!o,u=(b=n==null?void 0:n.hideIfUnauthorized)!=null?b:!1,{cloneUrl:g}=(0,ar.useNavigation)(),{Link:y}=(0,ar.useRouterContext)(),i=(0,ar.useTranslate)(),{id:P,resourceName:C,resource:d}=(0,ar.useResource)({resourceNameOrRouteName:t,recordItemId:r,resourceName:e}),{data:E}=(0,ar.useCan)({resource:C,action:"create",params:{id:P,resource:d},queryOptions:{enabled:h}}),s=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:i("buttons.notAccessTitle","You don't have permission to access"),k=g(e!=null?e:d.route,P);return h&&u&&!(E!=null&&E.can)?null:qa.default.createElement(y,{to:k,replace:!1,onClick:v=>{if((E==null?void 0:E.can)===!1){v.preventDefault();return}m&&(v.preventDefault(),m(v))}},qa.default.createElement(ad.Button,{icon:qa.default.createElement(nd.PlusSquareOutlined,null),disabled:(E==null?void 0:E.can)===!1,title:s(),...p},!a&&(l!=null?l:i("buttons.clone","Clone"))))},Na=L(f("react")),zo=f("antd"),ld=f("@ant-design/icons"),id=W(),Jm=Oe(),sd=({uploadProps:e,buttonProps:t,hideText:r=!1,children:a})=>{let n=(0,id.useTranslate)();return Na.default.createElement(zo.Upload,{...e},Na.default.createElement(zo.Button,{icon:Na.default.createElement(ld.ImportOutlined,null),...t},!r&&(a!=null?a:n("buttons.import","Import"))))},ot=L(f("react")),Qo=f("antd"),nr=W(),ud=({canCreate:e,title:t,children:r,createButtonProps:a,pageHeaderProps:n,resource:o,wrapperProps:l,contentProps:m,headerProps:p,breadcrumb:c,headerButtonProps:b,headerButtons:h})=>{var u,g;let{useParams:y}=(0,nr.useRouterContext)(),{resource:i}=y(),P=(0,nr.useTranslate)(),C=(0,nr.useResourceWithRoute)()(o!=null?o:i),d=e!=null?e:C.canCreate||a,{options:E}=(0,nr.useRefineContext)(),s=typeof c>"u"?E==null?void 0:E.breadcrumb:c,k=d?ot.default.createElement(ll,{size:"middle",resourceNameOrRouteName:C.route,...a}):null;return ot.default.createElement("div",{...l!=null?l:{}},ot.default.createElement(Qo.PageHeader,{ghost:!1,title:t!=null?t:P(`${C.name}.titles.list`,(0,nr.userFriendlyResourceName)((u=C.label)!=null?u:C.name,"plural")),extra:h?ot.default.createElement(Qo.Space,{wrap:!0,...b},typeof h=="function"?h({defaultButtons:k}):h):k,breadcrumb:typeof s<"u"?(g=ot.default.createElement(ot.default.Fragment,null,s))!=null?g:void 0:ot.default.createElement(cr,null),...n!=null?n:{},...p!=null?p:{}},ot.default.createElement("div",{...m!=null?m:{}},r)))},Te=L(f("react")),or=f("antd"),At=W(),cd=({title:e,actionButtons:t,saveButtonProps:r,children:a,pageHeaderProps:n,resource:o,isLoading:l=!1,breadcrumb:m,wrapperProps:p,headerProps:c,contentProps:b,headerButtonProps:h,headerButtons:u,footerButtonProps:g,footerButtons:y,goBack:i})=>{var P,C;let{goBack:d}=(0,At.useNavigation)(),E=(0,At.useTranslate)(),{useParams:s}=(0,At.useRouterContext)(),{resource:k,action:v}=s(),F=(0,At.useResourceWithRoute)()(o!=null?o:k),{options:I}=(0,At.useRefineContext)(),x=typeof m>"u"?I==null?void 0:I.breadcrumb:m,$=Te.default.createElement(Te.default.Fragment,null,t!=null?t:Te.default.createElement(ja,{...l?{disabled:!0}:{},...r,htmlType:"submit"}));return Te.default.createElement("div",{...p!=null?p:{}},Te.default.createElement(or.PageHeader,{ghost:!1,backIcon:i,onBack:v?d:void 0,title:e!=null?e:E(`${F.name}.titles.create`,`Create ${(0,At.userFriendlyResourceName)((P=F.label)!=null?P:F.name,"singular")}`),breadcrumb:typeof x<"u"?(C=Te.default.createElement(Te.default.Fragment,null,x))!=null?C:void 0:Te.default.createElement(cr,null),extra:Te.default.createElement(or.Space,{wrap:!0,...h!=null?h:{}},u?typeof u=="function"?u({defaultButtons:null}):u:null),...n!=null?n:{},...c!=null?c:{}},Te.default.createElement(or.Spin,{spinning:l},Te.default.createElement(or.Card,{bordered:!1,actions:[Te.default.createElement(or.Space,{key:"action-buttons",style:{float:"right",marginRight:24},...g!=null?g:{}},y?typeof y=="function"?y({defaultButtons:$}):y:$)],...b!=null?b:{}},a))))},pe=L(f("react")),lr=f("antd"),ht=W(),dd=({title:e,actionButtons:t,saveButtonProps:r,mutationMode:a,recordItemId:n,children:o,deleteButtonProps:l,pageHeaderProps:m,canDelete:p,resource:c,isLoading:b=!1,dataProviderName:h,breadcrumb:u,wrapperProps:g,headerProps:y,contentProps:i,headerButtonProps:P,headerButtons:C,footerButtonProps:d,footerButtons:E,goBack:s})=>{var k,v;let F=(0,ht.useTranslate)(),{goBack:I,list:x}=(0,ht.useNavigation)(),$=(0,ht.useResourceWithRoute)(),{mutationMode:T}=(0,ht.useMutationMode)(),B=a!=null?a:T,{useParams:D}=(0,ht.useRouterContext)(),{resource:A,action:R,id:O}=D(),U=$(c!=null?c:A),Y=p!=null?p:U.canDelete||l,{options:H}=(0,ht.useRefineContext)(),z=typeof u>"u"?H==null?void 0:H.breadcrumb:u,V=n!=null?n:O,j=pe.default.createElement(pe.default.Fragment,null,!n&&pe.default.createElement(Ua,{...b?{disabled:!0}:{},resourceNameOrRouteName:U.route}),pe.default.createElement(Wa,{...b?{disabled:!0}:{},resourceNameOrRouteName:U.route,recordItemId:V,dataProviderName:h})),K=pe.default.createElement(pe.default.Fragment,null,Y&&pe.default.createElement(Ba,{...b?{disabled:!0}:{},mutationMode:B,onSuccess:()=>{var G;x((G=U.route)!=null?G:U.name)},dataProviderName:h,...l}),pe.default.createElement(ja,{...b?{disabled:!0}:{},...r}));return pe.default.createElement("div",{...g!=null?g:{}},pe.default.createElement(lr.PageHeader,{ghost:!1,backIcon:s,onBack:R?I:void 0,title:e!=null?e:F(`${U.name}.titles.edit`,`Edit ${(0,ht.userFriendlyResourceName)((k=U.label)!=null?k:U.name,"singular")}`),extra:pe.default.createElement(lr.Space,{wrap:!0,...P!=null?P:{}},C?typeof C=="function"?C({defaultButtons:j}):C:j),breadcrumb:typeof z<"u"?(v=pe.default.createElement(pe.default.Fragment,null,z))!=null?v:void 0:pe.default.createElement(cr,null),...m!=null?m:{},...y!=null?y:{}},pe.default.createElement(lr.Spin,{spinning:b},pe.default.createElement(lr.Card,{bordered:!1,actions:[pe.default.createElement(lr.Space,{key:"footer-buttons",wrap:!0,style:{float:"right",marginRight:24},...d!=null?d:{}},E?typeof E=="function"?E({defaultButtons:K}):E:t||K)],...i!=null?i:{}},o))))},ye=L(f("react")),ir=f("antd"),Rt=W(),md=({title:e,canEdit:t,canDelete:r,actionButtons:a,isLoading:n=!1,children:o,pageHeaderProps:l,resource:m,recordItemId:p,dataProviderName:c,breadcrumb:b,contentProps:h,headerProps:u,wrapperProps:g,headerButtons:y,footerButtons:i,footerButtonProps:P,headerButtonProps:C,goBack:d})=>{var E,s;let k=(0,Rt.useTranslate)(),{goBack:v,list:F}=(0,Rt.useNavigation)(),I=(0,Rt.useResourceWithRoute)(),{useParams:x}=(0,Rt.useRouterContext)(),{resource:$,action:T,id:B}=x(),D=I(m!=null?m:$),A=r!=null?r:D.canDelete,R=t!=null?t:D.canEdit,{options:O}=(0,Rt.useRefineContext)(),U=typeof b>"u"?O==null?void 0:O.breadcrumb:b,Y=p!=null?p:B,H=ye.default.createElement(ye.default.Fragment,null,!p&&ye.default.createElement(Ua,{resourceNameOrRouteName:D.route}),R&&ye.default.createElement(il,{...n?{disabled:!0}:{},resourceNameOrRouteName:D.route,recordItemId:Y}),A&&ye.default.createElement(Ba,{...n?{disabled:!0}:{},resourceNameOrRouteName:D.route,recordItemId:Y,onSuccess:()=>{var z;return F((z=D.route)!=null?z:D.name)},dataProviderName:c}),ye.default.createElement(Wa,{...n?{disabled:!0}:{},resourceNameOrRouteName:D.route,recordItemId:Y,dataProviderName:c}));return ye.default.createElement("div",{...g!=null?g:{}},ye.default.createElement(ir.PageHeader,{ghost:!1,backIcon:d,onBack:T?v:void 0,title:e!=null?e:k(`${D.name}.titles.show`,`Show ${(0,Rt.userFriendlyResourceName)((E=D.label)!=null?E:D.name,"singular")}`),extra:ye.default.createElement(ir.Space,{key:"extra-buttons",wrap:!0,...C!=null?C:{}},y?typeof y=="function"?y({defaultButtons:H}):y:H),breadcrumb:typeof U<"u"?(s=ye.default.createElement(ye.default.Fragment,null,U))!=null?s:void 0:ye.default.createElement(cr,null),...l!=null?l:{},...u!=null?u:{}},ye.default.createElement(ir.Spin,{spinning:n},ye.default.createElement(ir.Card,{bordered:!1,actions:i?[ye.default.createElement(ir.Space,{key:"footer-buttons",wrap:!0,...P},typeof i=="function"?i({defaultButtons:null}):i)]:a?[a]:void 0,...h!=null?h:{}},o))))},pd=L(f("react")),fd=f("antd"),{Text:vd}=fd.Typography,gd=({value:e,...t})=>pd.default.createElement(vd,{...t},e),yd=L(f("react")),hd=f("antd"),bd=({value:e,...t})=>yd.default.createElement(hd.Tag,{...t},e==null?void 0:e.toString()),Cd=L(f("react")),Ed=f("antd"),{Link:Pd}=Ed.Typography,kd=({value:e,...t})=>Cd.default.createElement(Pd,{href:`mailto:${e}`,...t},e),Fd=L(f("react")),Id=f("antd"),xd=({value:e,imageTitle:t,...r})=>Fd.default.createElement(Id.Image,{...r,src:e,title:t}),sr=L(f("react")),$d=f("antd"),Vo=f("@ant-design/icons"),Sd=({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:a=sr.default.createElement(Vo.CheckOutlined,null),falseIcon:n=sr.default.createElement(Vo.CloseOutlined,null),...o})=>sr.default.createElement($d.Tooltip,{title:e?t:r,...o},e?sr.default.createElement("span",null,a):sr.default.createElement("span",null,n)),wd=L(f("react")),za=L(f("dayjs")),qd=f("antd"),Nd=L(f("dayjs/plugin/localizedFormat"));za.default.extend(Nd.default);var Td=za.default.locale(),Ld=({value:e,locales:t,format:r="L",...a})=>{let{Text:n}=qd.Typography;return wd.default.createElement(n,{...a},(0,za.default)(e).locale(t||Td).format(r))},Dd=L(f("react")),Ad=({title:e,src:t,...r})=>Dd.default.createElement(sl,{value:t,title:e,...r},e!=null?e:t),Rd=L(f("react")),Md=f("antd"),{Link:Od}=Md.Typography,sl=({children:e,value:t,...r})=>Rd.default.createElement(Od,{href:t,...r},e!=null?e:t),Bd=L(f("react")),Wd=f("antd"),{Text:Ud}=Wd.Typography;function jd(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var zd=({value:e,locale:t,options:r,...a})=>{let n=parseFloat(e.toString());return Bd.default.createElement(Ud,{...a},jd()?n.toLocaleString(t,r):n)},Qd=L(f("react")),Vd=L(f("react-markdown")),Hd=L(f("remark-gfm")),Kd=({value:e=""})=>Qd.default.createElement(Vd.default,{plugins:[Hd.default]},e),Qe=L(f("react")),Ta=f("antd"),Ho=L(f("dayjs")),_d=f("@ant-design/icons"),Gd=W(),Yd=e=>{let{setSelectedKeys:t,confirm:r,clearFilters:a,mapValue:n,selectedKeys:o,children:l}=e,[m,p]=(0,Qe.useState)(o),c=(0,Gd.useTranslate)(),b=()=>{a&&(p([]),a())},h=()=>{let i=u(m);t(Ho.default.isDayjs(i)?[i.toISOString()]:i),r==null||r()},u=i=>n?n(i):i,g=i=>{if(typeof i=="object"){if(Array.isArray(i)){let s=u(i);return p(s),t(s)}let C=!i||!i.target||Ho.default.isDayjs(i)?{target:{value:i}}:i,{target:d}=C,E=u(d.value);p(E);return}let P=u(i);p(P)},y=Qe.default.Children.map(l,i=>Qe.default.isValidElement(i)?Qe.default.cloneElement(i,{onChange:g,value:u(m)}):i);return Qe.default.createElement("div",{style:{padding:10,display:"flex",flexDirection:"column",alignItems:"flex-end"}},Qe.default.createElement("div",{style:{marginBottom:15}},y),Qe.default.createElement(Ta.Space,null,Qe.default.createElement(Ta.Button,{type:"primary",size:"small",onClick:()=>h()},Qe.default.createElement(_d.FilterOutlined,null)," ",c("buttons.filter","Filter")),Qe.default.createElement(Ta.Button,{danger:!0,size:"small",onClick:()=>b()},c("buttons.clear","Clear"))))},Ye=L(f("react")),Bt=f("antd"),Zd=f("@ant-design/icons"),Tr=W(),{Text:Xd}=Bt.Typography,Jd=()=>{let[e,t]=(0,Ye.useState)(),{push:r}=(0,Tr.useNavigation)(),a=(0,Tr.useTranslate)(),n=["edit","create","show"],{useParams:o}=(0,Tr.useRouterContext)(),l=o(),m=(0,Tr.useResourceWithRoute)();return(0,Ye.useEffect)(()=>{if(l.resource){let p=m(l.resource);l.action&&n.includes(l.action)&&!p[l.action]&&t(a("pages.error.info",{action:l.action,resource:l.resource},`You may have forgotten to add the "${l.action}" component to "${l.resource}" resource.`))}},[l]),Ye.default.createElement(Bt.Result,{status:"404",title:"404",extra:Ye.default.createElement(Bt.Space,{direction:"vertical",size:"large"},Ye.default.createElement(Bt.Space,null,Ye.default.createElement(Xd,null,a("pages.error.404","Sorry, the page you visited does not exist.")),e&&Ye.default.createElement(Bt.Tooltip,{title:e},Ye.default.createElement(Zd.InfoCircleOutlined,{}))),Ye.default.createElement(Bt.Button,{type:"primary",onClick:()=>r("/")},a("pages.error.backHome","Back Home")))})},re=L(f("react")),Ee=f("antd"),Ko=W(),em={background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"},tm={maxWidth:"408px",margin:"auto"},rm={textAlign:"center",color:"#626262",fontSize:"30px",letterSpacing:"-0.04em"},am={display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"28px"},{Text:nm,Title:om}=Ee.Typography,lm=()=>{let[e]=Ee.Form.useForm(),t=(0,Ko.useTranslate)(),{mutate:r,isLoading:a}=(0,Ko.useLogin)(),n=re.default.createElement(om,{level:3,style:rm},t("pages.login.title","Sign in your account"));return re.default.createElement(Ee.Layout,{style:em},re.default.createElement(Ee.Row,{justify:"center",align:"middle",style:{height:"100vh"}},re.default.createElement(Ee.Col,{xs:22},re.default.createElement("div",{style:tm},re.default.createElement("div",{style:am},re.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),re.default.createElement(Ee.Card,{title:n,headStyle:{borderBottom:0}},re.default.createElement(Ee.Form,{layout:"vertical",form:e,onFinish:o=>{r(o)},requiredMark:!1,initialValues:{remember:!1}},re.default.createElement(Ee.Form.Item,{name:"username",label:t("pages.login.username","Username"),rules:[{required:!0}]},re.default.createElement(Ee.Input,{size:"large",placeholder:t("pages.login.username","Username")})),re.default.createElement(Ee.Form.Item,{name:"password",label:t("pages.login.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},re.default.createElement(Ee.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),re.default.createElement("div",{style:{marginBottom:"12px"}},re.default.createElement(Ee.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},re.default.createElement(Ee.Checkbox,{style:{fontSize:"12px"}},t("pages.login.remember","Remember me"))),re.default.createElement("a",{style:{float:"right",fontSize:"12px"},href:"#"},t("pages.login.forgotPassword","Forgot password?"))),re.default.createElement(Ee.Button,{type:"primary",size:"large",htmlType:"submit",loading:a,block:!0},t("pages.login.signin","Sign in"))),re.default.createElement("div",{style:{marginTop:8}},re.default.createElement(nm,{style:{fontSize:12}},t("pages.login.noAccount","Don\u2019t have an account?")," ",re.default.createElement("a",{href:"#",style:{fontWeight:"bold"}},t("pages.login.signup","Sign up")))))))))},de=L(f("react")),Et=f("antd"),La=f("@ant-design/icons"),Mt={root:{height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover",backgroundColor:"#331049"},title:{color:"white",fontWeight:800,fontSize:"64px",marginBottom:"8px"},p1:{color:"white",marginBottom:0,fontSize:"20px",fontWeight:"bold"},p2:{color:"white",fontSize:"20px"},code:{backgroundColor:"white",color:"#331049"}},{Title:im}=Et.Typography,sm=()=>de.createElement(Et.Row,{align:"middle",justify:"center",style:Mt.root},de.createElement(Et.Col,{style:{textAlign:"center"}},de.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),de.createElement(im,{style:Mt.title},"Welcome on board"),de.createElement("p",{style:Mt.p1},"Your configuration is completed."),de.createElement("p",{style:Mt.p2},"Now you can get started by adding your resources to the"," ",de.createElement("code",{style:Mt.code},"resources")," property of"," ",de.createElement("code",{style:Mt.code},"<Refine>")),de.createElement(Et.Space,{size:"large",wrap:!0,style:{marginTop:"70px",justifyContent:"center"}},de.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},de.createElement(Et.Button,{size:"large",icon:de.createElement(La.ReadOutlined,null)},"Documentation")),de.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},de.createElement(Et.Button,{size:"large",icon:de.createElement(La.FolderOutlined,null)},"Examples")),de.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},de.createElement(Et.Button,{size:"large",icon:de.createElement(La.TeamOutlined,null)},"Community"))))),Ot=L(f("react")),X=L(f("react")),fe=f("antd"),Da=W(),Ar={background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover"},Rr={maxWidth:"408px",margin:"auto"},Mr={textAlign:"center",color:"#626262",fontSize:"24px",letterSpacing:"-0.04em",overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"},{Text:um,Title:cm}=fe.Typography,dm=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:m})=>{let[p]=fe.Form.useForm(),c=(0,Da.useTranslate)(),{Link:b}=(0,Da.useRouterContext)(),{mutate:h,isLoading:u}=(0,Da.useLogin)(),g=X.default.createElement(cm,{level:3,style:Mr},c("pages.login.title","Sign in to your account")),y=()=>e&&e.length>0?X.default.createElement(X.default.Fragment,null,e.map(P=>X.default.createElement(fe.Button,{key:P.name,type:"ghost",block:!0,icon:P.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>h({providerName:P.name})},P.label)),X.default.createElement(fe.Divider,null,c("pages.login.divider","or"))):null,i=X.default.createElement(fe.Card,{title:g,headStyle:{borderBottom:0},style:Rr,...n!=null?n:{}},y(),X.default.createElement(fe.Form,{layout:"vertical",form:p,onFinish:P=>h(P),requiredMark:!1,initialValues:{remember:!1},...m},X.default.createElement(fe.Form.Item,{name:"email",label:c("pages.login.fields.email","Email"),rules:[{required:!0},{type:"email",message:c("pages.login.errors.validEmail","Invalid email address")}]},X.default.createElement(fe.Input,{size:"large",placeholder:c("pages.login.fields.email","Email")})),X.default.createElement(fe.Form.Item,{name:"password",label:c("pages.login.fields.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},X.default.createElement(fe.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),X.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},a!=null?a:X.default.createElement(fe.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},X.default.createElement(fe.Checkbox,{style:{fontSize:"12px"}},c("pages.login.buttons.rememberMe","Remember me"))),r!=null?r:X.default.createElement(b,{style:{fontSize:"12px",marginLeft:"auto"},to:"/forgot-password"},c("pages.login.buttons.forgotPassword","Forgot password?"))),X.default.createElement(fe.Form.Item,null,X.default.createElement(fe.Button,{type:"primary",size:"large",htmlType:"submit",loading:u,block:!0},c("pages.login.signin","Sign in")))),X.default.createElement("div",{style:{marginTop:8}},t!=null?t:X.default.createElement(um,{style:{fontSize:12}},c("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",X.default.createElement(b,{to:"/register",style:{fontWeight:"bold"}},c("pages.login.signup","Sign up")))));return X.default.createElement(fe.Layout,{style:Ar,...o!=null?o:{}},X.default.createElement(fe.Row,{justify:"center",align:"middle",style:{height:"100vh"}},X.default.createElement(fe.Col,{xs:22},l?l(i):i)))},ue=L(f("react")),he=f("antd"),Aa=W(),{Text:mm,Title:pm}=he.Typography,fm=({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o})=>{let[l]=he.Form.useForm(),m=(0,Aa.useTranslate)(),{Link:p}=(0,Aa.useRouterContext)(),{mutate:c,isLoading:b}=(0,Aa.useRegister)(),h=ue.default.createElement(pm,{level:3,style:Mr},m("pages.register.title","Sign up for your account")),u=()=>e&&e.length>0?ue.default.createElement(ue.default.Fragment,null,e.map(y=>ue.default.createElement(he.Button,{key:y.name,type:"ghost",block:!0,icon:y.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>c({providerName:y.name})},y.label)),ue.default.createElement(he.Divider,null,m("pages.login.divider","or"))):null,g=ue.default.createElement(he.Card,{title:h,headStyle:{borderBottom:0},style:Rr,...a!=null?a:{}},u(),ue.default.createElement(he.Form,{layout:"vertical",form:l,onFinish:y=>c(y),requiredMark:!1,...o},ue.default.createElement(he.Form.Item,{name:"email",label:m("pages.register.email","Email"),rules:[{required:!0},{type:"email",message:m("pages.register.errors.validEmail","Invalid email address")}]},ue.default.createElement(he.Input,{size:"large",placeholder:m("pages.register.fields.email","Email")})),ue.default.createElement(he.Form.Item,{name:"password",label:m("pages.register.fields.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},ue.default.createElement(he.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),ue.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},t!=null?t:ue.default.createElement(mm,{style:{fontSize:12,marginLeft:"auto"}},m("pages.login.buttons.haveAccount","Have an account?")," ",ue.default.createElement(p,{style:{fontWeight:"bold"},to:"/login"},m("pages.login.signin","Sign in")))),ue.default.createElement(he.Form.Item,null,ue.default.createElement(he.Button,{type:"primary",size:"large",htmlType:"submit",loading:b,block:!0},m("pages.register.buttons.submit","Sign up")))));return ue.default.createElement(he.Layout,{style:Ar,...r!=null?r:{}},ue.default.createElement(he.Row,{justify:"center",align:"middle",style:{height:"100vh"}},ue.default.createElement(he.Col,{xs:22},n?n(g):g)))},$e=L(f("react")),Be=f("antd"),Ra=W(),{Text:vm,Title:gm}=Be.Typography,ym=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n})=>{let[o]=Be.Form.useForm(),l=(0,Ra.useTranslate)(),{Link:m}=(0,Ra.useRouterContext)(),{mutate:p,isLoading:c}=(0,Ra.useForgotPassword)(),b=$e.default.createElement(gm,{level:3,style:Mr},l("pages.forgotPassword.title","Forgot your password?")),h=$e.default.createElement(Be.Card,{title:b,headStyle:{borderBottom:0},style:Rr,...r!=null?r:{}},$e.default.createElement(Be.Form,{layout:"vertical",form:o,onFinish:u=>p(u),requiredMark:!1,...n},$e.default.createElement(Be.Form.Item,{name:"email",label:l("pages.forgotPassword.fields.email","Email"),rules:[{required:!0},{type:"email",message:l("pages.forgotPassword.errors.validEmail","Invalid email address")}]},$e.default.createElement(Be.Input,{type:"email",size:"large",placeholder:l("pages.forgotPassword.fields.email","Email")})),$e.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},e!=null?e:$e.default.createElement(vm,{style:{fontSize:12,marginLeft:"auto"}},l("pages.register.buttons.haveAccount","Have an account? ")," ",$e.default.createElement(m,{style:{fontWeight:"bold"},to:"/login"},l("pages.login.signin","Sign in")))),$e.default.createElement(Be.Form.Item,null,$e.default.createElement(Be.Button,{type:"primary",size:"large",htmlType:"submit",loading:c,block:!0},l("pages.forgotPassword.buttons.submit","Send reset instructions")))));return $e.default.createElement(Be.Layout,{style:Ar,...t!=null?t:{}},$e.default.createElement(Be.Row,{justify:"center",align:"middle",style:{height:"100vh"}},$e.default.createElement(Be.Col,{xs:22},a?a(h):h)))},Le=L(f("react")),Se=f("antd"),_o=W(),{Title:hm}=Se.Typography,bm=({wrapperProps:e,contentProps:t,renderContent:r,formProps:a})=>{let[n]=Se.Form.useForm(),o=(0,_o.useTranslate)(),{mutate:l,isLoading:m}=(0,_o.useUpdatePassword)(),p=Le.default.createElement(hm,{level:3,style:Mr},o("pages.updatePassword.title","Set New Password")),c=Le.default.createElement(Se.Card,{title:p,headStyle:{borderBottom:0},style:Rr,...t!=null?t:{}},Le.default.createElement(Se.Form,{layout:"vertical",form:n,onFinish:b=>l(b),requiredMark:!1,...a},Le.default.createElement(Se.Form.Item,{name:"password",label:o("pages.updatePassword.fields.password","New Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},Le.default.createElement(Se.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Le.default.createElement(Se.Form.Item,{name:"confirmPassword",label:o("pages.updatePassword.fields.confirmPassword","Confirm New Password"),hasFeedback:!0,dependencies:["password"],rules:[{required:!0},({getFieldValue:b})=>({validator(h,u){return!u||b("password")===u?Promise.resolve():Promise.reject(new Error(o("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")))}})],style:{marginBottom:"12px"}},Le.default.createElement(Se.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Le.default.createElement(Se.Form.Item,null,Le.default.createElement(Se.Button,{type:"primary",size:"large",htmlType:"submit",loading:m,block:!0},o("pages.updatePassword.buttons.submit","Update")))));return Le.default.createElement(Se.Layout,{style:Ar,...e!=null?e:{}},Le.default.createElement(Se.Row,{justify:"center",align:"middle",style:{height:"100vh"}},Le.default.createElement(Se.Col,{xs:22},r?r(c):c)))},Cm=e=>{let{type:t}=e;return Ot.default.createElement(Ot.default.Fragment,null,(()=>{switch(t){case"register":return Ot.default.createElement(fm,{...e});case"forgotPassword":return Ot.default.createElement(ym,{...e});case"updatePassword":return Ot.default.createElement(bm,{...e});default:return Ot.default.createElement(dm,{...e})}})())},bt=L(f("react")),Ma=W(),Oa=f("antd"),Em=f("@ant-design/icons"),cr=({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1})=>{let{breadcrumbs:a}=(0,Ma.useBreadcrumb)(),{Link:n}=(0,Ma.useRouterContext)(),{hasDashboard:o}=(0,Ma.useRefineContext)();return a.length===1?null:bt.default.createElement(Oa.Breadcrumb,{...e},t&&o&&bt.default.createElement(Oa.Breadcrumb.Item,null,bt.default.createElement(n,{to:"/"},bt.default.createElement(Em.HomeOutlined,null))),a.map(({label:l,icon:m,href:p})=>bt.default.createElement(Oa.Breadcrumb.Item,{key:l},!r&&m,p?bt.default.createElement(n,{to:p},l):bt.default.createElement("span",null,l))))},Pm=e=>{let{fileList:t}=e;return[...t]}});var pr=Q(f("react")),Ul=Q(W());var Mm=Q(lt());var Ue=Q(f("react")),dn=Q(W());var km=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,Qa=(e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];km.test(e)&&r.unshift("url");let a=r.find(n=>n in t&&!!t[n]);if(a)return a==="firstName"&&"lastName"in t?["firstName","lastName"]:a};function Va(e,t,r){var n;if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e);return(n=a==null?void 0:a.options)!=null&&n.dataProviderName?a.options.dataProviderName:"default"}var dr=e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName};var Ha=e=>{let t=[...e].filter(Boolean).sort((r,a)=>(a.priority||0)-(r.priority||0))[0];return t||null};var cl=Q(f("prettier/standalone")),dl=Q(f("prettier/parser-typescript")),Ka=e=>{try{return cl.default.format(e,{parser:"typescript",plugins:[dl.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}};var _a=e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`);var Ga=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,ml=(e,t)=>{let r=Ga.test(e),a=typeof t=="string"||typeof t=="number",n=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&a||r&&n?{key:e,relation:!0,multiple:!!n,type:"relation",priority:1}:!1};var we=e=>e.replace(Ga,"");var M=e=>we(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ");var Ya=e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(n=>!n.trim().startsWith("export default")).join(`
`);var pl=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,Fm=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,Im=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,Za=(e,t={})=>{let r=e.matchAll(pl),a=new Set;for(let n of r){let[,o,l,m,p]=n;if(p in t){let c=t[p];if(p==="react")continue;o&&a.add(`const { default: ${o} } = ${c};`),l&&a.add(`const${l.replace(Im,"$1: $3$4")} = ${c};`),m&&a.add(`const ${m} = ${c};`)}}return _a(`
    ${Array.from(a).join(`
`)}
    ${e.replace(pl,"").replace(Fm,"")}
    `)};var mr=Q(f("pluralize"));var Xa=(e,t)=>e?t.find(a=>{let n=we(e.key);return a.name===n||a.name===(mr.default.isPlural(n)?n:mr.default.plural(n))||a.name===(mr.default.isSingular(n)?n:mr.default.singular(n))}):void 0;var fl=Q(f("pluralize"));var We=(e,t)=>{let r=e.replace(/[^a-zA-Z0-9]/g," "),a=fl.default.singular(r),n=M(a).replace(/ /g,""),o=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(e)?`${n}${o}`:`${o}${n}`};var xm=e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"",q=(e,...t)=>e.reduce((a,n,o)=>`${a}${n}${xm(t[o])}`,"").trim();var Ja=(e,t)=>`
    ${e!=null?e:""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `;var en=e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,"");var $m=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Ut=e=>$m.test(e);function tn(e,t,r){let a=`${e}`;return t&&(a+="?.",Ut(t)?a+=t:a+=`['${t}']`),r&&(a+="?.",Ut(r)?a+=r:a+=`['${r}']`),a}function Sm(e,t,r){return(r!=null?r:[]).map(n=>tn(e,t,n))}var S=(e,t,r,a=' + " " + ')=>Array.isArray(r)?a?Sm(e,t,r).join(a):tn(e,t,r[0]):tn(e,t,r);var Ze=e=>{let t=e.reduce((a,[n,o,l])=>(a[o]||(a[o]=[]),a[o].includes(n)||(l?a[o].push([n,!0]):a[o].push(n)),a),{});return Object.entries(t).map(([a,n])=>{let o=n.find(c=>Array.isArray(c)&&c[1]),l=n.filter(c=>typeof c=="string"),m=o?`${o[0]}`:"",p=l.length?`{ ${l.join(", ")} }`:"";return`import ${m}${m&&p?", ":""}${p} from "${a}";`})};var rn=Q(f("pluralize")),it=(e="")=>rn.default.isSingular(e)?e:rn.default.singular(e);var an=Q(f("pluralize")),jt=(e="")=>an.default.isPlural(e)?e:an.default.plural(e);var wm=/^id$/i,zt=e=>wm.test(e);var nn=e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"";var Xe=e=>{};var ie=(e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let a=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),n=M(a).replace(/ /g,"");return`${n.charAt(0).toLowerCase()+n.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`};var vl=e=>{let t=(r,a,n,o=t)=>{let l=e.map(p=>p(r,a,n,o));return Ha(l)};return t};var gl=e=>(r,a,n,o,l)=>e.reduce((m,p)=>p(m,a,n,o,l),r);var yl=(e,t,r,a)=>{let n=Array.isArray(t),o=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(n){if(!o){let m=a(e,t[0],r,a);return m?{...m,key:e,multiple:!0,priority:1}:!1}let l=a(e,t[0],r,a)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1};var hl=(e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1;var on=Q(f("dayjs")),qm=/(_at|_on|At|On|AT|ON)(\[\])?$/,bl=(e,t)=>{let r=qm.test(e)&&(0,on.default)(t).isValid(),a=typeof t=="string"&&(0,on.default)(t).isValid();return r||a?{key:e,type:"date",priority:1}:!1};var Nm=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Cl=(e,t)=>typeof t=="string"&&Nm.test(t)?{key:e,type:"email",priority:1}:!1;var Tm=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,El=(e,t)=>typeof t=="string"&&Tm.test(t)?{key:e,type:"image",priority:2}:!1;var Pl=(e,t)=>typeof t>"u"||t===null?null:!1;var kl=(e,t)=>typeof t=="number"?{key:e,type:"number"}:!1;var Lm=/id$/i,Fl=(e,t,r,a)=>{let n=t!==null,o=!Array.isArray(t);if(n&&o&&typeof t=="object"){if(Object.keys(t).length===1&&Lm.test(Object.keys(t)[0]))return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let p=Qa(e,t);if((p?p.length>0:!1)&&p){let b=p&&Array.isArray(p)?p[0]:p,h=a(b,t[b],t,a);if(h){let u=Array.isArray(p)?p.map(g=>h.accessor?`${g}.${Array.isArray(h.accessor)?h.accessor[0]:h.accessor}`:g):h.accessor?Array.isArray(h.accessor)?`${p}.${h.accessor[0]}`:`${p}.${h.accessor}`:p;return{...h,fieldable:!0,key:e,accessor:u,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1};var Il=(e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1;var xl=(e,t)=>typeof t=="string"?{key:e,type:"text"}:!1;var Dm=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,$l=(e,t)=>typeof t=="string"&&Dm.test(t)?{key:e,type:"url",priority:1}:!1;var Sl=[yl,hl,bl,Cl,El,Pl,kl,Fl,ml,Il,xl,$l];var wl=(e,t,r,a)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let l=/^[a-z0-9-]+$/,m=u=>l.test(`${u}`),p=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!p?o:(o.multiple?a[o.key]:[a[o.key]]).every(u=>m(o.accessor?u[o.accessor]:u))?{...o,canRelation:!0}:o}return o});var Am=/(image|photo|avatar|cover|thumbnail|icon)/i,ql=e=>e.map(r=>r.type==="url"&&Am.test(r.key)?{...r,type:"image"}:r);var Nl=(e,t)=>e.map(a=>{let n=Xa(a,t);return n?{...a,relation:!0,type:"relation",resource:n}:a});var Tl=(e,t,r,a,n)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let m=l.accessor?a[l.key][l.accessor]:a[l.key],p=n(l.key,m,a,n);if(p&&p.type!=="relation")return{...l,fieldable:!0,relation:!1,type:p.type,canRelation:!0}}return l});var Ll=[ql,Nl,Tl,wl];var st=Q(f("react")),Or=Q(f("prism-react-renderer")),Dl=Q(f("prism-react-renderer/themes/vsDark")),ln=({code:e,wrapperProps:t})=>((0,st.useEffect)(()=>{var a;let r=document.createElement("style");r.appendChild(document.createTextNode(`
                #code-highlight::-webkit-scrollbar {-webkit-appearance: none; height: 7px; width: 7px;}
                #code-highlight::-webkit-scrollbar-thumb {background-color: #666b7a;}
                #code-highlight::-webkit-scrollbar-corner {background-color: rgb(30, 30, 30);}
                `)),(a=document.getElementById("code-highlight"))==null||a.appendChild(r)},[]),st.default.createElement("div",{id:"code-highlight",style:{maxHeight:"75vh",height:"100%",overflow:"auto",backgroundColor:"rgb(30, 30, 30)"},...t!=null?t:{}},st.default.createElement(Or.default,{...Or.defaultProps,theme:Dl.default,code:e,language:"tsx"},({className:r,style:a,tokens:n,getLineProps:o,getTokenProps:l})=>st.default.createElement("pre",{className:r,style:{...a,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},n.map((m,p)=>st.default.createElement("div",{key:p,...o({line:m,key:p})},m.map((c,b)=>st.default.createElement("span",{key:b,...l({token:c,key:b})}))))))));var De=Q(f("react")),Rm=Q(W()),Br=f("@aliemir/react-live");var Al=[["react","React",De.default],["@pankod/refine-core","RefineCore",Rm]],sn=De.default.createContext({}),un=({fetchError:e,code:t,additionalScope:r,errorComponent:a})=>{var m;let n=(m=t&&Ya(Za(t,[...Al,...r!=null?r:[]].reduce((p,[c,b,h,u])=>u?p:{...p,[c]:b},{}))))!=null?m:"",o=De.default.useMemo(()=>({React:De.default,...De.default,...[...Al,...r!=null?r:[]].reduce((p,[c,b,h])=>({...p,[b]:h}),{})}),[r]),l=De.default.useMemo(()=>()=>{let{error:c}=De.default.useContext(sn);return a?De.default.createElement(a,{error:c!=null?c:e?"Something went wrong while fetching the resource data.":void 0}):null},[a,e]);return De.default.createElement(Br.LiveProvider,{Context:sn,code:n,scope:o,noInline:!0},!e&&De.default.createElement(Br.LivePreview,{Context:sn}),De.default.createElement(l,null))};var Qt=Q(f("react")),Wr=Q(W());var Rl=(e,t,r)=>{let{resource:a,resourceName:n,id:o,resources:l}=(0,Wr.useResource)({resourceNameOrRouteName:t}),m=r!=null?r:o,p=(0,Wr.useDataProvider)(),[c,b]=Qt.default.useState(void 0),[h,u]=Qt.default.useState(!0),[g,y]=Qt.default.useState(!1),i=Qt.default.useCallback(async P=>{var E,s;let C=(E=dr(a))!=null?E:Va(n,void 0,l),d=p(C);y(!0);try{if(e==="list"||e==="create"){let k=await d.getList({resource:n});b((s=k.data)==null?void 0:s[0]),setTimeout(()=>{y(!1)},500)}if(e==="edit"||e==="show"&&P){let k=await d.getOne({resource:n,id:P});b(k.data),setTimeout(()=>{y(!1)},500)}}catch{setTimeout(()=>{y(!1)},500)}},[e,p,a,n,l]);return Qt.default.useEffect(()=>{u(!1),!g&&!c&&i(m)},[i,m]),{data:c,loading:g,initial:h}};var Vt=Q(f("react")),Ml=Q(W());var cn=f("lodash"),Ol=({record:e,fields:t,infer:r})=>{let a=(0,Ml.useDataProvider)(),[n,o]=Vt.default.useState([]),[l,m]=Vt.default.useState(!0),[p,c]=Vt.default.useState(!1),b=Vt.default.useCallback(async h=>{console.groupCollapsed("@pankod/refine-inferencer is trying to detect relations");let u=[];c(!0);try{let g=h.map(async i=>{if(i&&(i.relation||i.canRelation)&&e){let P=dr(i.resource),C=a(P),d=Array.isArray(i.accessor)?void 0:i.multiple?e[i.key].map(E=>i.accessor?(0,cn.get)(E,i.accessor):E)[0]:i.accessor?(0,cn.get)(e[i.key],i.accessor):e[i.key];if(d&&i.resource)try{let{data:E}=await C.getOne({resource:i.resource.name,id:d});u.push({status:"success",resource:i.resource.name,field:i.key});let s=r("__",E,{},r);return{...i,relationInfer:s}}catch{return u.push({status:"error",resource:i.resource.name,field:i.key}),{...i,relationInfer:null}}if(d){let E,s;try{let{data:F}=await C.getOne({resource:jt(we(i.key)),id:d});u.push({status:"success",resource:jt(we(i.key)),field:i.key}),E=F,s=!0}catch{u.push({status:"error",resource:jt(we(i.key)),field:i.key});try{let{data:I}=await C.getOne({resource:it(we(i.key)),id:d});u.push({status:"success",resource:it(we(i.key)),field:i.key}),E=I,s=!1}catch{return u.push({status:"error",resource:it(we(i.key)),field:i.key}),{...i,relationInfer:null}}}let k=r("__",E,{},r),v=we(i.key);return{...i,relation:!0,type:"relation",resource:{name:s?jt(v):it(v)},fieldable:!1,canRelation:void 0,relationInfer:k}}return{...i,relationInfer:null}}return i}),y=await Promise.all(g);o(y.filter(i=>i)),setTimeout(()=>{c(!1)},500)}catch{setTimeout(()=>{c(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${u.length} attempts and succeeded with ${u.filter(g=>g.status==="success").length} attempts.`),console.groupEnd()},500)},[a,e]);return Vt.default.useEffect(()=>{m(!1),!p&&t&&t.length>0&&n.length===0&&b(t)},[b,p,t,b]),{fields:n,loading:p,initial:l}};var ut=({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:a=[],renderer:n,loadingComponent:o,errorComponent:l,codeViewerComponent:m})=>{let p=vl([...Sl,...r]),c=gl([...Ll,...a]),b=({resourceName:u,fieldTransformer:g,id:y})=>{var x;let{resource:i,resources:P}=(0,dn.useResource)({resourceNameOrRouteName:u}),{resource:C}=(0,dn.useResource)(),{data:d,loading:E,initial:s}=Rl(e,u!=null?u:i==null?void 0:i.name,y),k=Ue.default.useMemo(()=>{if(d){let $=Object.keys(d).map(D=>{let A=d[D];return p(D,A,d,p)}).filter(Boolean),T=c($,P,i,d,p);return g?T.flatMap(D=>{let A=g(D);return A?[A]:[]}):T}return[]},[d,P,i,g]),{fields:v,loading:F}=Ol({record:d,fields:k,infer:p}),I=Ue.default.useMemo(()=>!E&&!F&&!s?n({resource:i,resources:P,fields:v,infer:p,isCustomPage:i.name!==C.name,id:y}):"",[i,P,v,E,F]);return Ue.default.createElement(Ue.default.Fragment,null,o&&(E||F)&&Ue.default.createElement(o,null),!E&&!F&&Ue.default.createElement(Ue.default.Fragment,null,Ue.default.createElement(un,{fetchError:!E&&!s&&!d,code:Ja(I,We((x=i.label)!=null?x:i.name,e)),errorComponent:l,additionalScope:t}),m&&Ue.default.createElement(m,{code:en(I),loading:E||F})))};return({name:u,resource:g,fieldTransformer:y,id:i})=>Ue.default.createElement(b,{fieldTransformer:y,resourceName:g!=null?g:u,key:g!=null?g:u,id:i})};var Ur=Q(f("react")),Ht=Q(lt()),ct=({error:e})=>e?Ur.default.createElement(Ht.Row,{justify:"center",align:"middle",style:{minHeight:"200px"}},Ur.default.createElement(Ht.Col,null,Ur.default.createElement(Ht.Alert,{message:"Error",description:e!=null?e:"",type:"error",showIcon:!0}))):null;var jr=Q(f("react")),Kt=Q(lt()),dt=()=>jr.default.createElement(Kt.Row,{justify:"center",align:"middle",style:{minHeight:"300px"}},jr.default.createElement(Kt.Col,null,jr.default.createElement(Kt.Spin,{size:"large"})));var ae=Q(f("react")),Pe=Q(lt());var mt=({code:e,loading:t})=>{let r=ae.default.useMemo(()=>Ka(e!=null?e:""),[e]),a=ae.default.useRef(null),[n,o]=ae.default.useState(!1),[l,m]=ae.default.useState(!1);if(t)return null;let p=()=>{var c,b,h,u;(c=a==null?void 0:a.current)==null||c.select(),(b=a==null?void 0:a.current)==null||b.setSelectionRange(0,Number.MAX_SAFE_INTEGER),typeof navigator<"u"&&(navigator.clipboard.writeText((u=(h=a==null?void 0:a.current)==null?void 0:h.value)!=null?u:""),m(!0),setTimeout(()=>{m(!1)},1e3))};return r?ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("div",{style:{position:"fixed",bottom:12,right:60}},ae.default.createElement(Pe.Space,null,ae.default.createElement(Pe.Button,{type:"primary",onClick:()=>o(!0),icon:ae.default.createElement(Pe.Icons.CodeOutlined,null)},"Show Code"),ae.default.createElement(Pe.Button,{type:"default",target:"_blank",href:"https://github.com/refinedev/refine/discussions/3046",icon:ae.default.createElement(Pe.Icons.MessageOutlined,null)},"Give Feedback"))),ae.default.createElement("div",{style:{height:"50px"}}),ae.default.createElement(Pe.Modal,{width:800,visible:n,onCancel:()=>o(!1),closeIcon:ae.default.createElement(Pe.Icons.CloseOutlined,{style:{color:"#666b7a"}}),footer:null,bodyStyle:{padding:0}},ae.default.createElement(ln,{code:r}),ae.default.createElement("textarea",{ref:a,defaultValue:(r!=null?r:"").replace(/\\n/g,`\r
`),id:"code-input","aria-hidden":"true",style:{padding:0,margin:0,width:0,height:0,opacity:0,border:"none",display:"block"}}),ae.default.createElement(Pe.Button,{style:{position:"absolute",bottom:12,right:12,width:100},key:"copy",type:"default",icon:l?ae.default.createElement(Pe.Icons.CheckOutlined,{style:{color:"green"}}):ae.default.createElement(Pe.Icons.CopyOutlined,null),onClick:p},l?"Copied":"Copy"))):null};var mn=ut({type:"show",additionalScope:[["@pankod/refine-antd","RefineAntd",Mm]],codeViewerComponent:mt,loadingComponent:dt,errorComponent:ct,renderer:({resource:e,fields:t,isCustomPage:r,id:a})=>{var E;let n=We((E=e.label)!=null?E:e.name,"show"),o="record",l=[["React","react",!0],["IResourceComponentsProps","@pankod/refine-core"],["useShow","@pankod/refine-core"],["Show","@pankod/refine-antd"],["Typography","@pankod/refine-antd"]],p=t.filter(s=>(s==null?void 0:s.relation)&&!(s!=null&&s.fieldable)&&(s==null?void 0:s.resource)).filter(Boolean).map(s=>{if((s==null?void 0:s.relation)&&!s.fieldable&&s.resource){if(s.multiple){l.push(["useMany","@pankod/refine-core"]);let k=S(o,s.key);return s.accessor&&(k=`${S(o,s.key)}?.map((item: any) => ${S("item",void 0,s.accessor)})`),`
                    const { data: ${ie(s.key,"Data")}, isLoading: ${ie(s.key,"IsLoading")} } =
                    useMany({
                        resource: "${s.resource.name}",
                        ids: ${k} || [],
                        queryOptions: {
                            enabled: !!${o},
                        },
                    });
                    `}return l.push(["useOne","@pankod/refine-core"]),`
                    const { data: ${ie(s.key,"Data")}, isLoading: ${ie(s.key,"IsLoading")} } =
                    useOne({
                        resource: "${s.resource.name}",
                        id: ${S(o,s.key,s.accessor,!1)} || "",
                        queryOptions: {
                            enabled: !!${o},
                        },
                    });
                `}}).filter(Boolean),c=s=>{if(s.relation&&s.resource){let k=ie(s.key,"Data"),v=ie(s.key,"IsLoading");return s.multiple?(l.push(["TagField","@pankod/refine-antd"]),q`
                    <Title level={5}>${M(s.key)}</Title>
                    {${v} ? <>Loading...</> : (
                        <>
                        ${(()=>{var F,I;if(s.relationInfer)if((F=s.relationInfer)!=null&&F.accessor){if(Array.isArray(s.relationInfer.accessor))return"Not Handled.";{let x=it((I=s.resource)==null?void 0:I.name),$=S(x,void 0,s.relationInfer.accessor);return`{${k}?.data?.map((${x}: any) => <TagField key={${$}} value={${$}} />)}`}}else return;else return})()}
                        </>
                    )}
                    `):q`
                    <Title level={5}>${M(s.key)}</Title>
                    {${v} ? <>Loading...</> : (
                        <>
                        ${(()=>{var F;return s.relationInfer?(F=s.relationInfer)!=null&&F.accessor?Array.isArray(s.relationInfer.accessor)?`{${S(`${k}?.data`,void 0,s.relationInfer.accessor,' + " " + ')}}`:`{${k}?.data?.${s.relationInfer.accessor}}`:`{${k}?.data}`:`{${k}?.data?.id}`})()}
                        </>
                    )}
                    
                    `}},b=s=>{if(s.type==="text"){if(l.push(["TagField","@pankod/refine-antd"],["TextField","@pankod/refine-antd"]),s.multiple){let k=S("item",void 0,s.accessor);return q`
                    <Title level={5}>${M(s.key)}</Title>
                    {${S(o,s.key)}?.map((item: any) => (
                        <TagField value={${k}} key={${k}} />
                    ))}
                `}return q`
                    <Title level={5}>${M(s.key)}</Title>
                    <TextField value={${S(o,s.key,s.accessor)}} />
                `}},h=s=>{if(s.type==="image"){if(l.push(["ImageField","@pankod/refine-antd"]),s.multiple){let k=S("item",void 0,s.accessor);return q`
                    <Title level={5}>${M(s.key)}</Title>
                    {${S(o,s.key)}?.map((item: any) => (
                        <ImageField style={{ maxWidth: 200 }} value={${k}} key={${k}} />
                    ))}
                `}return q`
                    <Title level={5}>${M(s.key)}</Title>
                    <ImageField style={{ maxWidth: 200 }} value={${S(o,s.key,s.accessor," + ")}} />
                    `}},u=s=>{if(s.type==="email"){if(l.push(["TagField","@pankod/refine-antd"],["EmailField","@pankod/refine-antd"]),s.multiple){let k=S("item",void 0,s.accessor);return q`
                    <Title level={5}>${M(s.key)}</Title>
                    <>
                    {${S(o,s.key)}?.map((item: any) => (
                        <TagField value={${k}} key={${k}} />
                    ))}
                    </>
                `}return q`
                    <Title level={5}>${M(s.key)}</Title>
                    <EmailField value={${S(o,s.key,s.accessor," + ")}} />
                `}},g=s=>{if(s.type==="url"){if(l.push(["TagField","@pankod/refine-antd"],["UrlField","@pankod/refine-antd"]),s.multiple){let k=S("item",void 0,s.accessor);return q`
                    <Title level={5}>${M(s.key)}</Title>
                    {${S(o,s.key)}?.map((item: any) => (
                        <TagField value={${k}} key={${k}} />
                    ))}
                `}return q`
                    <Title level={5}>${M(s.key)}</Title>
                    <UrlField value={${S(o,s.key,s.accessor," + ")}} />
                `}},y=s=>{if(s.type==="boolean"){if(l.push(["TagField","@pankod/refine-antd"],["BooleanField","@pankod/refine-antd"]),s.multiple){let k=S("item",void 0,s.accessor);return q`
                    <Title level={5}>${M(s.key)}</Title>
                    {(${S(o,s.key)} as any[])?.map((item, index) => (
                        <BooleanField value={${k}} key={index} />
                    ))}
                `}return q`
                    <Title level={5}>${M(s.key)}</Title>
                    <BooleanField value={${S(o,s.key,s.accessor," && ")}} />
                `}},i=s=>{if(s.type==="date"){if(l.push(["DateField","@pankod/refine-antd"]),s.multiple){let k=S("item",void 0,s.accessor);return q`
                    <Title level={5}>${M(s.key)}</Title>
                    {${S(o,s.key)}?.map((item: any) => (
                        <DateField value={${k}} key={${k}} />
                    ))}
                `}return q`
                    <Title level={5}>${M(s.key)}</Title>
                    <DateField value={${S(o,s.key,s.accessor," + ' ' + ")}} />
                `}},P=s=>{if(s.type==="richtext")return l.push(["MarkdownField","@pankod/refine-antd"]),q`
                    <Title level={5}>${M(s.key)}</Title>
                    <MarkdownField value={${S(o,s.key,s.accessor,' + " " + ')}} />
                `},C=s=>{if(s.type==="number"){if(l.push(["NumberField","@pankod/refine-antd"]),s.multiple){let k=S("item",void 0,s.accessor);return q`
                    <Title level={5}>${M(s.key)}</Title>
                    {${S(o,s.key)}?.map((item: any) => (
                        <TagField value={${k}} key={${k}} />
                    ))}
                `}return q`
                    <Title level={5}>${M(s.key)}</Title>
                    <NumberField value={${S(o,s.key,s.accessor,' + " " + ')} ?? ""} />
                `}},d=t.map(s=>{switch(s==null?void 0:s.type){case"text":return b(s);case"number":return C(s);case"richtext":return P(s);case"email":return u(s);case"image":return h(s);case"date":return i(s);case"boolean":return y(s);case"url":return g(s);case"relation":return c(s);default:return}});return Xe(l),q`
        ${Ze(l)}
        
        const { Title } = Typography;

        export const ${n}: React.FC<IResourceComponentsProps> = () => {
            const { queryResult } = useShow(${r?`{ 
                        resource: "${e.name}", 
                        id: ${a}
                    }`:""});
            const { data, isLoading } = queryResult;
        
            const ${o} = data?.data;

            ${p}

            return (
                <Show isLoading={isLoading}>
                    ${d.join("")}
                </Show>
            );
        };
        `}});var Om=Q(lt());var pn=ut({type:"list",additionalScope:[["@pankod/refine-antd","RefineAntd",Om]],codeViewerComponent:mt,loadingComponent:dt,errorComponent:ct,renderer:({resource:e,fields:t,isCustomPage:r})=>{var k;let a=We((k=e.label)!=null?k:e.name,"list"),n="tableProps?.dataSource",o=[["React","react",!0],["IResourceComponentsProps","@pankod/refine-core"],["BaseRecord","@pankod/refine-core"],["useTable","@pankod/refine-antd"],["List","@pankod/refine-antd"],["Table","@pankod/refine-antd"],["Space","@pankod/refine-antd"]],m=t.filter(v=>(v==null?void 0:v.relation)&&!(v!=null&&v.fieldable)&&(v==null?void 0:v.resource)).filter(Boolean).map(v=>{if((v==null?void 0:v.relation)&&!v.fieldable&&v.resource){o.push(["useMany","@pankod/refine-core"]);let F="";return v.multiple?F=`[].concat(...(${n}?.map((item) => ${S("item",v.key,v.accessor,!1)}) ?? []))`:F=`${n}?.map((item) => ${S("item",v.key,v.accessor,!1)}) ?? []`,`
                    const { data: ${ie(v.key,"Data")}, isLoading: ${ie(v.key,"IsLoading")} } =
                    useMany({
                        resource: "${v.resource.name}",
                        ids: ${F},
                        queryOptions: {
                            enabled: !!${n},
                        },
                    });
                    `}}).filter(Boolean),p=v=>{var F,I;if(v.relation&&v.resource){let $=`${ie(v.key,"Data")}?.data`,T=ie(v.key,"IsLoading");if(Array.isArray(v.accessor))return;let B=`${T} ? <>Loading...</> : `,D=v.multiple?`dataIndex="${v.key}"`:`dataIndex={["${v.key}", ${v.accessor?`"${v.accessor}"`:""}]}`,A=`title="${M(v.key)}"`,R="";if(v.multiple){o.push(["TagField","@pankod/refine-antd"]);let O="item";if(v!=null&&v.relationInfer){let U=`${$}?.find((resourceItems) => resourceItems.id === ${S("item",void 0,v.accessor)})`;O=S(U,void 0,(F=v==null?void 0:v.relationInfer)==null?void 0:F.accessor)}R=`render={(value: any[]) => ${B} (
                        <>
                            {${S("value",void 0)}?.map((item, index) => (
                                <TagField key={index} value={${O}} />
                            ))}
                        </>
                    )}`}else if(v!=null&&v.relationInfer){let O=`${$}?.find((item) => item.id === value)`,U=S(O,void 0,(I=v==null?void 0:v.relationInfer)==null?void 0:I.accessor);R=`render={(value) => ${B} ${U}}`}else R="";return q`<Table.Column ${D} ${A} ${R} />`}},c=v=>{if(v.type==="image"){o.push(["ImageField","@pankod/refine-antd"]);let F=Array.isArray(v.accessor)||v.multiple?`dataIndex="${v.key}"`:`dataIndex={["${v.key}", ${v.accessor?`"${v.accessor}"`:""}]}`,I=`title="${M(v.key)}"`,x=q`render={(value: any) => <ImageField style={{ maxWidth: "100px" }} value={${S("value",void 0,Array.isArray(v.accessor)?v.accessor:void 0," + ")}} />}`;if(v.multiple){let $=S("item",void 0,v.accessor," + ");x=q`render={(value: any[]) => (<>{value?.map((item, index) => (
                        <ImageField style={{ maxWidth: "100px" }} value={${$}} key={index} />
                    ))}</>)}`}return q`<Table.Column ${F} ${I} ${x} />`}},b=v=>{if(v.type==="email"){o.push(["TagField","@pankod/refine-antd"],["EmailField","@pankod/refine-antd"]);let F=Array.isArray(v.accessor)||v.multiple?`dataIndex="${v.key}"`:`dataIndex={["${v.key}", ${v.accessor?`"${v.accessor}"`:""}]}`,I=`title="${M(v.key)}"`,x=q`render={(value: any) => <EmailField value={${S("value",void 0,Array.isArray(v.accessor)?v.accessor:void 0,' + " " + ')}} />}`;if(v.multiple){let $=S("item",void 0,v.accessor,' + " " + ');x=q`render={(value: any[]) => (<>{value?.map((item, index) => (
                        <TagField value={${$}} key={index} />
                    ))}</>)}`}return q`<Table.Column ${F} ${I} ${x} />`}},h=v=>{if(v.type==="url"){o.push(["UrlField","@pankod/refine-antd"],["TagField","@pankod/refine-antd"]);let F=Array.isArray(v.accessor)||v.multiple?`dataIndex="${v.key}"`:`dataIndex={["${v.key}", ${v.accessor?`"${v.accessor}"`:""}]}`,I=`title="${M(v.key)}"`,x=q`render={(value: any) => <UrlField value={${S("value",void 0,Array.isArray(v.accessor)?v.accessor:void 0," + ")}} />}`;if(v.multiple){let $=S("item",void 0,v.accessor," + ");x=q`render={(value: any[]) => (<>{value?.map((item, index) => (
                        <TagField value={${$}} key={index} />
                    ))}</>)}`}return q`<Table.Column ${F} ${I} ${x} />`}},u=v=>{if((v==null?void 0:v.type)==="boolean"){o.push(["BooleanField","@pankod/refine-antd"]);let F=Array.isArray(v.accessor)||v.multiple?`dataIndex="${v.key}"`:`dataIndex={["${v.key}", ${v.accessor?`"${v.accessor}"`:""}]}`,I=`title="${M(v.key)}"`,x=q`render={(value: any) => <BooleanField value={${S("value",void 0,Array.isArray(v.accessor)?v.accessor:void 0," && ")}} />}`;if(v.multiple){let $=S("item",void 0,v.accessor," && ");x=q`render={(value: any[]) => (<>{value?.map((item, index) => (
                        <BooleanField value={${$}} key={index} />
                    ))}</>)}`}return q`<Table.Column ${F} ${I} ${x} />`}},g=v=>{if(v.type==="date"){o.push(["DateField","@pankod/refine-antd"]);let F=Array.isArray(v.accessor)||v.multiple?`dataIndex="${v.key}"`:`dataIndex={["${v.key}", ${v.accessor?`"${v.accessor}"`:""}]}`,I=`title="${M(v.key)}"`,x=q`render={(value: any) => <DateField value={${S("value",void 0,Array.isArray(v.accessor)?v.accessor:void 0,' + " " + ')}} />}`;if(v.multiple){let $=S("item",void 0,v.accessor,' + " " + ');x=q`render={(value: any[]) => (<>{value?.map((item, index) => (
                        <DateField value={${$}} key={index} />
                    ))}</>)}`}return q`<Table.Column ${F} ${I} ${x} />`}},y=v=>{if((v==null?void 0:v.type)==="richtext"){o.push(["MarkdownField","@pankod/refine-antd"]);let F=Array.isArray(v.accessor)||v.multiple?`dataIndex="${v.key}"`:v.accessor?`dataIndex={["${v.key}", "${v.accessor}"]}`:`dataIndex="${v.key}"`,I=`title="${M(v.key)}"`,x=q`render={(value: any) => <MarkdownField value={(${S("value",void 0,Array.isArray(v.accessor)?v.accessor:void 0)}).slice(0, 80) + "..."} />}`;if(v.multiple){let $=S("item",void 0,v.accessor,' + " " + ');x=q`render={(value: any[]) => (<>{value?.map((item, index) => (
                        <MarkdownField value={(${$})?.slice(0, 80) + "..."} key={index} />
                    ))}</>)}`}return q`<Table.Column ${F} ${I} ${x} />`}},i=v=>{if(v&&(v.type==="text"||v.type==="number")){let F=v.accessor&&!Array.isArray(v.accessor)&&!v.multiple?`dataIndex={["${v.key}", "${v.accessor}"]}`:`dataIndex="${v.key}"`,I=`title="${M(v.key)}"`,x="";if(v.multiple){o.push(["TagField","@pankod/refine-antd"]);let $=S("item",void 0,v.accessor,' + " " + ');x=`render={(value: any[]) => (<>{value?.map((item) => (
                        <TagField value={${$}} key={${$}} />
                    ))}</>)}`}return!v.multiple&&Array.isArray(v.accessor)&&(x=`render={(value: any) => (<>{${S("value",void 0,v.accessor)}}</>)}`),`<Table.Column ${F} ${I} ${x} />`}},{canEdit:P,canShow:C,canDelete:d}=e!=null?e:{};P&&o.push(["EditButton","@pankod/refine-antd"]),C&&o.push(["ShowButton","@pankod/refine-antd"]),d&&o.push(["DeleteButton","@pankod/refine-antd"]);let E=P||C||d?q`
                <Table.Column
                    title="Actions"
                    dataIndex="actions"
                    render={(_, record: BaseRecord) => (
                        <Space>
                        ${P?q`
                            <EditButton
                                hideText
                                size="small"
                                recordItemId={record.id}
                            />
                            `:""}
                        ${C?q`
                            <ShowButton
                                hideText
                                size="small"
                                recordItemId={record.id}
                            />
                            `:""}
                        ${d?q`
                            <DeleteButton
                                hideText
                                size="small"
                                recordItemId={record.id}
                            />
                            `:""}
                        </Space>
                    )}
                />
            `:"",s=t.map(v=>{switch(v==null?void 0:v.type){case"text":case"number":return i(v);case"richtext":return y(v);case"email":return b(v);case"image":return c(v);case"date":return g(v);case"boolean":return u(v);case"url":return h(v);case"relation":return p(v);default:return}});return Xe(o),q`
        ${Ze(o)}
        
        export const ${a}: React.FC<IResourceComponentsProps> = () => {
            const { tableProps } = useTable({
                syncWithLocation: true,
                ${r?` resource: "${e.name}",`:""}
            });
        
            ${m}

            return (
                <List>
                    <Table {...tableProps} rowKey="id">
                        ${s.join(`\r
`)}
                        ${E}
                    </Table>
                </List>
            );
        };
        `}});var Bm=Q(lt()),Bl=Q(f("dayjs"));var fn=ut({type:"create",additionalScope:[["@pankod/refine-antd","RefineAntd",Bm],["dayjs","dayjs",Bl.default,!0]],codeViewerComponent:mt,loadingComponent:dt,errorComponent:ct,renderer:({resource:e,fields:t,isCustomPage:r})=>{var y;let a=We((y=e.label)!=null?y:e.name,"create"),n=[["React","react",!0],["IResourceComponentsProps","@pankod/refine-core"],["Create","@pankod/refine-antd"],["Form","@pankod/refine-antd"],["useForm","@pankod/refine-antd"],["Input","@pankod/refine-antd"]],l=t.filter(i=>(i==null?void 0:i.relation)&&!(i!=null&&i.fieldable)&&(i==null?void 0:i.resource)).filter(Boolean).map(i=>{if((i==null?void 0:i.relation)&&!i.fieldable&&i.resource)return n.push(["useSelect","@pankod/refine-antd"]),`
                    const { selectProps: ${ie(i.key,"SelectProps")} } =
                    useSelect({
                        resource: "${i.resource.name}",
                        ${nn(i)}
                    });
                `}).filter(Boolean),m=i=>{if(i.relation&&i.resource){n.push(["Select","@pankod/refine-antd"]);let P=ie(i.key,"SelectProps"),C=i.accessor?i.multiple?`"${i.key}"`:`["${i.key}", "${i.accessor}"]`:`"${i.key}"`,d="",E="";return i.accessor&&i.multiple&&(E=`getValueFromEvent={(selected: string[]) => {
                        return selected?.map((item) => ({ ${Ut(`${i.accessor}`)?i.accessor:`["${i.accessor}"]`}: item }));
                    }}`,d=`getValueProps={(value: any[]) => {
                        return {
                            value: value?.map((item) => ${S("item",void 0,i.accessor)}),
                        };
                    }}`),q`
                    <Form.Item
                        label="${M(i.key)}"
                        name={${C}}
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                        ${d}
                        ${E}
                    >
                        <Select ${i.multiple?'mode="multiple"':""} {...${P}} />
                    </Form.Item>             
                    `}},p=i=>{if(i.type==="text"||i.type==="url"||i.type==="email"||i.type==="number")return zt(i.key)||i.multiple?void 0:q`
                    <Form.Item
                        label="${M(i.key)}"
                        name={["${i.key}"${i.accessor?', "'+i.accessor+'"':""}]}
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                    >
                        <Input  />
                    </Form.Item>
                `},c=i=>{if(i.type==="image"){n.push(["Upload","@pankod/refine-antd"],["getValueFromEvent","@pankod/refine-antd"]);let P='valuePropName="fileList"';return i.multiple&&!i.accessor&&(P="getValueProps={(value) => ({ fileList: value?.map((item: any) => ({ url: item, name: item, uid: item }))})}"),i.multiple||(i.accessor?P="getValueProps={(value) => ({ fileList: value ? [value] : [] })}":P="getValueProps={(value) => ({ fileList: [{ url: value, name: value, uid: value }]})}"),q`
                    <Form.Item label="${M(i.key)}">
                        <Form.Item
                            name="${i.key}"
                            ${P}
                            getValueFromEvent={getValueFromEvent}
                            noStyle
                            rules={[
                                {
                                    required: true,
                                },
                            ]}
                        >
                            <Upload.Dragger
                                listType="picture"
                                ${i.multiple?"multiple":""}
                                beforeUpload={() => false}
                            >
                                <p className="ant-upload-text">
                                    Drag & drop a file in this area
                                </p>
                            </Upload.Dragger>
                        </Form.Item>
                    </Form.Item>
                    `}},b=i=>{if(i.type==="boolean")return n.push(["Checkbox","@pankod/refine-antd"]),i.multiple?void 0:q`
                    <Form.Item
                        label="${M(i.key)}"
                        valuePropName="checked"
                        name={["${i.key}"${i.accessor?', "'+i.accessor+'"':""}]}
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                    >
                        <Checkbox>${M(i.key)}</Checkbox>
                    </Form.Item>
                `},h=i=>{if(i.type==="date")return n.push(["DatePicker","@pankod/refine-antd"],["dayjs","dayjs",!0]),i.multiple?void 0:q`
                    <Form.Item
                        label="${M(i.key)}"
                        name={["${i.key}"${i.accessor?', "'+i.accessor+'"':""}]}
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                        getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                    >
                        <DatePicker />
                    </Form.Item>
                `},u=i=>{if(i.type==="richtext")return q`
                <Form.Item
                    label="${M(i.key)}"
                    name="${i.key}"
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Input.TextArea rows={5} />
                </Form.Item>
                `},g=t.map(i=>{switch(i==null?void 0:i.type){case"text":case"number":case"email":case"url":return p(i);case"richtext":return u(i);case"image":return c(i);case"date":return h(i);case"boolean":return b(i);case"relation":return m(i);default:return}});return Xe(n),q`
        ${Ze(n)}
        
        export const ${a}: React.FC<IResourceComponentsProps> = () => {
            const { formProps, saveButtonProps, queryResult } = useForm(${r?`{
                          resource: "${e.name}",
                          action: "create",
                      }`:""});
        
            ${l}

            return (
                <Create saveButtonProps={saveButtonProps}>
                    <Form {...formProps} layout="vertical">
                        ${g.join("")}
                    </Form>
                </Create>
            );
        };
        `}});var Wm=Q(lt()),Wl=Q(f("dayjs"));var vn=ut({type:"edit",additionalScope:[["@pankod/refine-antd","RefineAntd",Wm],["dayjs","dayjs",Wl.default,!0]],codeViewerComponent:mt,loadingComponent:dt,errorComponent:ct,renderer:({resource:e,fields:t,isCustomPage:r,id:a})=>{var P,C;let n=We((P=e.label)!=null?P:e.name,"edit"),o=ie((C=e.label)!=null?C:e.name,"Data"),l=[["React","react",!0],["IResourceComponentsProps","@pankod/refine-core"],["Edit","@pankod/refine-antd"],["Form","@pankod/refine-antd"],["useForm","@pankod/refine-antd"],["Input","@pankod/refine-antd"]],p=t.filter(d=>(d==null?void 0:d.relation)&&!(d!=null&&d.fieldable)&&(d==null?void 0:d.resource)).filter(Boolean).map(d=>{if((d==null?void 0:d.relation)&&!d.fieldable&&d.resource){l.push(["useSelect","@pankod/refine-antd"]);let E=S(o,d.key,d.accessor,!1);return d.multiple&&d.accessor&&(E=`${S(o,d.key)}?.map((item: any) => ${S("item",void 0,d.accessor)})`),`
                    const { selectProps: ${ie(d.key,"SelectProps")} } =
                    useSelect({
                        resource: "${d.resource.name}",
                        defaultValue: ${E},
                        ${d.relationInfer&&d.relationInfer.accessor?typeof d.relationInfer.accessor=="string"?d.relationInfer.accessor!=="title"?`optionLabel: "${d.relationInfer.accessor}",`:"":`optionLabel: "${d.relationInfer.accessor[0]}",`:""}
                    });
                `}}).filter(Boolean),c=d=>{if(d.relation&&d.resource){l.push(["Select","@pankod/refine-antd"]);let E=ie(d.key,"SelectProps"),s=d.accessor?d.multiple?`"${d.key}"`:`["${d.key}", "${d.accessor}"]`:`"${d.key}"`,k="",v="";return d.accessor&&d.multiple&&(v=`getValueFromEvent={(selected: string[]) => {
                        return selected?.map((item) => ({ ${Ut(`${d.accessor}`)?d.accessor:`["${d.accessor}"]`}: item }));
                    }}`,k=`getValueProps={(value: any[]) => {
                        return {
                            value: value?.map((item) => ${S("item",void 0,d.accessor)}),
                        };
                    }}`),q`
                    <Form.Item
                        label="${M(d.key)}"
                        name={${s}}
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                        ${k}
                        ${v}
                    >
                        <Select ${d.multiple?'mode="multiple"':""} {...${E}} />
                    </Form.Item>             
                    `}},b=d=>{if(d.type==="text"||d.type==="url"||d.type==="email"||d.type==="number"){if(d.multiple){let E=S(d.key,"index",d.accessor).split("?.").map(s=>`"${s}"`).join(", ").replace(/"index"/,"index");return`
                        <>
                            {(${S(o,d.key)} as any[])?.map((item, index) => (
                                <Form.Item
                                    key={index}
                                    label={\`${M(d.key)} \${index+1}\`}
                                    name={[${E}]}
                                >
                                    <Input
                                        type="${d.type}"
                                    ${zt(d.key)?"readOnly disabled":""} />
                                </Form.Item>
                            ))}
                        </>
                    `}return q`
                    <Form.Item
                        label="${M(d.key)}"
                        name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                    >
                        <Input ${zt(d.key)?"readOnly disabled":""} />
                    </Form.Item>
                `}},h=d=>{if(d.type==="image"){l.push(["Upload","@pankod/refine-antd"],["getValueFromEvent","@pankod/refine-antd"]);let E='valuePropName="fileList"';return d.multiple&&!d.accessor&&(E="getValueProps={(value) => ({ fileList: value?.map((item: any) => ({ url: item, name: item, uid: item }))})}"),d.multiple||(d.accessor?E="getValueProps={(value) => ({ fileList: value ? [value] : [] })}":E="getValueProps={(value) => ({ fileList: [{ url: value, name: value, uid: value }]})}"),q`
                    <Form.Item label="${M(d.key)}">
                        <Form.Item
                            name="${d.key}"
                            ${E}
                            getValueFromEvent={getValueFromEvent}
                            noStyle
                            rules={[
                                {
                                    required: true,
                                },
                            ]}
                        >
                            <Upload.Dragger
                                listType="picture"
                                ${d.multiple?"multiple":""}
                                beforeUpload={() => false}
                            >
                                <p className="ant-upload-text">
                                    Drag & drop a file in this area
                                </p>
                            </Upload.Dragger>
                        </Form.Item>
                    </Form.Item>
                    `}},u=d=>{if(d.type==="boolean"){if(l.push(["Checkbox","@pankod/refine-antd"]),d.multiple){let E=S(d.key,"index",d.accessor).split("?.").map(s=>`"${s}"`).join(", ").replace(/"index"/,"index");return`
                        <>
                            {(${S(o,d.key)} as any[])?.map((item, index) => (
                                <Form.Item
                                    key={index}
                                    valuePropName="checked"
                                    label={\`${M(d.key)} \${index+1}\`}
                                    name={[${E}]}
                                >
                                    <Checkbox>${M(d.key)}</Checkbox>
                                </Form.Item>
                            ))}
                        </>
                    `}return q`
                    <Form.Item
                        label="${M(d.key)}"
                        valuePropName="checked"
                        name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                    >
                        <Checkbox>${M(d.key)}</Checkbox>
                    </Form.Item>
                `}},g=d=>{if(d.type==="date"){if(l.push(["DatePicker","@pankod/refine-antd"],["dayjs","dayjs",!0]),d.multiple){let E=S(d.key,"index",d.accessor).split("?.").map(s=>`"${s}"`).join(", ").replace(/"index"/,"index");return q`
                        <>
                            {(${S(o,d.key)} as any[])?.map((item, index) => (
                                <Form.Item
                                    key={index}
                                    label={\`${M(d.key)} \${index+1}\`}
                                    name={[${E}]}
                                    getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                                >
                                    <DatePicker />
                                </Form.Item>
                            ))}
                        </>
                    `}return q`
                    <Form.Item
                        label="${M(d.key)}"
                        name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                        getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                    >
                        <DatePicker />
                    </Form.Item>
                `}},y=d=>{if(d.type==="richtext")return q`
                <Form.Item
                    label="${M(d.key)}"
                    name="${d.key}"
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Input.TextArea rows={5} />
                </Form.Item>
                `},i=t.map(d=>{switch(d==null?void 0:d.type){case"text":case"number":case"email":case"url":return b(d);case"richtext":return y(d);case"image":return h(d);case"date":return g(d);case"boolean":return u(d);case"relation":return c(d);default:return}});return Xe(l),q`
        ${Ze(l)}
        
        export const ${n}: React.FC<IResourceComponentsProps> = () => {
            const { formProps, saveButtonProps, queryResult } = useForm(${r?`{
                          resource: "${e.name}",
                          id: ${a},
                          action: "edit",
                      }`:""});
        
            const ${o} = queryResult?.data?.data;
        
            ${p}

            return (
                <Edit saveButtonProps={saveButtonProps}>
                    <Form {...formProps} layout="vertical">
                        ${i.join("")}
                    </Form>
                </Edit>
            );
        };
        `}});var Uv=({action:e,id:t,...r})=>{let{useParams:a}=(0,Ul.useRouterContext)(),{action:n,id:o}=a();switch(e!=null?e:n){case"show":return pr.default.createElement(mn,{...r,id:t!=null?t:o});case"create":return pr.default.createElement(fn,{...r,id:t!=null?t:o});case"edit":return pr.default.createElement(vn,{...r,id:t!=null?t:o});default:return pr.default.createElement(pn,{...r,id:t!=null?t:o})}};})();
//# sourceMappingURL=antd.js.map